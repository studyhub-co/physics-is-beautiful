{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/sandbox/eval/transpilers/vue/style-loader/addStylesClient.js","webpack:///./src/sandbox/eval/transpilers/vue/style-loader/listToStyles.js","webpack:///./src/sandbox/status-screen/loading-screen.html","webpack:///./src/sandbox/status-screen/run-on-click-screen.html","webpack:///./src/sandbox/eval/transpilers/babel/worker/index.js","webpack:///./src/sandbox/eval/transpilers/coffee/coffee-worker.js","webpack:///./src/sandbox/eval/transpilers/less/less-worker.js","webpack:///./src/sandbox/eval/presets/parcel/transpilers/html-worker.js","webpack:///./src/sandbox/eval/transpilers/pug/pug-worker.js","webpack:///./src/sandbox/eval/transpilers/sass/worker/index.js","webpack:///./src/sandbox/eval/transpilers/stylus/stylus-worker.js","webpack:///./src/sandbox/eval/transpilers/svelte/svelte-worker.js","webpack:///./src/sandbox/eval/transpilers/typescript/typescript-worker.js","webpack:///C:/work/upwork/pib/codesandbox-client/standalone-packages/codesandbox-browserfs/dist/shims/buffer.js","webpack:///C:/work/upwork/pib/codesandbox-client/standalone-packages/codesandbox-browserfs/dist/shims/fs.js","webpack:///../codesandbox-api/dist/codesandbox.es5.js","webpack:///../common/lib/detect-old-browser.js","webpack:///../common/lib/forked-vendors/jsonlint.browser.js","webpack:///../common/lib/load-dynamic-polyfills.js","webpack:///../common/lib/prettify-default-config.js","webpack:///../common/lib/registerServiceWorker.js","webpack:///../common/lib/sandbox/modules.js","webpack:///../common/lib/templates/adonis.js","webpack:///../common/lib/templates/angular.js","webpack:///../common/lib/templates/apollo-server.js","webpack:///../common/lib/templates/babel.js","webpack:///../common/lib/templates/configuration/angular-cli/index.js","webpack:///../common/lib/templates/configuration/angular-json/index.js","webpack:///../common/lib/templates/configuration/babel-transpiler/index.js","webpack:///../common/lib/templates/configuration/babelrc/index.js","webpack:///../common/lib/templates/configuration/custom-codesandbox/index.js","webpack:///../common/lib/templates/configuration/index.js","webpack:///../common/lib/templates/configuration/jsconfig/index.js","webpack:///../common/lib/templates/configuration/netlify/index.js","webpack:///../common/lib/templates/configuration/now/index.js","webpack:///../common/lib/templates/configuration/package-json/index.js","webpack:///../common/lib/templates/configuration/parse.js","webpack:///../common/lib/templates/configuration/prettierRC/index.js","webpack:///../common/lib/templates/configuration/sandbox/index.js","webpack:///../common/lib/templates/configuration/tsconfig/index.js","webpack:///../common/lib/templates/custom.js","webpack:///../common/lib/templates/cxjs.js","webpack:///../common/lib/templates/dojo.js","webpack:///../common/lib/templates/ember.js","webpack:///../common/lib/templates/gatsby.js","webpack:///../common/lib/templates/gridsome.js","webpack:///../common/lib/templates/index.js","webpack:///../common/lib/templates/marko.js","webpack:///../common/lib/templates/mdx-deck.js","webpack:///../common/lib/templates/nest.js","webpack:///../common/lib/templates/next.js","webpack:///../common/lib/templates/node.js","webpack:///../common/lib/templates/nuxt.js","webpack:///../common/lib/templates/parcel.js","webpack:///../common/lib/templates/preact.js","webpack:///../common/lib/templates/quasar.js","webpack:///../common/lib/templates/react-ts.js","webpack:///../common/lib/templates/react.js","webpack:///../common/lib/templates/reason.js","webpack:///../common/lib/templates/sapper.js","webpack:///../common/lib/templates/static.js","webpack:///../common/lib/templates/styleguidist.js","webpack:///../common/lib/templates/svelte.js","webpack:///../common/lib/templates/template.js","webpack:///../common/lib/templates/unibit.js","webpack:///../common/lib/templates/vue.js","webpack:///../common/lib/templates/vuepress.js","webpack:///../common/lib/theme.js","webpack:///../common/lib/utils/ci.js","webpack:///../common/lib/utils/debug.js","webpack:///../common/lib/utils/dependencies.js","webpack:///../common/lib/utils/global.js","webpack:///../common/lib/utils/is-babel-7.js","webpack:///../common/lib/utils/jest-lite.js","webpack:///../common/lib/utils/path.js","webpack:///../common/lib/utils/slugify.js","webpack:///../common/lib/utils/url-generator.js","webpack:///../sandbox-hooks/console/index.js","webpack:///../sandbox-hooks/errors/dependency-not-found-error.js","webpack:///../sandbox-hooks/errors/index.js","webpack:///../sandbox-hooks/errors/module-not-found-error.js","webpack:///../sandbox-hooks/errors/sandbox-error.js","webpack:///../sandbox-hooks/errors/transformers/index.js","webpack:///../sandbox-hooks/errors/transformers/raw-react-component-error.js","webpack:///../sandbox-hooks/react-error-overlay/components/additional.js","webpack:///../sandbox-hooks/react-error-overlay/components/close.js","webpack:///../sandbox-hooks/react-error-overlay/components/code.js","webpack:///../sandbox-hooks/react-error-overlay/components/footer.js","webpack:///../sandbox-hooks/react-error-overlay/components/frame.js","webpack:///../sandbox-hooks/react-error-overlay/components/frames.js","webpack:///../sandbox-hooks/react-error-overlay/components/overlay.js","webpack:///../sandbox-hooks/react-error-overlay/components/suggestions.js","webpack:///../sandbox-hooks/react-error-overlay/effects/proxyConsole.js","webpack:///../sandbox-hooks/react-error-overlay/effects/stackTraceLimit.js","webpack:///../sandbox-hooks/react-error-overlay/effects/unhandledError.js","webpack:///../sandbox-hooks/react-error-overlay/effects/unhandledRejection.js","webpack:///../sandbox-hooks/react-error-overlay/listenToRuntimeErrors.js","webpack:///../sandbox-hooks/react-error-overlay/overlay.js","webpack:///../sandbox-hooks/react-error-overlay/styles.js","webpack:///../sandbox-hooks/react-error-overlay/utils/dom/consumeEvent.js","webpack:///../sandbox-hooks/react-error-overlay/utils/dom/css.js","webpack:///../sandbox-hooks/react-error-overlay/utils/dom/enableTabClick.js","webpack:///../sandbox-hooks/react-error-overlay/utils/errorRegister.js","webpack:///../sandbox-hooks/react-error-overlay/utils/getLinesAround.js","webpack:///../sandbox-hooks/react-error-overlay/utils/getSourceMap.js","webpack:///../sandbox-hooks/react-error-overlay/utils/getStackFrames.js","webpack:///../sandbox-hooks/react-error-overlay/utils/isInternalFile.js","webpack:///../sandbox-hooks/react-error-overlay/utils/mapper.js","webpack:///../sandbox-hooks/react-error-overlay/utils/parser.js","webpack:///../sandbox-hooks/react-error-overlay/utils/stack-frame.js","webpack:///../sandbox-hooks/react-error-overlay/utils/unmapper.js","webpack:///../sandbox-hooks/react-error-overlay/utils/warnings.js","webpack:///../sandbox-hooks/url-listeners.js","webpack:///./config/polyfills.js","webpack:///./src/sandbox/eval/presets/index.ts","webpack:///./src/sandbox/eval/transpilers/index.ts","webpack:///./src/sandbox/eval/transpilers/style/utils/insert-css.js","webpack:///./src/sandbox/eval/transpilers/style/utils/to-definition.js","webpack:///./src/sandbox/eval/transpilers/style/get-modules.ts","webpack:///./src/sandbox/eval/transpilers/style/index.ts","webpack:///./src/sandbox/eval/transpilers/babel/worker/simple-get-require-statements.js","webpack:///./src/sandbox/eval/transpilers/babel/babel-parser.js","webpack:///./src/sandbox/eval/transpilers/utils/worker-error-handler.js","webpack:///./src/sandbox/eval/transpilers/worker-transpiler.ts","webpack:///./src/sandbox/utils/delay.js","webpack:///./src/sandbox/eval/transpilers/babel/check.js","webpack:///./src/sandbox/eval/utils/is-es-module.js","webpack:///./src/sandbox/eval/transpilers/babel/index.ts","webpack:///./src/sandbox/eval/transpilers/json/index.ts","webpack:///./src/sandbox/eval/transpilers/raw/index.ts","webpack:///./src/sandbox/eval/transpilers/svgr/index.ts","webpack:///./src/sandbox/eval/transpilers/sass/index.ts","webpack:///./src/sandbox/eval/presets/create-react-app/index.js","webpack:///./src/sandbox/eval/utils/get-dependencies.ts","webpack:///./src/sandbox/eval/transpilers/typescript/index.ts","webpack:///./src/sandbox/eval/transpilers/stylus/index.ts","webpack:///./src/sandbox/eval/transpilers/less/index.ts","webpack:///./src/sandbox/eval/transpilers/noop/index.ts","webpack:///./src/sandbox/eval/transpilers/binary/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/template-compiler/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/style-compiler/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/selector/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/style-loader/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/style-loader/loader.js","webpack:///./src/sandbox/eval/transpilers/vue/css-loader/index.ts","webpack:///./src/sandbox/eval/transpilers/base64/index.ts","webpack:///./src/sandbox/eval/transpilers/pug/index.ts","webpack:///./src/sandbox/eval/transpilers/coffee/index.ts","webpack:///./src/sandbox/eval/presets/vue-cli/index.js","webpack:///./src/sandbox/eval/presets/preact-cli/transpilers/async.js","webpack:///./src/sandbox/eval/presets/preact-cli/index.js","webpack:///./src/sandbox/eval/transpilers/svelte/index.ts","webpack:///./src/sandbox/eval/presets/svelte/index.js","webpack:///./src/sandbox/eval/transpilers/angular2-template/index.ts","webpack:///./src/sandbox/eval/presets/angular-cli/index.js","webpack:///./src/sandbox/eval/presets/parcel/transpilers/html-transpiler.js","webpack:///./src/sandbox/eval/transpilers/reason/index.ts","webpack:///./src/sandbox/eval/presets/dojo/transpilers/style.js","webpack:///./src/sandbox/eval/presets/custom/index.js","webpack:///./src/sandbox/eval/index.js","webpack:///./src/sandbox/eval/presets/create-react-app-typescript/index.js","webpack:///./src/sandbox/eval/presets/reason/index.js","webpack:///./src/sandbox/eval/presets/parcel/index.js","webpack:///./src/sandbox/eval/presets/babel-repl/index.js","webpack:///./src/sandbox/eval/presets/cxjs/index.js","webpack:///./src/sandbox/eval/presets/dojo/index.js","webpack:///./src/sandbox/eval/errors/module-error.js","webpack:///./src/sandbox/eval/errors/module-warning.js","webpack:///./src/sandbox/eval/loaders/dependency-resolver.js","webpack:///./src/sandbox/eval/loaders/utils/process.js","webpack:///./src/sandbox/eval/loaders/eval.js","webpack:///./src/sandbox/eval/hmr.js","webpack:///./src/sandbox/eval/utils/query-path.ts","webpack:///./src/sandbox/eval/transpiled-module.ts","webpack:///./src/sandbox/eval/utils/get-dependency-name.js","webpack:///./src/sandbox/eval/utils/resolve-utils.js","webpack:///./src/sandbox/eval/npm/fetch-npm-module.ts","webpack:///./src/sandbox/eval/npm/get-core-libraries.ts","webpack:///./src/sandbox/eval/tests/run-circus.ts","webpack:///./src/sandbox/eval/tests/jest-lite.ts","webpack:///./src/sandbox/npm/dependencies-to-query.ts","webpack:///./src/sandbox/eval/cache.ts","webpack:///./src/sandbox/eval/manager.ts","webpack:///./src/sandbox/status-screen/overlay-manager.js","webpack:///./src/sandbox/status-screen/index.js","webpack:///./src/sandbox/codesandbox-overlay/index.js","webpack:///./src/sandbox/external-resources.ts","webpack:///./src/sandbox/boilerplates/default-boilerplates.js","webpack:///./src/sandbox/boilerplates/index.js","webpack:///./src/sandbox/npm/fetch-dependencies.ts","webpack:///./src/sandbox/version-resolving/resolve-dependency.ts","webpack:///./src/sandbox/version-resolving/merge-dependency.ts","webpack:///./src/sandbox/version-resolving/resolutions.ts","webpack:///./src/sandbox/version-resolving/index.ts","webpack:///./src/sandbox/npm/index.ts","webpack:///./src/sandbox/compile.ts","webpack:///./src/sandbox/status-screen/run-on-click.js","webpack:///./src/sandbox/eval/presets/reason/reason-remap.js","webpack:///./src/sandbox/eval/transpilers/utils/loader-utils/parse-query.js","webpack:///./src/sandbox/eval/transpilers/utils/loader-utils/stringify-request.js","webpack:///./src/sandbox/eval/transpilers/utils/loader-utils/index.js","webpack:///./src/sandbox/eval/transpilers/utils/loader-utils/get-remaining-request.js","webpack:///./src/sandbox/index.js","webpack:///external \"jsdom\""],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","4","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","this","oldJsonpFunction","slice","Worker","BrowserFS","BFSRequire","transformers","transformError","map","filter","x","clearErrorTransformers","registerErrorTransformer","check","__awaiter","thisArg","_arguments","P","generator","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","generateId","Math","floor","random","Protocol","handleMessage","_this","outgoingMessages","Set","_messageListener","returnMessage","_a","$type","getTypeId","has","$id","$data","$originId","internalId","source","postMessage","_postMessage","createConnection","self","addEventListener","dispose","removeEventListener","sendMessage","messageId","add","listenFunction","constructor","DedicatedWorkerGlobalScope","notifications","freeze","show","title","notificationType","timeAlive","action","editor","openModule","id","lineNumber","column","path","dependencies","dependencyName","dependency","rename","actions","line","lineEnd","columnEnd","payload","severity","clear","correction","_b","_c","_d","glyph","className","__assign","assign","arguments","bundlers","Map","isStandalone","window","location","href","indexOf","opener","parent","parentOrigin","parentOriginListener","origin","resetState","dispatch","newMessage","codesandbox","notifyListeners","rawMessage","JSON","parse","stringify","forEach","frame","notifyFrames","listeners","listenerId","listen","callback","keys","eventListener","registerFrame","set","reattach","default","ua","navigator","userAgent","msie","parseInt","substring","rv","detectIE","jsonlint","parser","trace","yy","symbols_","JSONString","STRING","JSONNumber","NUMBER","JSONNullLiteral","NULL","JSONBooleanLiteral","TRUE","FALSE","JSONText","JSONValue","EOF","JSONObject","JSONArray","JSONMemberList","JSONMember","JSONElementList","$accept","$end","terminals_","2","6","8","10","11","14","17","18","21","22","23","24","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","replace","Number","table","3","5","7","9","12","13","15","16","1","19","20","25","defaultActions","parseError","str","hash","input","stack","vstack","lstack","recovering","lexer","setInput","yylloc","yyloc","lex","token","symbol","preErrorSymbol","state","len","newState","expected","yyval","errStr","showPosition","join","text","match","loc","toString","Array","first_line","last_line","first_column","last_column","_input","_more","_less","matched","conditionStack","ch","unput","more","less","pastInput","past","substr","upcomingInput","pre","tempMatch","index","lines","rules","_currentRules","options","flex","begin","condition","popState","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","INITIAL","inclusive","__importDefault","mod","__importStar","k","detect_old_browser_1","entries","captureStackTrace","printWidth","tabWidth","useTabs","semi","singleQuote","trailingComma","bracketSpacing","jsxBracketSameLine","isLocalhost","Boolean","hostname","isHttp","protocol","registerValidSW","swUrl","onUpdated","onInstalled","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","storage","estimate","results","usage","quota","unregister","caches","names","delete","catch","URL","process","env","PUBLIC_URL","fetch","response","status","headers","ready","reload","log","checkValidServiceWorker","memoize_1","templates_1","parse_1","compareTitle","original","test","ignoredExtensions","some","ext","throwError","resolveDirectory","_path","directories","_startdirectoryShortid","startdirectoryShortid","startsWith","splitPath","split","foundDirectoryShortid","reduce","dirId","pathPart","dir","find","shortid","directoryShortid","nextDirectory","getModulesInDirectory","dirPath","lastPath","findByShortid","entities","resolveModule","modulesInFoundDirectory","foundModule","foundDirectory","indexModule","getPath","arrayToLookIn","findById","directory","lastDirectoryShortid","memoizeFunction","getModulePath","getDirectoryPath","getChildren","isMainModule","entry","findMainModule","sandbox","resolveModuleWrapped","entryModule","templateDefinition","template","parsedConfigs","configurationFiles","defaultOpenModule","getDefaultOpenedFiles","findCurrentModule","modulePath","mainModule","cleanPath","decodeURIComponent","resolveDirectoryWrapped","template_1","theme_1","decorateSelector","isServer","mainFile","showOnHomePage","netlify","path_1","configuration_1","generated","parsed","concat","app","apps","root","main","absolute","getAngularCLIEntries","defaultProject","project","projects","build","architect","getAngularJSONEntries","package","getAngularCLIHTMLEntry","getAngularJSONHTMLEntry","extraConfigurations","angularCli","angularJSON","isTypescript","distDir","popular","babelrc","babelTranspiler","config","description","moreInfoUrl","getDefaultCode","outDir","polyfills","styles","scripts","schema","partialSupportDisclaimer","version","newProjectRoot","sourceRoot","projectType","prefix","schematics","builder","outputPath","tsConfig","assets","configurations","production","fileReplacements","with","optimization","outputHashing","sourceMap","extractCss","namedChunks","aot","extractLicenses","vendorChunk","buildOptimizer","serve","browserTarget","karmaConfig","lint","exclude","e2e","protractorConfig","devServerTarget","is_babel_7_1","JSX_PRAGMA","react","preact","isV7","packageJSON","code","isBabel7","devDependencies","presets","plugins","pragma","export","import","targets","browsers","polyfill","regenerator","parserOpts","packageJSONModule","dep","chrome","ie","ff","edge","safari","loose","useBuiltIns","templateName","templateColor","sandpack","defaultExtensions","aliases","transpilers","package_json_1","prettierRC_1","sandbox_1","babelrc_1","now_1","netlify_1","angular_cli_1","angular_json_1","tsconfig_1","jsconfig_1","babel_transpiler_1","custom_codesandbox_1","configs","prettierRC","sandboxConfig","tsconfig","customCodeSandbox","nowConfig","netlifyConfig","jsconfig","compilerOptions","baseUrl","slugify_1","generateFileFromSandbox","jsonFile","keywords","tags","npmDependencies","markty_toml_1","jsonlint_browser_1","getCode","configurationFile","titleIncludes","includes","paths","baseObject","prettify_default_config_1","generateFileFromState","prettierConfig","infiniteLoopProtection","hardReloadOnChange","view","lib","allowJs","jsx","moduleResolution","rootDir","forceConsistentCasingInFileNames","noImplicitReturns","noImplicitThis","noImplicitAny","strictNullChecks","suppressImplicitAnyIndexErrors","noUnusedLocals","jsxFactory","esModuleInterop","declaration","removeComments","noLib","allowSyntheticDefaultImports","emitDecoratorMetadata","experimentalDecorators","importHelpers","downLevelIteration","strict","showCube","externalResourcesEnabled","DojoTemplate","super","getEntries","views","closeable","url","open","adonis_1","adonis","angular_1","angular","babel_1","babel","parcel_1","parcel","preact_1","reason_1","reason","react_1","react_ts_1","reactTs","svelte_1","svelte","vue_1","vue","ember_1","ember","cxjs_1","cxjs","dojo_1","dojo","custom_1","custom","gatsby_1","gatsby","marko_1","marko","nuxt_1","nuxt","next_1","node_1","node","apollo_server_1","apollo","sapper_1","sapper","nest_1","nest","static_1","staticTemplate","styleguidist_1","styleguidist","gridsome_1","gridsome","vuepress_1","vuepress","mdx_deck_1","mdxDeck","quasar_1","quasar","unibit_1","unibit","theme","backgroundColor","ParcelTemplate","pathname","configFiles","extendedSandboxConfig","container","port","defaultConfigurations","CLIENT_VIEWS","REACT_CLIENT_VIEWS","SERVER_VIEWS","niceName","color","alterDeploymentData","apiData","packageJSONFile","files","file","parsedFile","newParsedFile","pkg","isArray","getMainFromPackage","VuePressTemplate","memoize_one_1","color_1","codesandbox_json_1","colorMethods","createTheme","colors","prev","selector","method","args","fn","modifierArgs","rgbString","addModifier","background","background2","background3","background4","background5","primary","primaryText","lightText","secondary","shySecondary","darkBlue","white","gray","black","green","redBackground","red","dangerBackground","sidebar","placeholder","link","vscodeTheme","new","bg","CSB_PKG_PROTOCOL","global_1","search","global","getGlobal","Raven","captureBreadcrumb","category","getDebugger","fetchWithRetries","ok","json","getAbsoluteDependencies","nonAbsoluteDependencies","newDependencies","encodeURIComponent","fetchPackageJSON","url_generator_1","commonPostMessage","Window","protocolAndHost","semver_1","ver","maj","reactScriptsVersion","intersects","isCRAVersion2","messages","splitPathRe","isAbsolute","charAt","normalize","isAbs","trailingSlash","newPath","parts","allowAboveRoot","res","normalizeArray","segment","dirname","filename","exec","basename","sections","lastPart","extname","assertPath","startDot","startPart","end","matchedSlash","preDotState","charCodeAt","a","RegExp","toLowerCase","gitHubRepoPattern","gitHubPrefix","dotGit","sandboxHost","buildEncodedUri","strings","values","host","newSandboxWizard","newSandboxUrl","parcelSandboxUrl","newReactTypeScriptSandboxUrl","newDojoSandboxUrl","newPreactSandboxUrl","newVueSandboxUrl","importFromGitHubUrl","newSvelteSandboxUrl","newAngularSandboxUrl","newCxJSSandboxUrl","uploadFromCliUrl","sandboxGitUrl","git","username","repo","branch","editorUrl","sandboxUrl","sandboxDetails","alias","embedUrl","frameUrl","append","useFallbackDomain","sHost","forkSandboxUrl","signInUrl","extraScopes","signInZeitUrl","profileUrl","dashboardUrl","exploreUrl","teamOverviewUrl","teamId","profileSandboxesUrl","page","profileLikesUrl","githubRepoUrl","optionsToParameterizedUrl","keyValues","sort","gitHubToSandboxUrl","githubUrl","searchUrl","query","patronUrl","curatorUrl","tosUrl","privacyUrl","getSandboxId","csbHost","tryHost","hostRegex","sandboxRegex","matches","command","wrapped","Function","eval","Encode","DependencyNotFoundError","fromPath","second","parsedName","suggestions","SandboxError","ref","errorToSend","manager","getCurrentManager","relevantFrame","enhancedFrames","wrappedResolveModule","_originalFileName","fileName","tModule","resolveTranspiledModule","_originalLineNumber","_originalColumnNumber","hideLine","babelMatched","buildErrorMessage","buildDynamicError","columnNumber","ModuleNotFoundError","isDependency","currentPath","number","rawReactErrorTransformer","findRawModule","rawModule","from","foundResult","sourceModule","additionalReference","currentError","totalErrors","switchCallback","lastChild","removeChild","div","applyStyles","additionalChildStyle","group","groupStyle","left","groupElemLeft","consumeEvent","createTextNode","enableTabClick","right","groupElemRight","hints","hintsStyle","close","hint","span","hintStyle","createHint","closeButtonStyle","sourceLines","lineNum","columnNum","contextSize","onSourceClick","sourceCode","whiteSpace","Infinity","content","min","isFinite","ansiHighlight","forceColor","linesAbove","linesBelow","htmlHighlight","innerHTML","codeStyle","ccn","childNodes","oLoop","ccn2","index2","innerText","primaryErrorStyle","secondaryErrorStyle","primaryPreStyle","secondaryPreStyle","handler","style","cursor","footerStyle","frameSetting","critical","omits","omitBundle","parentContainer","lastElement","errorName","compiled","functionName","sourceFileName","scriptLines","_scriptCode","sourceLineNumber","sourceColumnNumber","_originalScriptCode","prettyURL","trimMatch","getPrettyURL","needsHidden","isInternalUrl","isInternalFile","isThrownIntentionally","isBultinErrorName","shouldCollapse","hasReachedAppCode","collapseElement","capV","omittedFrames","omitsCount","text1","hide","textContent","list","getElementsByName","display","omittedFramesCollapsedStyle","omittedFramesExpandedStyle","getGroupToggle","requestAnimationFrame","actionElement","children","first","parentNode","click","insertBefore","insertBeforeBundle","bundle","trim","elem","internalUrl","cleanedFunctionName","frameFunctionName","cleanedUrl","functionNameStyle","depStyle","frameLink","linkStyle","frameAnchor","anchorStyle","frameDiv","hiddenStyle","hasSource","createCode","resolvedFrames","frameSettings","traceStyle","lIndex","createFrameWrapper","factory","fac","elemWrapper","compiledDiv","toggleStyle","compiledText","createFrame","frames","closeCallback","overlay","overlayStyle","containerStyle","createClose","additional","updateAdditional","header","headerStyle","messageHeader","messageHeaderStyle","finalMessage","originalName","originalMessage","originalErrorContainer","errorHeader","originalHeaderStyle","originalMessageHeader","originalMessageHeaderStyle","areActionsEnabled","createSuggestions","createFrames","createFooter","suggestionsContainerStyle","suggestionsTitleStyle","suggestion","button","suggestionsButtonStyle","preventDefault","reactFrameStack","reactStack","reactStackEnd","orig","limit","MAX_STACK_LENGTH","stackTraceRegistered","restoreStackTraceValue","stackTraceLimit","boundErrorHandler","boundRejectionHandler","crash","crashWithFramesRunTime","crashWithFrames","registerReactStack","permanentRegister","warning","massage","__unmap_source","unregisterReactStack","unhandledRejection","stackFrames","listenToRuntimeErrorsUnmounter","listenToRuntimeErrors","consume","CONTEXT_SIZE","errorReferences","getErrorRecord","errRef","transformation","getTranspiledModules","newError","ex","transformErrors","iframeReference","contentDocument","currReferenceIndex","offset","switchError","renderErrorByIndex","unmount","render","disposeCurrentView","iframe","iframeStyle","w","contentWindow","createOverlay","onkeydown","keyEventHandler","SHORTCUT_ESCAPE","SHORTCUT_LEFT","SHORTCUT_RIGHT","shortcutHandler","margin","nextView","force","drain","position","top","width","height","border","padding","overflow","_preStyle","_groupElemStyle","transition","blur","css","getHead","injectedCache","injectedCount","element","getElementsByTagName","which","keyCode","parsedFrames","unmap","recorded","errorsConsumed","getLinesAround","count","max","ScriptLine","SourceMap","__source_map","originalPositionFor","generatedPositionFor","sourceName","sourceContentFor","sources","extractSourceMapUrl","fileUri","fileContents","regex","getSourceMap","sm","base64","match2","atob","SourceMapConsumer","lastIndexOf","obj","getStackFrames","contextLines","cache","settle","transpiledModule","getTranspiledModuleByHash","fileSource","compiledCode","getOriginalPosition","originalSource","getSource","StackFrame","regexExtractLocation","extractLocation","isNaN","regexValidFrame_Chrome","regexValidFrame_FireFox","parseStack","isEval","last","highlight","scriptCode","sourceFunctionName","sourceScriptCode","_originalFunctionName","getFunctionName","string","_fileUri","contents","uri","fN","getSources","seps","sep","penalties","b","sign","sourceT","getGeneratedPosition","lastFilename","lastLineNumber","stripInlineStacktrace","abs","history","go","delta","newPos","historyPosition","historyList","oldURL","origHistoryProto","replaceState","newURL","sendUrlChange","dispatchEvent","PopStateEvent","disableNextHashChange","HashChangeEvent","back","forward","pushHistory","defineProperties","pathWithHash","ev","el","nodeName","__vue__","stopPropagation","__proto__","enable","cosmiconfig","prettier","jsdom","JSDOM","fragment","htmlString","Preset","hasDotEnv","setup","teardown","htmlDisabled","preEvaluate","defaultAliases","aliasedPathCache","loaders","querystring","noop","exactFoundAlias","endsWith","pathParts","foundAlias","orderBy","every","replacedPath","prepend","transpilerObject","unshift","transpiler","loader","transpilerNames","extraTranspilers","loaderName","parseOptions","reverse","finalTranspilers","getLoaders","Transpiler","cacheable","HMREnabled","loaderContext","doTranspilation","wrapper","toDefinition","classes","previous","core","Core","load","dependencyPath","addDependency","injectableSource","exportTokens","getStyleId","StyleTranspiler","_module","getId","getElementById","getModules","insertCss","transpiledCode","lineRegex","partRegex","commentRegex","DEFAULT_BABEL_CONFIG","helpers","async","getBabelConfig","loaderOptions","resolvedConfig","disableCodeSandboxPlugins","finalConfig","sourceMaps","commonjsPluginName","parseWorkerError","reconstructedError","debug","_debug","WorkerTranspiler","workerCount","hardwareConcurrency","workers","idleWorkers","tasks","initialized","hasFS","loadingWorkers","preload","loadWorker","Date","now","getWorker","worker","readyListener","FileSystem","WorkerFS","attachRemoteListener","executeRemainingTasks","terminate","taskIds","taskId","task","executeTask","callbacks","onmessage","runCallbacks","emitWarning","resolveTranspiledModuleAsync","found","isGlob","addDependenciesInDirectory","isEntry","addTranspilationDependency","delay","JSXSyntax","regeneratorSyntax","checkComment","startOfLine","shouldTranspile","isESModule","jsxMatch","regeneratorMatch","BabelWorker","babelworkers","simpleRequire","codePart","regexGetRequireStatements","foundConfig","hasMacros","babelConfig","queueTask","babelTranspilerOptions","sandboxOptions","emitError","baseConfig","availablePlugins","availablePresets","babelVersion","svgrTransform","codeIsHttp","webpack","previousExport","downloadedCode","SassWorker","indentedSyntax","initialize","v2Initialized","preset","babelOptions","compileNodeModulesWithEnv","corejs","ignoreBrowserslistConfig","registerTranspiler","legacy","svgrTranspiler","sassTranspiler","stylesTranspiler","webpackHMR","manifest","reactDOMModule","reactDOM","evaluateModule","unmountComponentAtNode","tagName","jsonTranspiler","rawTranspiler","getDependenciesFromConfig","TypeScriptWorker","typescriptVersion","typescript","StylusWorker","LessWorker","interMediateFiles","NoopTranspiler","blob","emitModule","addStylesClientRaw","listToStylesRaw","loaderUtils","stringifyRequest","shared","reader","FileReader","readAsDataURL","onloadend","base64data","PugWorker","CoffeeWorker","getFileNameFromVm","vm","cid","_isVue","$options","__file","preactPreset","preact$","cssModulesPaths","cssTypes","lessTranspiler","styl","stylusTranspiler","cssType","extension","asyncTranspiler","SvelteWorker","semver","coerce","templateUrlRegex","stylesRegex","stringRegex","replaceStringsWithRequires","extensionConfig","quote","urlParts","finalUrl","newSource","templateProperty","preTranspilers","urls","styleProperty","polyfillsLoaded","addAngularJSONPolyfills","polyfillLocation","transpileModules","addAngularCLIPolyfills","addAngularJSONResources","finalPath","transpile","setIsEntry","evaluate","asUMD","addAngularCLIResources","environmentSource","environments","dev","setAdditionalAliases","HTMLWorker","addScript","IGNORED_DEPENDENCIES","getModuleName","moduleParts","unCapitalizedModuleName","toUpperCase","cachedDependencies","getDependencyList","listFunction","ocaml","reason_list_dependencies","list_dependencies","deps","moduleName","reasonModules","mainReasonModule","modulesToAdd","newCode","usedCode","printRE","parseML","typesPath","typesModule","reasonCode","reason_compile_super_errors","js_code","errorMessage","js_error_msg","row","stripANSI","packageJson","packageName","baseName","transpilerMap","registerTranspilers","transpilerConfig","savedTranspilers","configModule","expression","initiators","compilation","evaluatedTranspilers","initializers","resetTranspilers","getPreset","reactPreset","reactTsPreset","reasonRemap","reasonTranspiler","reasonPreset","vuePreset","vue$","vueModule","Vue","warnHandler","msg","sassWithConfig","lessWithConfig","stylusWithConfig","typescriptTranspiler","vueTranspiler","coffeeTranspiler","scss","sass","registerStyleTranspilers","vueTemplateTranspiler","vueStyleTranspiler","vueSelector","vueStyleLoader","cssLoader","binaryTranspiler","base64Transpiler","noopTranspiler","pugTranspiler","sveltePreset","svelteTranspiler","zone","angular2Transpiler","angularPreset","parcelPreset","dynamicCSSModules","tsTranspiler","htmlTranspiler","babelPreset","cxjsPreset","stylesPath","dojoStylesTranspiler","dojoPreset","customPreset","updatedModules","clearCompiledCache","clearCache","customConfig","customTemplate","ModuleError","ModuleWarning","getDependency","require","cachedSetTimeout","cachedClearTimeout","currentQueue","queue","draining","queueIndex","defaultSetTimout","defaultClearTimeout","runTimeout","fun","drainQueue","cleanUpNextTick","run","marker","runClearTimeout","Item","array","NODE_ENV","nextTick","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","requestFrame","raf","mozRequestAnimationFrame","webkitRequestAnimationFrame","hasGlobalDeclaration","globals","buildProcess","allGlobals","setImmediate","allGlobalKeys","globalsCode","globalsValues","isEvalError","HMR","disposeHandler","setSelfAccepted","selfAccepted","dirty","isHot","splitQueryFromPath","queryPath","ModuleSource","sourceEqualsCompiled","TranspiledModule","warnings","warn","errors","childModules","transpilationDependencies","asyncDependencies","transpilationInitiators","isTestFile","hashsum","hmrConfig","markHardReload","reset","resetTranspilation","cleanModule","getLoaderContext","removeTranspiledModule","emittedAssets","setIsTestFile","previousSource","setDirty","resetCompilation","size","depPath","isTranspilationDep","downloadDependency","fileResolver","hasMissingDependencies","transpilerOptions","directoryPath","pathUtils","overwrite","isChild","moduleCopy","getTranspiledModule","update","addTranspiledModule","emitFile","createSourceForAsset","folderPath","tModules","resolveTranspiledModulesInDirectory","context","remainingRequests","transpileJobs","finalSourceMap","requires","reGlob","startTime","logWarnings","sourceURL","flattenDeep","testGlobals","initiator","localModule","isDirty","shouldReloadPage","isDeclined","isFirstLoad","deleteAPICache","setHmrStatus","callDisposeHandler","hotData","hot","accept","cb","setType","setAcceptCallback","enableWebpackHMR","decline","setDisposeHandler","hmrStatus","addStatusHandler","removeStatusHandler","usedPath","getPresetAliasedPath","bfsModule","os","homedir","toPath","resolveDependency","requiredTranspiledModule","evaluateTranspiledModule","testRunner","__dirname","__filename","envVariables","callAcceptCallback","stubbed","optimizeForSize","war","serialize","serializableObject","getModule","transpiledModules","loadModule","transpilation","getDependencyName","dependencyParts","packageFilter","metas","combinedMetas","normalizedMetas","packages","fileObject","rootPath","normalizeJSDelivr","convertGitHubURLToVersion","urlProtocols","csbGH","meta","normalizeMeta","unpkg","jsDelivrNPM","jsDelivrGH","sha","retries","doFetch","lastTryTime","getFetchProtocol","depVersion","useFallback","isDraftProtocol","isGitHub","ALIAS_REGEX","getMeta","packageJSONPath","nameWithoutAlias","depName","relativePath","fallbackProtocol","fallbackUrl","downloaded","resolvePath","currentTModule","isFile","extensions","moduleDirectory","NODE_PATH","readFile","findDependencyVersion","subDepVersionVersionInfo","subDepVersion","addModule","resolvedPath","foundPackageJSONPath","rootDependency","dependencyDependencies","resolved","fetchModule","versionInfo","normalizeFunction","normalizedMeta","normalizedCacheKey","foundPath","assert","buffer","child_process","cluster","constants","crypto","dgram","dns","domain","events","fs","http","https","net","punycode","readline","repl","stream","_stream_duplex","_stream_passthrough","_stream_readable","_stream_transform","_stream_writable","sys","timers","tls","tty","util","zlib","currentDescribeBlocks","getState","rootDescribeBlock","_runTestsForDescribeBlock","makeTestResults","_setGlobalState","currentTestPath","expect","testPath","testName","describeBlocks","currentTestName","snapshotState","SnapshotState","expand","updateSnapshot","setState","describeBlock","getAllHooksForDescribe","beforeAll","afterAll","hook","_callHook","tests","_runTest","child","testContext","hasFocusedTests","getEachHooksForTest","afterEach","beforeEach","_callTest","testTimeout","callAsyncFn","isHook","extend","toMatchSnapshot","toThrowErrorMatchingSnapshot","addSnapshotSerializer","addSerializer","jsdomPromise","getJSDOM","jsdomPath","resetTestState","ROOT_DESCRIBE_BLOCK","makeDescribe","ROOT_DESCRIBE_BLOCK_NAME","INITIAL_STATE","currentDescribeBlock","assertionCalls","expectedAssertionsNumber","isExpectingAssertions","suppressedErrors","TestRunner","testToCodeSandbox","TEST_START","mappedErrors","mappedError","TEST_END","errorToCodeSandbox","FILE_ERROR","DESCRIBE_START","blockName","DESCRIBE_END","ADD_TEST","watching","ranTests","runTests","addEventHandler","handleCodeSandboxMessage","INITIALIZE","dispatchJest","skip","only","each","bindEach","it","jsdomWindow","dom","jsdomDocument","jestTestHooks","jest","jestMock","REMOVE_FILE","isTest","ADD_FILE","LOCALHOST_URL","pretendToBeVisual","initJSDOM","TOTAL_TEST_START","testModules","setupFilesAfterEnv","setupPath","testSetup","findTests","transpileTests","TOTAL_TEST_END","parsedError","matcherResult","blocks","duration","getDescribeBlocks","MAX_CACHE_SIZE","APICacheUsed","localforage","storeName","shouldSaveOnlineCache","firstRun","changes","__SANDBOX_DATA__","saveCache","sandboxId","managerModuleToTranspile","entryPath","managerState","setItem","SCRIPT_VERSION","stringifiedManagerState","toFixed","consumeCache","localStorage","getItem","removeItem","cacheData","localData","cache1","cache2","timestamp","NODE_LIBS","SKIPPED_BROWSER_FIELD_DEPENDENCIES","SHIMMED_MODULE","getShimmedModuleFromPath","Manager","removeModule","moveModule","updateModule","returnValue","hasCallback","stage","bool","hmrStatusChangeListeners","cachedPaths","hardReload","transpiledModulesByHash","configure","bfsWrapper","hasFileResolver","setupFileResolver","dependencyAliases","pJsonCode","postEvaluate","moduleObject","existingModule","envCode","envLine","val","setEnvironmentVariables","postTranspile","previousDependencyName","aliasedDependencyName","getAliasedPath","baseTSCompilerConfig","promiseResolve","dirredPath","cachedPath","presetAliasedPath","aliasedPath","getAliasedDependencyPath","shimmedPath","coreLibraries","readFileSync","getModuleDirectories","connectedPath","sync","getTranspiledModulesByModule","resolveModuleAsync","joinedPath","resetAllModules","addedModules","mirrorModule","modulesToUpdate","uniq","tModulesToUpdate","modulesWithWErrors","flattenedTModulesToUpdate","allModulesToUpdate","transpiledModulesToUpdate","transpilationResults","serializedTModules","dependenciesQuery","getDependencyQuery","getTime","normalizedDependencies","dependenciesToQuery","newCombinedMetas","sTModule","ignoreNextCache","info","getTranspilerContext","html","currentScreen","firstLoaded","changeText","getElementsByClassName","item","resetScreen","resetOverlay","setScreen","screen","loadingHtml","normalized","isBinary","parameters","getParameters","clearExternalResources","remove","addResource","resource","rel","media","addCSS","addJS","cachedExternalResources","handleExternalResources","externalResources","extResString","readyState","cachedBoilerplates","evalBoilerplates","boilerplates","boilerplate","fakeModule","getBoilerplates","findBoilerplate","RETRY_COUNT","VERSION","BUCKET_URL","NEW_PACKAGER_URL","PACKAGER_URL","warmupPackager","callApi","statusText","statusCode","requestPackager","dependenciesToBucketPath","removeSpacesFromDependencies","newDeps","getDependencies","absoluteDependencies","dependencyUrl","bucketDependencyUrl","bucketManifest","fetchDependencies","resolutions","getPackageJSON","getLatestVersionForSemver","getAbsoluteVersion","originalDep","parsedResolutions","applicableResolutions","range","globPattern","minimatch","getDependencyDependencies","peerDependencyResult","packageJSONCode","parents","absoluteVersion","resolveDependencyInfo","peerDependencies","resolutionsByPackage","isEqual","s1","s2","replacePaths","oldName","newName","al","replaceDependencyInfo","depDepName","newDepDep","v1","v2","mergeDependencies","responses","sortedResponses","localeCompare","exDepDep","replacingDepDep","WRONG_PATTERNS","GLOBAL_NESTED_DEP_PATTERN","parsePatternInfo","parsePackagePath","pattern","parseResolutions","getDependencyVersions","depInfos","loadedDependencyCombination","shouldFetchDynamically","loadDependencies","disableExternalConnection","isNewCombination","dependenciesWithoutTypings","pickBy","depQuery","fetchDynamically","fetchFunction","initializedResizeListener","actionsEnabled","getHTMLParts","headMatch","bodyMatch","sendTestCount","givenManager","firstLoad","hadError","lastHeadHTML","lastBodyHTML","lastHeight","changedModuleCount","DEPENDENCY_ALIASES","WHITELISTED_DEV_DEPENDENCIES","PREINSTALLED_DEPENDENCIES","parsedPackage","returnedDependencies","foundWhitelistedDevDependencies","prefixedName","usedDep","sandpackConfig","preinstalledDependencies","preInstalledDependencies","csbbust","updateManager","managerModules","newManager","setManifest","updateConfigurations","updateData","sendResize","documentElement","scrollHeight","offsetHeight","clientHeight","getDocumentHeight","compile","hasActions","isModuleView","showOpenInCodeSandbox","skipEval","disableDependencyPreprocessing","inject","initializeErrorTransformers","getDefinition","parseConfigurations","parsedPackageJSON","possibleEntries","foundMain","setStage","verifyTreeTranspiled","htmlModulePath","getHTMLEntries","htmlModule","extDate","tt","oldHTML","evalled","domChanged","defaultBoilerplates","setInterval","createCodeSandboxOverlay","Event","compilatonError","__puppeteer__","oldClose","overrideDocumentClose","runningTask","executeTaskIfAvailable","specialValues","null","true","false","matchRelativePath","isAbsolutePath","getRemainingRequest","loaderIndex","parseQuery","queryArgs","arg","idx","splitted","part","splittedPart","singlePath","relative","currentScript","requirePolyfills","registerServiceWorker","setupHistoryListeners","setupConsole","activate","credentials","camelized","camelizeKeys","npm_dependencies"],"mappings":"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AUz5D,GAEnCyM,mBAAS,CACP5J,KAAM,OACNN,MAAO,aACPwnC,MAAOmrB,EAAMz1D,SAIjB,IAAI4nE,IAAY,EACZC,IAAW,EACXC,GAAe,KACfC,GAAe,KACfC,GAAa,EACbC,GAAqB,EAEnBC,GAAqB,CACzB,wBAAyB,yBAIrBC,GAA+B,CACnC,iBACA,8BACA,6BACA,eACA,SACA,0BACA,sBACA,sBAmBIC,GAAyB,CAC7B,oBACA,gBACA,mBACA,iBACA,sCACA,gCACA,wCACA,sCACA,uCACA,6CACA,uCACA,iCACA,qCACA,8CACA,wCACA,2BACA,oCACA,oCACA,0BACA,yCACA,+CACA,yCACA,4CACA,gDACA,gDACA,0CACA,oCACA,2CACA,wCACA,gDACA,uDACA,8CACA,wCACA,oDACA,8CACA,+CACA,uCACA,8CACA,2CACA,yCACA,4CACA,iDACA,iDACA,4CACA,6CACA,2CACA,qDACA,uCACA,6CACA,kDACA,8CACA,8CACA,wDACA,+CACA,+CACA,8BACA,iDACA,2CACA,uCACA,0CACA,uCACA,iCACA,uCACA,4CACA,2DACA,yCACA,iDACA,4CACA,+CACA,mCACA,0CACA,wCACA,0CACA,qCACA,iCACA,qCACA,0CACA,mCACA,yBACA,gDACA,iCACA,YAlF6B,OAhBJ,CACzB,mBACA,sBACA,sBACA,4BACA,sBACA,sBACA,qBACA,uBACA,uBACA,uBACA,yBA2FF,SAAS3E,GAAgB4E,EAAe9qD,EAAoBmE,GAAiB,IAAD,EAKtE2mD,EAHFt9D,aAAc9G,OAF0D,MAEtD,GAFsD,IAKtEokE,EAFFtD,wBAHwE,MAGrD,GAHqD,IAKtEsD,EADF9kD,uBAJwE,MAItD,GAJsD,EAOtE+kD,EAAoB,MAAQvD,GAE1BwD,EAA+B,UAAOJ,IAGxCzmD,GAAkBA,EAAesI,OAAStI,EAAesI,MAAMnL,SACjE,IAAQ6C,EAAesI,MAAMnL,OAAO2E,SAAW,IAC5Ctd,OAAO,SAAAxD,GAAC,MAAiB,kBAANA,IACnB8K,QAAQ,SAAC9K,GAAe,IAAD,EACIA,EAAE0Y,MAAM,KADZ,SACfgmB,EA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","file":"static/js/sandbox.de74c103.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t4: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({\"0\":\"vendors~vue-loader~vue-selector~vue-template-compiler\",\"1\":\"vendors~vue-loader~vue-selector\",\"2\":\"css-loader\",\"3\":\"css-modules-loader-core\",\"6\":\"vendors~css-modules-loader-core\",\"8\":\"vendors~vue-style-compiler\",\"9\":\"vendors~vue-template-compiler\",\"10\":\"vue-loader\",\"11\":\"vue-selector\",\"12\":\"vue-style-compiler\",\"13\":\"vue-template-compiler\"}[chunkId]||chunkId) + \".\" + {\"0\":\"a48e6b47\",\"1\":\"7ab976a7\",\"2\":\"aa3aa8f0\",\"3\":\"ae9489b7\",\"6\":\"07540573\",\"8\":\"2d0ad385\",\"9\":\"6b95f622\",\"10\":\"9ef74975\",\"11\":\"2fd1611e\",\"12\":\"33513681\",\"13\":\"681d391f\",\"14\":\"7206adf1\",\"15\":\"16ca22e4\"}[chunkId] + \".chunk.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/proxy/static/courses/js/codesandbox-apps/eval/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = this[\"csbJsonP\"] = this[\"csbJsonP\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,7]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"/* eslint-disable */\\n/*\\n  MIT License http://www.opensource.org/licenses/mit-license.php\\n  Author Tobias Koppers @sokra\\n  Modified by Evan You @yyx990803\\n*/\\n\\nvar hasDocument = typeof document !== 'undefined';\\n\\nif (typeof DEBUG !== 'undefined' && DEBUG) {\\n  if (!hasDocument) {\\n    throw new Error(\\n      'vue-style-loader cannot be used in a non-browser environment. ' +\\n        \\\"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\\\"\\n    );\\n  }\\n}\\n\\nvar listToStyles = require('./listToStyles');\\n\\n/*\\ntype StyleObject = {\\n  id: number;\\n  parts: Array<StyleObjectPart>\\n}\\n\\ntype StyleObjectPart = {\\n  css: string;\\n  media: string;\\n  sourceMap: ?string\\n}\\n*/\\n\\nvar stylesInDom = {\\n  /*\\n  [id: number]: {\\n    id: number,\\n    refs: number,\\n    parts: Array<(obj?: StyleObjectPart) => void>\\n  }\\n*/\\n};\\n\\nvar head =\\n  hasDocument && (document.head || document.getElementsByTagName('head')[0]);\\nvar singletonElement = null;\\nvar singletonCounter = 0;\\nvar isProduction = false;\\nvar noop = function() {};\\n\\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\\n// tags it will allow on a page\\nvar isOldIE =\\n  typeof navigator !== 'undefined' &&\\n  /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\\n\\nmodule.exports = function(parentId, list, _isProduction) {\\n  isProduction = _isProduction;\\n\\n  var styles = listToStyles(parentId, list);\\n  addStylesToDom(styles);\\n\\n  return function update(newList) {\\n    var mayRemove = [];\\n    for (var i = 0; i < styles.length; i++) {\\n      var item = styles[i];\\n      var domStyle = stylesInDom[item.id];\\n      domStyle.refs--;\\n      mayRemove.push(domStyle);\\n    }\\n    if (newList) {\\n      styles = listToStyles(parentId, newList);\\n      addStylesToDom(styles);\\n    } else {\\n      styles = [];\\n    }\\n    for (var i = 0; i < mayRemove.length; i++) {\\n      var domStyle = mayRemove[i];\\n      if (domStyle.refs === 0) {\\n        for (var j = 0; j < domStyle.parts.length; j++) {\\n          domStyle.parts[j]();\\n        }\\n        delete stylesInDom[domStyle.id];\\n      }\\n    }\\n  };\\n};\\n\\nfunction addStylesToDom(styles /* Array<StyleObject> */) {\\n  for (var i = 0; i < styles.length; i++) {\\n    var item = styles[i];\\n    var domStyle = stylesInDom[item.id];\\n    if (domStyle) {\\n      domStyle.refs++;\\n      for (var j = 0; j < domStyle.parts.length; j++) {\\n        domStyle.parts[j](item.parts[j]);\\n      }\\n      for (; j < item.parts.length; j++) {\\n        domStyle.parts.push(addStyle(item.parts[j]));\\n      }\\n      if (domStyle.parts.length > item.parts.length) {\\n        domStyle.parts.length = item.parts.length;\\n      }\\n    } else {\\n      var parts = [];\\n      for (var j = 0; j < item.parts.length; j++) {\\n        parts.push(addStyle(item.parts[j]));\\n      }\\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts };\\n    }\\n  }\\n}\\n\\nfunction createStyleElement() {\\n  var styleElement = document.createElement('style');\\n  styleElement.type = 'text/css';\\n  head.appendChild(styleElement);\\n  return styleElement;\\n}\\n\\nfunction addStyle(obj /* StyleObjectPart */) {\\n  var update, remove;\\n  var styleElement = document.querySelector(\\n    'style[data-vue-ssr-id~=\\\"' + obj.id + '\\\"]'\\n  );\\n\\n  if (styleElement) {\\n    if (isProduction) {\\n      // has SSR styles and in production mode.\\n      // simply do nothing.\\n      return noop;\\n    } else {\\n      // has SSR styles but in dev mode.\\n      // for some reason Chrome can't handle source map in server-rendered\\n      // style tags - source maps in <style> only works if the style tag is\\n      // created and inserted dynamically. So we remove the server rendered\\n      // styles and inject new ones.\\n      styleElement.parentNode.removeChild(styleElement);\\n    }\\n  }\\n\\n  if (isOldIE) {\\n    // use singleton mode for IE9.\\n    var styleIndex = singletonCounter++;\\n    styleElement =\\n      singletonElement || (singletonElement = createStyleElement());\\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\\n  } else {\\n    // use multi-style-tag mode in all other cases\\n    styleElement = createStyleElement();\\n    update = applyToTag.bind(null, styleElement);\\n    remove = function() {\\n      styleElement.parentNode.removeChild(styleElement);\\n    };\\n  }\\n\\n  update(obj);\\n\\n  return function updateStyle(newObj /* StyleObjectPart */) {\\n    if (newObj) {\\n      if (\\n        newObj.css === obj.css &&\\n        newObj.media === obj.media &&\\n        newObj.sourceMap === obj.sourceMap\\n      ) {\\n        return;\\n      }\\n      update((obj = newObj));\\n    } else {\\n      remove();\\n    }\\n  };\\n}\\n\\nvar replaceText = (function() {\\n  var textStore = [];\\n\\n  return function(index, replacement) {\\n    textStore[index] = replacement;\\n    return textStore.filter(Boolean).join('\\\\n');\\n  };\\n})();\\n\\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\\n  var css = remove ? '' : obj.css;\\n\\n  if (styleElement.styleSheet) {\\n    styleElement.styleSheet.cssText = replaceText(index, css);\\n  } else {\\n    var cssNode = document.createTextNode(css);\\n    var childNodes = styleElement.childNodes;\\n    if (childNodes[index]) styleElement.removeChild(childNodes[index]);\\n    if (childNodes.length) {\\n      styleElement.insertBefore(cssNode, childNodes[index]);\\n    } else {\\n      styleElement.appendChild(cssNode);\\n    }\\n  }\\n}\\n\\nfunction applyToTag(styleElement, obj) {\\n  var css = obj.css;\\n  var media = obj.media;\\n  var sourceMap = obj.sourceMap;\\n\\n  if (media) {\\n    styleElement.setAttribute('media', media);\\n  }\\n\\n  if (sourceMap) {\\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\\n    // this makes source maps inside style tags work properly in Chrome\\n    css += '\\\\n/*# sourceURL=' + sourceMap.sources[0] + ' */';\\n    // http://stackoverflow.com/a/26603875\\n    css +=\\n      '\\\\n/*# sourceMappingURL=data:application/json;base64,' +\\n      btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) +\\n      ' */';\\n  }\\n\\n  if (styleElement.styleSheet) {\\n    styleElement.styleSheet.cssText = css;\\n  } else {\\n    while (styleElement.firstChild) {\\n      styleElement.removeChild(styleElement.firstChild);\\n    }\\n    styleElement.appendChild(document.createTextNode(css));\\n  }\\n}\\n\"","module.exports = \"/* eslint-disable */\\n/**\\n * Translates the list format produced by css-loader into something\\n * easier to manipulate.\\n */\\nmodule.exports = function listToStyles(parentId, list) {\\n  var styles = [];\\n  var newStyles = {};\\n  for (var i = 0; i < list.length; i++) {\\n    var item = list[i];\\n    var id = item[0];\\n    var css = item[1];\\n    var media = item[2];\\n    var sourceMap = item[3];\\n    var part = {\\n      id: parentId + ':' + i,\\n      css: css,\\n      media: media,\\n      sourceMap: sourceMap,\\n    };\\n    if (!newStyles[id]) {\\n      styles.push((newStyles[id] = { id: id, parts: [part] }));\\n    } else {\\n      newStyles[id].parts.push(part);\\n    }\\n  }\\n  return styles;\\n};\\n\"","module.exports = \"<style>\\n  body {\\n    font-family: 'Roboto', sans-serif;\\n    background-color: #FFD399;\\n  }\\n\\n  .container {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n    -ms-flex-pack: center;\\n    justify-content: center;\\n    -webkit-box-align: center;\\n    -ms-flex-align: center;\\n    align-items: center;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n    -ms-flex-direction: row;\\n    flex-direction: row;\\n    margin: 0 auto;\\n    width: 50%;\\n  }\\n\\n  @-webkit-keyframes rotate {\\n    0% {\\n      -webkit-transform: rotateX(-37.5deg) rotateY(45deg);\\n      transform: rotateX(-37.5deg) rotateY(45deg);\\n    }\\n    50% {\\n      -webkit-transform: rotateX(-37.5deg) rotateY(405deg);\\n      transform: rotateX(-37.5deg) rotateY(405deg);\\n    }\\n    100% {\\n      -webkit-transform: rotateX(-37.5deg) rotateY(405deg);\\n      transform: rotateX(-37.5deg) rotateY(405deg);\\n    }\\n  }\\n\\n  @keyframes rotate {\\n    0% {\\n      -webkit-transform: rotateX(-37.5deg) rotateY(45deg);\\n      transform: rotateX(-37.5deg) rotateY(45deg);\\n    }\\n    50% {\\n      -webkit-transform: rotateX(-37.5deg) rotateY(405deg);\\n      transform: rotateX(-37.5deg) rotateY(405deg);\\n    }\\n    100% {\\n      -webkit-transform: rotateX(-37.5deg) rotateY(405deg);\\n      transform: rotateX(-37.5deg) rotateY(405deg);\\n    }\\n  }\\n\\n  .cube,\\n  .cube * {\\n    position: absolute;\\n    width: 151px;\\n    height: 151px;\\n  }\\n\\n  .sides {\\n    -webkit-animation: rotate 3s ease infinite;\\n    animation: rotate 3s ease infinite;\\n    -webkit-animation-delay: .8s;\\n    animation-delay: .8s;\\n    -webkit-transform-style: preserve-3d;\\n    transform-style: preserve-3d;\\n    -webkit-transform: rotateX(-37.5deg) rotateY(45deg);\\n    transform: rotateX(-37.5deg) rotateY(45deg);\\n  }\\n\\n  .cube .sides * {\\n    box-sizing: border-box;\\n    background-color: rgba(242, 119, 119, 0.5);\\n    border: 15px solid white;\\n  }\\n\\n  .cube .sides .top {\\n    -webkit-animation: top-animation 3s ease infinite;\\n    animation: top-animation 3s ease infinite;\\n    -webkit-animation-delay: 0ms;\\n    animation-delay: 0ms;\\n    -webkit-transform: rotateX(90deg) translateZ(150px);\\n    transform: rotateX(90deg) translateZ(150px);\\n    -webkit-animation-fill-mode: forwards;\\n    animation-fill-mode: forwards;\\n    -webkit-transform-origin: 50% 50%;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @-webkit-keyframes top-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(150px);\\n      transform: rotateX(90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(75px);\\n      transform: rotateX(90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(75px);\\n      transform: rotateX(90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(150px);\\n      transform: rotateX(90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(150px);\\n      transform: rotateX(90deg) translateZ(150px);\\n    }\\n  }\\n\\n  @keyframes top-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(150px);\\n      transform: rotateX(90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(75px);\\n      transform: rotateX(90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(75px);\\n      transform: rotateX(90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(150px);\\n      transform: rotateX(90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(90deg) translateZ(150px);\\n      transform: rotateX(90deg) translateZ(150px);\\n    }\\n  }\\n\\n  .cube .sides .bottom {\\n    -webkit-animation: bottom-animation 3s ease infinite;\\n    animation: bottom-animation 3s ease infinite;\\n    -webkit-animation-delay: 0ms;\\n    animation-delay: 0ms;\\n    -webkit-transform: rotateX(-90deg) translateZ(150px);\\n    transform: rotateX(-90deg) translateZ(150px);\\n    -webkit-animation-fill-mode: forwards;\\n    animation-fill-mode: forwards;\\n    -webkit-transform-origin: 50% 50%;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @-webkit-keyframes bottom-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(150px);\\n      transform: rotateX(-90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(75px);\\n      transform: rotateX(-90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(75px);\\n      transform: rotateX(-90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(150px);\\n      transform: rotateX(-90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(150px);\\n      transform: rotateX(-90deg) translateZ(150px);\\n    }\\n  }\\n\\n  @keyframes bottom-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(150px);\\n      transform: rotateX(-90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(75px);\\n      transform: rotateX(-90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(75px);\\n      transform: rotateX(-90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(150px);\\n      transform: rotateX(-90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateX(-90deg) translateZ(150px);\\n      transform: rotateX(-90deg) translateZ(150px);\\n    }\\n  }\\n\\n  .cube .sides .front {\\n    -webkit-animation: front-animation 3s ease infinite;\\n    animation: front-animation 3s ease infinite;\\n    -webkit-animation-delay: 100ms;\\n    animation-delay: 100ms;\\n    -webkit-transform: rotateY(0deg) translateZ(150px);\\n    transform: rotateY(0deg) translateZ(150px);\\n    -webkit-animation-fill-mode: forwards;\\n    animation-fill-mode: forwards;\\n    -webkit-transform-origin: 50% 50%;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @-webkit-keyframes front-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(150px);\\n      transform: rotateY(0deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(75px);\\n      transform: rotateY(0deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(75px);\\n      transform: rotateY(0deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(150px);\\n      transform: rotateY(0deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(150px);\\n      transform: rotateY(0deg) translateZ(150px);\\n    }\\n  }\\n\\n  @keyframes front-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(150px);\\n      transform: rotateY(0deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(75px);\\n      transform: rotateY(0deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(75px);\\n      transform: rotateY(0deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(150px);\\n      transform: rotateY(0deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(0deg) translateZ(150px);\\n      transform: rotateY(0deg) translateZ(150px);\\n    }\\n  }\\n\\n  .cube .sides .back {\\n    -webkit-animation: back-animation 3s ease infinite;\\n    animation: back-animation 3s ease infinite;\\n    -webkit-animation-delay: 100ms;\\n    animation-delay: 100ms;\\n    -webkit-transform: rotateY(-180deg) translateZ(150px);\\n    transform: rotateY(-180deg) translateZ(150px);\\n    -webkit-animation-fill-mode: forwards;\\n    animation-fill-mode: forwards;\\n    -webkit-transform-origin: 50% 50%;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @-webkit-keyframes back-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(150px);\\n      transform: rotateY(-180deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(75px);\\n      transform: rotateY(-180deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(75px);\\n      transform: rotateY(-180deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(150px);\\n      transform: rotateY(-180deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(150px);\\n      transform: rotateY(-180deg) translateZ(150px);\\n    }\\n  }\\n\\n  @keyframes back-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(150px);\\n      transform: rotateY(-180deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(75px);\\n      transform: rotateY(-180deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(75px);\\n      transform: rotateY(-180deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(150px);\\n      transform: rotateY(-180deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-180deg) translateZ(150px);\\n      transform: rotateY(-180deg) translateZ(150px);\\n    }\\n  }\\n\\n  .cube .sides .left {\\n    -webkit-animation: left-animation 3s ease infinite;\\n    animation: left-animation 3s ease infinite;\\n    -webkit-animation-delay: 100ms;\\n    animation-delay: 100ms;\\n    -webkit-transform: rotateY(-90deg) translateZ(150px);\\n    transform: rotateY(-90deg) translateZ(150px);\\n    -webkit-animation-fill-mode: forwards;\\n    animation-fill-mode: forwards;\\n    -webkit-transform-origin: 50% 50%;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @-webkit-keyframes left-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(150px);\\n      transform: rotateY(-90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(75px);\\n      transform: rotateY(-90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(75px);\\n      transform: rotateY(-90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(150px);\\n      transform: rotateY(-90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(150px);\\n      transform: rotateY(-90deg) translateZ(150px);\\n    }\\n  }\\n\\n  @keyframes left-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(150px);\\n      transform: rotateY(-90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(75px);\\n      transform: rotateY(-90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(75px);\\n      transform: rotateY(-90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(150px);\\n      transform: rotateY(-90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(-90deg) translateZ(150px);\\n      transform: rotateY(-90deg) translateZ(150px);\\n    }\\n  }\\n\\n  .cube .sides .right {\\n    -webkit-animation: right-animation 3s ease infinite;\\n    animation: right-animation 3s ease infinite;\\n    -webkit-animation-delay: 100ms;\\n    animation-delay: 100ms;\\n    -webkit-transform: rotateY(90deg) translateZ(150px);\\n    transform: rotateY(90deg) translateZ(150px);\\n    -webkit-animation-fill-mode: forwards;\\n    animation-fill-mode: forwards;\\n    -webkit-transform-origin: 50% 50%;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @-webkit-keyframes right-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(150px);\\n      transform: rotateY(90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(75px);\\n      transform: rotateY(90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(75px);\\n      transform: rotateY(90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(150px);\\n      transform: rotateY(90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(150px);\\n      transform: rotateY(90deg) translateZ(150px);\\n    }\\n  }\\n\\n  @keyframes right-animation {\\n    0% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(150px);\\n      transform: rotateY(90deg) translateZ(150px);\\n    }\\n    20% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(75px);\\n      transform: rotateY(90deg) translateZ(75px);\\n    }\\n    70% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(75px);\\n      transform: rotateY(90deg) translateZ(75px);\\n    }\\n    90% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(150px);\\n      transform: rotateY(90deg) translateZ(150px);\\n    }\\n    100% {\\n      opacity: 1;\\n      -webkit-transform: rotateY(90deg) translateZ(150px);\\n      transform: rotateY(90deg) translateZ(150px);\\n    }\\n  }\\n\\n  .text {\\n    margin-top: 450px;\\n    color: #f27777;\\n    font-size: 1.5rem;\\n    width: 100%;\\n    font-weight: 600;\\n    text-align: center;\\n  }\\n</style>\\n\\n<div id=\\\"loading-screen\\\" class=\\\"container\\\">\\n  <div class=\\\"cube\\\">\\n    <div class=\\\"sides\\\">\\n      <div class=\\\"top\\\"></div>\\n      <div class=\\\"right\\\"></div>\\n      <div class=\\\"bottom\\\"></div>\\n      <div class=\\\"left\\\"></div>\\n      <div class=\\\"front\\\"></div>\\n      <div class=\\\"back\\\"></div>\\n    </div>\\n  </div>\\n  <div class=\\\"text\\\">CodeSandbox</div>\\n</div>\\n\"","module.exports = \"<style>\\n  body {\\n    font-family: 'Roboto', sans-serif;\\n    background-color: #FFD399;\\n\\n    cursor: pointer;\\n  }\\n\\n\\n  .container {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n    -ms-flex-pack: center;\\n    justify-content: center;\\n    -webkit-box-align: center;\\n    -ms-flex-align: center;\\n    align-items: center;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n    -ms-flex-direction: column;\\n    flex-direction: column;\\n    margin: 0 auto;\\n\\n    width: 100vw;\\n    height: 100vh;\\n  }\\n\\n  .text {\\n    padding: 1rem;\\n    color: #f27777;\\n    font-size: 1.25rem;\\n    max-width: 600px;\\n    line-height: 1.4;\\n    font-weight: 600;\\n    text-align: center;\\n  }\\n</style>\\n\\n<div id=\\\"loading-screen\\\" class=\\\"container\\\">\\n  <svg width=\\\"149\\\" height=\\\"167\\\" viewBox=\\\"0 0 447 500\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <!-- Generator: Sketch 50 (54983) - http://www.bohemiancoding.com/sketch -->\\n    <desc>Created with Sketch.</desc>\\n    <defs></defs>\\n    <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n      <g id=\\\"Custom-Preset\\\" transform=\\\"translate(-27.000000, 0.000000)\\\">\\n        <g id=\\\"play\\\" transform=\\\"translate(27.000000, 0.000000)\\\">\\n          <polygon id=\\\"Path\\\" fill=\\\"#6BAFDD\\\" points=\\\"48.0363353 348.667139 223.440448 446.191204 398.963665 348.315773 398.963665 153.345936 223.526065 54.9352672 48.0363353 153.810752\\\"></polygon>\\n          <path d=\\\"M0,376.74889 L0,125.911037 L223.473937,0 L447,125.385604 L447,376.35757 L223.474645,501 L0,376.74889 Z M48.0363353,348.667139 L223.440448,446.191204 L398.963665,348.315773 L398.963665,153.345936 L223.526065,54.9352672 L48.0363353,153.810752 L48.0363353,348.667139 Z\\\"\\n            id=\\\"Shape\\\" fill=\\\"#FFFFFF\\\" fill-rule=\\\"nonzero\\\"></path>\\n          <rect id=\\\"Rectangle\\\" fill=\\\"#FFFFFF\\\" x=\\\"130\\\" y=\\\"170\\\" width=\\\"60\\\" height=\\\"161\\\" rx=\\\"8\\\"></rect>\\n          <rect id=\\\"Rectangle-Copy\\\" fill=\\\"#FFFFFF\\\" x=\\\"258\\\" y=\\\"170\\\" width=\\\"60\\\" height=\\\"161\\\" rx=\\\"8\\\"></rect>\\n        </g>\\n      </g>\\n    </g>\\n  </svg>\\n\\n  <div class=\\\"text\\\">\\n    <h1>Aw, Snap?</h1>\\n    <div>We noticed that the sandbox didn't complete its last run. This could be because of some code that crashed the browser.\\n      We paused execution so you can check the code.</div>\\n\\n    <h2>Click to continue execution</h2>\\n  </div>\\n</div>\\n\"","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"babel-transpiler.310b7d43.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"coffee-transpiler.99a99575.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"less-transpiler.306e6c98.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"parcel-html-transpiler.a42cb552.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"pug-transpiler.f3419fad.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"sass-transpiler.e36b8c9f.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"stylus-transpiler.01a11c52.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"svelte-transpiler.da5f8793.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/proxy/static/courses/js/codesandbox-apps/eval/\" + \"typescript-transpiler.85d82bb7.worker.js\");\n};","module.exports = BrowserFS.BFSRequire('buffer');\n","module.exports = BrowserFS.BFSRequire('fs');\n","var transformers = [];\r\nfunction transformError(error, module, modules) {\r\n    var transformedErrors = transformers.map(function (c) { return c(error, module, modules); }).filter(function (x) { return x != null; });\r\n    return transformedErrors[0];\r\n}\r\nfunction clearErrorTransformers() {\r\n    transformers.length = 0;\r\n}\r\nfunction registerErrorTransformer(check) {\r\n    transformers.push(check);\r\n}\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar generateId = function () {\r\n    // Such a random ID\r\n    return Math.floor(Math.random() * 1000000 + Math.random() * 1000000);\r\n};\r\nvar Protocol = /** @class */ (function () {\r\n    function Protocol(type, handleMessage, target) {\r\n        var _this = this;\r\n        this.type = type;\r\n        this.handleMessage = handleMessage;\r\n        this.target = target;\r\n        this.outgoingMessages = new Set();\r\n        this._messageListener = function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n            var data, result, returnMessage;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        data = e.data;\r\n                        if (data.$type !== this.getTypeId()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        // We are getting a response to the message\r\n                        if (this.outgoingMessages.has(data.$id)) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [4 /*yield*/, this.handleMessage(data.$data)];\r\n                    case 1:\r\n                        result = _a.sent();\r\n                        returnMessage = {\r\n                            $originId: this.internalId,\r\n                            $type: this.getTypeId(),\r\n                            $data: result,\r\n                            $id: data.$id,\r\n                        };\r\n                        if (e.source) {\r\n                            // @ts-ignore\r\n                            e.source.postMessage(returnMessage, '*');\r\n                        }\r\n                        else {\r\n                            this._postMessage(returnMessage);\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        this.createConnection();\r\n        this.internalId = generateId();\r\n    }\r\n    Protocol.prototype.getTypeId = function () {\r\n        return \"p-\" + this.type;\r\n    };\r\n    Protocol.prototype.createConnection = function () {\r\n        self.addEventListener('message', this._messageListener);\r\n    };\r\n    Protocol.prototype.dispose = function () {\r\n        self.removeEventListener('message', this._messageListener);\r\n    };\r\n    Protocol.prototype.sendMessage = function (data) {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            var messageId = generateId();\r\n            var message = {\r\n                $originId: _this.internalId,\r\n                $type: _this.getTypeId(),\r\n                $data: data,\r\n                $id: messageId,\r\n            };\r\n            _this.outgoingMessages.add(messageId);\r\n            var listenFunction = function (e) {\r\n                var data = e.data;\r\n                if (data.$type === _this.getTypeId() &&\r\n                    data.$id === messageId &&\r\n                    data.$originId !== _this.internalId) {\r\n                    resolve(data.$data);\r\n                    self.removeEventListener('message', listenFunction);\r\n                }\r\n            };\r\n            self.addEventListener('message', listenFunction);\r\n            _this._postMessage(message);\r\n        });\r\n    };\r\n    Protocol.prototype._postMessage = function (m) {\r\n        if (this.target.constructor.name === 'Worker' ||\r\n            // @ts-ignore Unknown to TS\r\n            (typeof DedicatedWorkerGlobalScope !== 'undefined' &&\r\n                // @ts-ignore Unknown to TS\r\n                target instanceof DedicatedWorkerGlobalScope)) {\r\n            // @ts-ignore\r\n            this.target.postMessage(m);\r\n        }\r\n        else {\r\n            this.target.postMessage(m, '*');\r\n        }\r\n    };\r\n    return Protocol;\r\n}());\n\n/**\r\n * Returns an action that describes to open a notification in the editor\r\n *\r\n * @export\r\n * @param {string} title\r\n * @param {('notice' | 'warning' | 'error' | 'success')} [notificationType='notice']\r\n * @param {number} [timeAlive=2] How long the notification should show in seconds\r\n * @returns {NotificationAction}\r\n */\r\nfunction show(title, notificationType, timeAlive) {\r\n    if (notificationType === void 0) { notificationType = 'notice'; }\r\n    if (timeAlive === void 0) { timeAlive = 2; }\r\n    // TODO automatically add type: 'action', maybe do this after conversion to TS\r\n    return {\r\n        type: 'action',\r\n        action: 'notification',\r\n        title: title,\r\n        notificationType: notificationType,\r\n        timeAlive: timeAlive,\r\n    };\r\n}\r\n\n\nvar notifications = Object.freeze({\n\tshow: show\n});\n\nfunction openModule(id, lineNumber, column) {\r\n    // TODO automatically add type: 'action', maybe do this after conversion to TS\r\n    return {\r\n        type: 'action',\r\n        action: 'editor.open-module',\r\n        path: id,\r\n        lineNumber: lineNumber,\r\n        column: column,\r\n    };\r\n}\r\n\n\nvar editor = Object.freeze({\n\topenModule: openModule\n});\n\nfunction add(dependencyName) {\r\n    return {\r\n        type: 'action',\r\n        action: 'source.dependencies.add',\r\n        dependency: dependencyName,\r\n    };\r\n}\r\n\n\nvar d = Object.freeze({\n\tadd: add\n});\n\nfunction rename(path, title) {\r\n    return {\r\n        type: 'action',\r\n        action: 'source.module.rename',\r\n        path: path,\r\n        title: title,\r\n    };\r\n}\r\n\n\nvar m = Object.freeze({\n\trename: rename\n});\n\nvar dependencies = d;\r\nvar modules = m;\r\n\n\nvar source = Object.freeze({\n\tdependencies: dependencies,\n\tmodules: modules\n});\n\n/**\r\n * Returns an action that describes to show an error\r\n * in the code of the editor (with the red squiggles)\r\n *\r\n * @export\r\n * @param {string} title\r\n * @param {string} message\r\n * @param {ErrorOptions} { line, column, path, payload }\r\n * @returns {ErrorAction}\r\n */\r\nfunction show$1(title, message, _a) {\r\n    var line = _a.line, column = _a.column, lineEnd = _a.lineEnd, columnEnd = _a.columnEnd, path = _a.path, payload = _a.payload, source = _a.source;\r\n    return {\r\n        title: title,\r\n        message: message,\r\n        line: line,\r\n        column: column,\r\n        path: path,\r\n        payload: payload,\r\n        lineEnd: lineEnd,\r\n        columnEnd: columnEnd,\r\n        severity: 'error',\r\n        type: 'action',\r\n        action: 'show-error',\r\n        source: source || 'browser',\r\n    };\r\n}\r\nfunction clear(path, source) {\r\n    return {\r\n        type: 'action',\r\n        action: 'clear-errors',\r\n        path: path,\r\n        source: source,\r\n    };\r\n}\r\n\n\nvar error = Object.freeze({\n\tshow: show$1,\n\tclear: clear\n});\n\n/**\r\n * Returns an action that describes to show a correction\r\n * in the code of the editor (with the yellow/blue squiggles)\r\n *\r\n * @export\r\n * @param {string} title\r\n * @param {string} message\r\n * @param {CorrectionOptions} { line, column, payload }\r\n * @returns {CorrectionAction}\r\n */\r\nfunction show$2(message, _a) {\r\n    var _b = _a === void 0 ? {\r\n        path: '',\r\n        severity: 'warning',\r\n        source: '',\r\n    } : _a, line = _b.line, column = _b.column, lineEnd = _b.lineEnd, columnEnd = _b.columnEnd, path = _b.path, payload = _b.payload, _c = _b.severity, severity = _c === void 0 ? 'warning' : _c, _d = _b.source, source = _d === void 0 ? '' : _d;\r\n    return {\r\n        message: message,\r\n        line: line,\r\n        column: column,\r\n        lineEnd: lineEnd,\r\n        columnEnd: columnEnd,\r\n        path: path,\r\n        payload: payload,\r\n        severity: severity,\r\n        source: source,\r\n        type: 'action',\r\n        action: 'show-correction',\r\n    };\r\n}\r\nfunction clear$1(path, source) {\r\n    return {\r\n        type: 'action',\r\n        action: 'clear-corrections',\r\n        path: path,\r\n        source: source,\r\n    };\r\n}\r\n\n\nvar correction = Object.freeze({\n\tshow: show$2,\n\tclear: clear$1\n});\n\n/**\r\n * Returns an action that describes to show a correction\r\n * in the code of the editor (with the yellow/blue squiggles)\r\n *\r\n * @export\r\n * @param {string} title\r\n * @param {string} message\r\n * @param {CorrectionOptions} { line, column, payload }\r\n * @returns {CorrectionAction}\r\n */\r\nfunction show$3(_a) {\r\n    var line = _a.line, path = _a.path, className = _a.className;\r\n    return {\r\n        line: line,\r\n        path: path,\r\n        className: className,\r\n        type: 'action',\r\n        action: 'show-glyph',\r\n    };\r\n}\r\n\n\nvar glyph = Object.freeze({\n\tshow: show$3\n});\n\n// All actions of the editor are defined here. The sandbox can send messages\r\n// like `source.files.rename` which the editor will see as an action to rename\r\n// a module. This will allow plugins to alter project content in the future\r\nvar actions = {\r\n    notifications: notifications,\r\n    editor: editor,\r\n    source: source,\r\n    error: error,\r\n    correction: correction,\r\n    glyph: glyph,\r\n};\n\n// import * as debug from 'debug';\r\n// import host from './host';\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar bundlers = new Map();\r\nfunction checkIsStandalone() {\r\n    if (typeof window === 'undefined') {\r\n        return true;\r\n    }\r\n    if (window.location && window.location.href.indexOf('?standalone') > -1) {\r\n        return true;\r\n    }\r\n    return !window.opener && window.parent === window;\r\n}\r\n// Whether the tab has a connection with the editor\r\nvar isStandalone = checkIsStandalone();\r\n// Field used by a \"child\" frame to determine its parent origin\r\nvar parentOrigin = null;\r\nvar parentOriginListener = function (e) {\r\n    if (e.data.type === 'register-frame') {\r\n        parentOrigin = e.data.origin;\r\n        self.removeEventListener('message', parentOriginListener);\r\n    }\r\n};\r\nif (typeof window !== 'undefined') {\r\n    self.addEventListener('message', parentOriginListener);\r\n}\r\nfunction resetState() {\r\n    parentOrigin = null;\r\n    bundlers.clear();\r\n}\r\n/**\r\n * Send a message to the editor, this is most probably an action you generated\r\n *\r\n * @export\r\n * @param {*} message\r\n * @returns\r\n */\r\nfunction dispatch(message) {\r\n    if (!message)\r\n        return;\r\n    var newMessage = __assign(__assign({}, message), { codesandbox: true });\r\n    notifyListeners(newMessage);\r\n    notifyFrames(newMessage);\r\n    if (isStandalone)\r\n        return;\r\n    if (parentOrigin === null && message.type !== 'initialized')\r\n        return;\r\n    if (window.opener) {\r\n        window.opener.postMessage(newMessage, parentOrigin === null ? '*' : parentOrigin);\r\n    }\r\n    else {\r\n        window.parent.postMessage(newMessage, parentOrigin === null ? '*' : parentOrigin);\r\n    }\r\n}\r\nvar listeners = {};\r\nvar listenerId = 0;\r\n/**\r\n * Listen to everything that comes in from either the editor or the sandbox\r\n * @param callback Call this function to 'unlisten'\r\n */\r\nfunction listen(callback) {\r\n    var id = ++listenerId;\r\n    listeners[id] = callback;\r\n    return function () {\r\n        delete listeners[id];\r\n    };\r\n}\r\nfunction notifyListeners(data, source) {\r\n    Object.keys(listeners).forEach(function (listenerId) {\r\n        if (listeners[listenerId]) {\r\n            listeners[listenerId](data, source);\r\n        }\r\n    });\r\n}\r\nfunction notifyFrames(message) {\r\n    var rawMessage = JSON.parse(JSON.stringify(message));\r\n    bundlers.forEach(function (origin, frame) {\r\n        if (frame && frame.postMessage) {\r\n            frame.postMessage(__assign(__assign({}, rawMessage), { codesandbox: true }), origin);\r\n        }\r\n    });\r\n}\r\nfunction eventListener(e) {\r\n    var data = e.data;\r\n    if (data && data.codesandbox && (parentOrigin === null || e.origin === parentOrigin)) {\r\n        notifyListeners(data, e.source);\r\n    }\r\n}\r\n/**\r\n * Register an window as a output the `dispatch` function can send messages to.\r\n *\r\n * @param frame\r\n */\r\nfunction registerFrame(frame, origin) {\r\n    bundlers.set(frame, origin);\r\n    frame.postMessage({\r\n        type: 'register-frame',\r\n        origin: document.location.origin,\r\n    }, origin);\r\n}\r\nif (typeof window !== 'undefined') {\r\n    // We now start listening so we can let our listeners know\r\n    window.addEventListener('message', eventListener);\r\n}\r\nfunction reattach() {\r\n    window.addEventListener('message', eventListener);\r\n}\n\n// Errors\n\nexport { Protocol, transformError, clearErrorTransformers, registerErrorTransformer, actions, isStandalone, resetState, dispatch, listen, notifyListeners, registerFrame, reattach };\n//# sourceMappingURL=codesandbox.es5.js.map\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction detectIE() {\r\n    const ua = navigator.userAgent;\r\n    const msie = ua.indexOf('MSIE ');\r\n    if (msie > 0) {\r\n        // IE 10 or older => return version number\r\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n    }\r\n    const trident = ua.indexOf('Trident/');\r\n    if (trident > 0) {\r\n        // IE 11 => return version number\r\n        const rv = ua.indexOf('rv:');\r\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n    }\r\n    // other browser\r\n    return false;\r\n}\r\nfunction detectOpera() {\r\n    return navigator.userAgent.indexOf('Opera') > -1;\r\n}\r\nfunction detectOldBrowser() {\r\n    return detectIE() || detectOpera();\r\n}\r\nexports.default = detectOldBrowser;\r\n","\"use strict\";\n\n/**\n  This is a modified version of jsonlint lib.\n\n  It removes some of the native bindings to make\n  it safe to use in the browser.\n\n  Original: https://github.com/zaach/jsonlint/blob/master/lib/jsonlint.js\n*/\n\n/* Jison generated parser */\nvar jsonlint = function () {\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      JSONString: 3,\n      STRING: 4,\n      JSONNumber: 5,\n      NUMBER: 6,\n      JSONNullLiteral: 7,\n      NULL: 8,\n      JSONBooleanLiteral: 9,\n      TRUE: 10,\n      FALSE: 11,\n      JSONText: 12,\n      JSONValue: 13,\n      EOF: 14,\n      JSONObject: 15,\n      JSONArray: 16,\n      '{': 17,\n      '}': 18,\n      JSONMemberList: 19,\n      JSONMember: 20,\n      ':': 21,\n      ',': 22,\n      '[': 23,\n      ']': 24,\n      JSONElementList: 25,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      4: 'STRING',\n      6: 'NUMBER',\n      8: 'NULL',\n      10: 'TRUE',\n      11: 'FALSE',\n      14: 'EOF',\n      17: '{',\n      18: '}',\n      21: ':',\n      22: ',',\n      23: '[',\n      24: ']'\n    },\n    productions_: [0, [3, 1], [5, 1], [7, 1], [9, 1], [9, 1], [12, 2], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [15, 2], [15, 3], [20, 3], [19, 1], [19, 3], [16, 2], [16, 3], [25, 1], [25, 3]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          // replace escaped characters with actual character\n          this.$ = yytext.replace(/\\\\(\\\\|\")/g, '$' + '1').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\v/g, '\\v').replace(/\\\\f/g, '\\f').replace(/\\\\b/g, '\\b');\n          break;\n\n        case 2:\n          this.$ = Number(yytext);\n          break;\n\n        case 3:\n          this.$ = null;\n          break;\n\n        case 4:\n          this.$ = true;\n          break;\n\n        case 5:\n          this.$ = false;\n          break;\n\n        case 6:\n          return this.$ = $$[$0 - 1];\n          break;\n\n        case 13:\n          this.$ = {};\n          break;\n\n        case 14:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 15:\n          this.$ = [$$[$0 - 2], $$[$0]];\n          break;\n\n        case 16:\n          this.$ = {};\n          this.$[$$[$0][0]] = $$[$0][1];\n          break;\n\n        case 17:\n          this.$ = $$[$0 - 2];\n          $$[$0 - 2][$$[$0][0]] = $$[$0][1];\n          break;\n\n        case 18:\n          this.$ = [];\n          break;\n\n        case 19:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 20:\n          this.$ = [$$[$0]];\n          break;\n\n        case 21:\n          this.$ = $$[$0 - 2];\n          $$[$0 - 2].push($$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      12: 1,\n      13: 2,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15]\n    }, {\n      1: [3]\n    }, {\n      14: [1, 16]\n    }, {\n      14: [2, 7],\n      18: [2, 7],\n      22: [2, 7],\n      24: [2, 7]\n    }, {\n      14: [2, 8],\n      18: [2, 8],\n      22: [2, 8],\n      24: [2, 8]\n    }, {\n      14: [2, 9],\n      18: [2, 9],\n      22: [2, 9],\n      24: [2, 9]\n    }, {\n      14: [2, 10],\n      18: [2, 10],\n      22: [2, 10],\n      24: [2, 10]\n    }, {\n      14: [2, 11],\n      18: [2, 11],\n      22: [2, 11],\n      24: [2, 11]\n    }, {\n      14: [2, 12],\n      18: [2, 12],\n      22: [2, 12],\n      24: [2, 12]\n    }, {\n      14: [2, 3],\n      18: [2, 3],\n      22: [2, 3],\n      24: [2, 3]\n    }, {\n      14: [2, 4],\n      18: [2, 4],\n      22: [2, 4],\n      24: [2, 4]\n    }, {\n      14: [2, 5],\n      18: [2, 5],\n      22: [2, 5],\n      24: [2, 5]\n    }, {\n      14: [2, 1],\n      18: [2, 1],\n      21: [2, 1],\n      22: [2, 1],\n      24: [2, 1]\n    }, {\n      14: [2, 2],\n      18: [2, 2],\n      22: [2, 2],\n      24: [2, 2]\n    }, {\n      3: 20,\n      4: [1, 12],\n      18: [1, 17],\n      19: 18,\n      20: 19\n    }, {\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      13: 23,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15],\n      24: [1, 21],\n      25: 22\n    }, {\n      1: [2, 6]\n    }, {\n      14: [2, 13],\n      18: [2, 13],\n      22: [2, 13],\n      24: [2, 13]\n    }, {\n      18: [1, 24],\n      22: [1, 25]\n    }, {\n      18: [2, 16],\n      22: [2, 16]\n    }, {\n      21: [1, 26]\n    }, {\n      14: [2, 18],\n      18: [2, 18],\n      22: [2, 18],\n      24: [2, 18]\n    }, {\n      22: [1, 28],\n      24: [1, 27]\n    }, {\n      22: [2, 20],\n      24: [2, 20]\n    }, {\n      14: [2, 14],\n      18: [2, 14],\n      22: [2, 14],\n      24: [2, 14]\n    }, {\n      3: 20,\n      4: [1, 12],\n      20: 29\n    }, {\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      13: 30,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15]\n    }, {\n      14: [2, 19],\n      18: [2, 19],\n      22: [2, 19],\n      24: [2, 19]\n    }, {\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      13: 31,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15]\n    }, {\n      18: [2, 17],\n      22: [2, 17]\n    }, {\n      18: [2, 15],\n      22: [2, 15]\n    }, {\n      22: [2, 21],\n      24: [2, 21]\n    }],\n    defaultActions: {\n      16: [2, 6]\n    },\n    parseError: function parseError(str, hash) {\n      throw new Error(str);\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          vstack = [null],\n          // semantic value stack\n      lstack = [],\n          // location stack\n      table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1; //this.reductionCount = this.shiftCount = 0;\n\n      this.lexer.setInput(input);\n      this.lexer.yy = this.yy;\n      this.yy.lexer = this.lexer;\n      if (typeof this.lexer.yylloc == 'undefined') this.lexer.yylloc = {};\n      var yyloc = this.lexer.yylloc;\n      lstack.push(yyloc);\n      if (typeof this.yy.parseError === 'function') this.parseError = this.yy.parseError;\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      function lex() {\n        var token;\n        token = self.lexer.lex() || 1; // $end = 1\n        // if token isn't its numeric value, convert\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      }\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        // retreive state number from top of stack\n        state = stack[stack.length - 1]; // use default actions if available\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol == null) symbol = lex(); // read action for current state and first input\n\n          action = table[state] && table[state][symbol];\n        } // handle parse error\n\n\n        _handle_error: if (typeof action === 'undefined' || !action.length || !action[0]) {\n          if (!recovering) {\n            // Report error\n            expected = [];\n\n            for (p in table[state]) {\n              if (this.terminals_[p] && p > 2) {\n                expected.push(\"'\" + this.terminals_[p] + \"'\");\n              }\n            }\n\n            var errStr = '';\n\n            if (this.lexer.showPosition) {\n              errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + this.lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + \", got '\" + this.terminals_[symbol] + \"'\";\n            } else {\n              errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == 1\n              /*EOF*/\n              ? 'end of input' : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n            }\n\n            this.parseError(errStr, {\n              text: this.lexer.match,\n              token: this.terminals_[symbol] || symbol,\n              line: this.lexer.yylineno,\n              loc: yyloc,\n              expected: expected\n            });\n          } // just recovered from another error\n\n\n          if (recovering == 3) {\n            if (symbol == EOF) {\n              throw new Error(errStr || 'Parsing halted.');\n            } // discard current lookahead and grab another\n\n\n            yyleng = this.lexer.yyleng;\n            yytext = this.lexer.yytext;\n            yylineno = this.lexer.yylineno;\n            yyloc = this.lexer.yylloc;\n            symbol = lex();\n          } // try to recover from error\n\n\n          while (1) {\n            // check for error recovery rule in this state\n            if (TERROR.toString() in table[state]) {\n              break;\n            }\n\n            if (state == 0) {\n              throw new Error(errStr || 'Parsing halted.');\n            }\n\n            popStack(1);\n            state = stack[stack.length - 1];\n          }\n\n          preErrorSymbol = symbol; // save the lookahead token\n\n          symbol = TERROR; // insert generic error symbol as new lookahead\n\n          state = stack[stack.length - 1];\n          action = table[state] && table[state][TERROR];\n          recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n        } // this shouldn't happen, unless resolve defaults are off\n\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            // shift\n            //this.shiftCount++;\n            stack.push(symbol);\n            vstack.push(this.lexer.yytext);\n            lstack.push(this.lexer.yylloc);\n            stack.push(action[1]); // push state\n\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              // normal execution/no error\n              yyleng = this.lexer.yyleng;\n              yytext = this.lexer.yytext;\n              yylineno = this.lexer.yylineno;\n              yyloc = this.lexer.yylloc;\n              if (recovering > 0) recovering--;\n            } else {\n              // error just occurred, resume old lookahead f/ before error\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            // reduce\n            //this.reductionCount++;\n            len = this.productions_[action[1]][1]; // perform semantic action\n\n            yyval.$ = vstack[vstack.length - len]; // default to $$ = $1\n            // default location, uses first token for firsts, last for lasts\n\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n\n            if (typeof r !== 'undefined') {\n              return r;\n            } // pop off stack\n\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]); // push nonterminal (reduce)\n\n            vstack.push(yyval.$);\n            lstack.push(yyval._$); // goto new state = table[STATE][NONTERMINAL]\n\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            // accept\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n  /* Jison generated lexer */\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parseError) {\n          this.yy.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      setInput: function setInput(input) {\n        this._input = input;\n        this._more = this._less = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        return this;\n      },\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/\\n/);\n        if (lines) this.yylineno++;\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      unput: function unput(ch) {\n        this._input = ch + this._input;\n        return this;\n      },\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      less: function less(n) {\n        this._input = this.match.slice(n) + this._input;\n      },\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '');\n      },\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, '');\n      },\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join('-');\n        return pre + this.upcomingInput() + '\\n' + c + '^';\n      },\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) this.done = true;\n        var token, match, tempMatch, index, col, lines;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (!this.options.flex) break;\n          }\n        }\n\n        if (match) {\n          lines = match[0].match(/\\n.*/g);\n          if (lines) this.yylineno += lines.length;\n          this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ? lines[lines.length - 1].length - 1 : this.yylloc.last_column + match[0].length\n          };\n          this.yytext += match[0];\n          this.match += match[0];\n          this.yyleng = this.yytext.length;\n          this._more = false;\n          this._input = this._input.slice(match[0].length);\n          this.matched += match[0];\n          token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);\n          if (this.done && this._input) this.done = false;\n          if (token) return token;else return;\n        }\n\n        if (this._input === '') {\n          return this.EOF;\n        } else {\n          this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      lex: function lex() {\n        var r = this.next();\n\n        if (typeof r !== 'undefined') {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      popState: function popState() {\n        return this.conditionStack.pop();\n      },\n      _currentRules: function _currentRules() {\n        return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n      },\n      topState: function topState() {\n        return this.conditionStack[this.conditionStack.length - 2];\n      },\n      pushState: function begin(condition) {\n        this.begin(condition);\n      }\n    };\n    lexer.options = {};\n\n    lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n      var YYSTATE = YY_START;\n\n      switch ($avoiding_name_collisions) {\n        case 0\n        /* skip whitespace */\n        :\n          break;\n\n        case 1:\n          return 6;\n          break;\n\n        case 2:\n          yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2);\n          return 4;\n          break;\n\n        case 3:\n          return 17;\n          break;\n\n        case 4:\n          return 18;\n          break;\n\n        case 5:\n          return 23;\n          break;\n\n        case 6:\n          return 24;\n          break;\n\n        case 7:\n          return 22;\n          break;\n\n        case 8:\n          return 21;\n          break;\n\n        case 9:\n          return 10;\n          break;\n\n        case 10:\n          return 11;\n          break;\n\n        case 11:\n          return 8;\n          break;\n\n        case 12:\n          return 14;\n          break;\n\n        case 13:\n          return 'INVALID';\n          break;\n      }\n    };\n\n    lexer.rules = [/^(?:\\s+)/, /^(?:(-?([0-9]|[1-9][0-9]+))(\\.[0-9]+)?([eE][-+]?[0-9]+)?\\b)/, /^(?:\"(?:\\\\[\\\\\"bfnrt/]|\\\\u[a-fA-F0-9]{4}|[^\\\\\\0-\\x09\\x0a-\\x1f\"])*\")/, /^(?:\\{)/, /^(?:\\})/, /^(?:\\[)/, /^(?:\\])/, /^(?:,)/, /^(?::)/, /^(?:true\\b)/, /^(?:false\\b)/, /^(?:null\\b)/, /^(?:$)/, /^(?:.)/];\n    lexer.conditions = {\n      INITIAL: {\n        rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],\n        inclusive: true\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n  return parser;\n}();\n\nexports.parser = jsonlint;\n\nexports.parse = function () {\n  return jsonlint.parse.apply(jsonlint, arguments);\n};","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst detect_old_browser_1 = __importDefault(require(\"./detect-old-browser\"));\r\nfunction requirePolyfills() {\r\n    const promises = [];\r\n    if (detect_old_browser_1.default() || typeof Object.entries === 'undefined') {\r\n        promises.push(Promise.resolve().then(() => __importStar(require(/* webpackChunkName: 'polyfills' */ '@babel/polyfill'))));\r\n    }\r\n    if (typeof Error.captureStackTrace === 'undefined') {\r\n        promises.push(Promise.resolve().then(() => __importStar(require(/* webpackChunkName: 'error-polyfill' */ 'error-polyfill'))));\r\n    }\r\n    return Promise.all(promises);\r\n}\r\nexports.default = requirePolyfills;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    printWidth: 80,\r\n    tabWidth: 2,\r\n    useTabs: false,\r\n    semi: true,\r\n    singleQuote: false,\r\n    trailingComma: 'none',\r\n    bracketSpacing: true,\r\n    jsxBracketSameLine: false,\r\n};\r\n","\"use strict\";\r\n// In production, we register a service worker to serve assets from local cache.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\r\nconst isHttp = Boolean(window.location.protocol === 'http:');\r\nfunction register(swUrl, { onUpdated, onInstalled }) {\r\n    if ('serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        // @ts-ignore\r\n        const publicUrl = new URL(process.env.PUBLIC_URL || '/', window.location);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n            return;\r\n        }\r\n        // window.addEventListener('load', () => {\r\n        if (!isLocalhost && !isHttp) {\r\n            // It's neither localhost nor http. Just register service worker\r\n            registerValidSW(swUrl, { onUpdated, onInstalled });\r\n        }\r\n        else if (isLocalhost) {\r\n            // This is running on localhost. Lets check if a service worker still exists or not.\r\n            checkValidServiceWorker(swUrl, { onUpdated, onInstalled });\r\n        }\r\n        // });\r\n    }\r\n}\r\nexports.default = register;\r\nfunction registerValidSW(swUrl, { onUpdated, onInstalled, } = {}) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n        registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n                if (installingWorker.state === 'installed') {\r\n                    if (navigator.serviceWorker.controller) {\r\n                        // At this point, the old content will have been purged and\r\n                        // the fresh content will have been added to the cache.\r\n                        // It's the perfect time to display a \"New content is\r\n                        // available; please refresh.\" message in your web app.\r\n                        if (onUpdated) {\r\n                            onUpdated();\r\n                        }\r\n                    }\r\n                    else if (onInstalled) {\r\n                        // At this point, everything has been precached.\r\n                        // It's the perfect time to display a\r\n                        // \"Content is cached for offline use.\" message.\r\n                        onInstalled();\r\n                    }\r\n                }\r\n                else if (installingWorker.state === 'redundant') {\r\n                    if ('storage' in navigator && 'estimate' in navigator.storage) {\r\n                        navigator.storage.estimate().then(results => {\r\n                            const percentUsed = (results.usage / results.quota) * 100;\r\n                            // Let's assume that if we're using 95% of our quota, then this failure\r\n                            // was due to quota exceeded errors.\r\n                            // TODO: Hardcoding a threshold stinks.\r\n                            if (percentUsed >= 0.95) {\r\n                                // Get rid of the existing SW so that we're not stuck\r\n                                // with the previously cached content.\r\n                                registration.unregister();\r\n                                // Let's assume that we have some way of doing this without inadvertantly\r\n                                // blowing away storage being used on the origin by something other than\r\n                                // our service worker.\r\n                                // I don't think that the Clear-Site-Data: header helps here, unfortunately.\r\n                                self.caches.keys().then(names => {\r\n                                    names.forEach(name => {\r\n                                        self.caches.delete(name);\r\n                                    });\r\n                                });\r\n                                // TODO clear indexeddb\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        // What about browsers that don't support navigator.storage.estimate()?\r\n                        // There's no way of guessing why the service worker is redundant.\r\n                    }\r\n                }\r\n            };\r\n        };\r\n    })\r\n        .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\nfunction checkValidServiceWorker(swUrl, { onUpdated, onInstalled }) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        if (response.status === 404 ||\r\n            response.headers.get('content-type').indexOf('javascript') === -1) {\r\n            // No service worker found. Probably a different app. Reload the page.\r\n            navigator.serviceWorker.ready.then(registration => {\r\n                registration.unregister().then(() => {\r\n                    window.location.reload();\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            // Service worker found. Proceed as normal.\r\n            registerValidSW(swUrl, { onUpdated, onInstalled });\r\n        }\r\n    })\r\n        .catch(e => {\r\n        // eslint-disable-next-line no-console\r\n        console.log('No internet connection found. App is running in offline mode.', e);\r\n    });\r\n}\r\nfunction unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\nexports.unregister = unregister;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst memoize_1 = __importDefault(require(\"lodash/memoize\"));\r\nconst templates_1 = __importDefault(require(\"../templates\"));\r\nconst parse_1 = __importDefault(require(\"../templates/configuration/parse\"));\r\nconst compareTitle = (original, test, ignoredExtensions) => {\r\n    if (original === test)\r\n        return true;\r\n    return ignoredExtensions.some(ext => original === `${test}.${ext}`);\r\n};\r\nconst throwError = (path) => {\r\n    throw new Error(`Cannot find module in ${path}`);\r\n};\r\nfunction resolveDirectory(_path, modules, directories, _startdirectoryShortid = undefined) {\r\n    if (!_path) {\r\n        return throwError('');\r\n    }\r\n    let path = _path;\r\n    let startdirectoryShortid = _startdirectoryShortid;\r\n    // If paths start with {{sandboxRoot}} we see them as root paths\r\n    if (path.startsWith('{{sandboxRoot}}')) {\r\n        startdirectoryShortid = undefined;\r\n        path = _path.replace('{{sandboxRoot}}/', './');\r\n    }\r\n    // Split path\r\n    const splitPath = path\r\n        .replace(/^.\\//, '')\r\n        .split('/')\r\n        .filter(Boolean);\r\n    const foundDirectoryShortid = splitPath.reduce((dirId, pathPart, i) => {\r\n        // Meaning this is the last argument, so the directory\r\n        if (i === splitPath.length) {\r\n            return dirId;\r\n        }\r\n        if (pathPart === '..') {\r\n            // Find the parent\r\n            const dir = directories.find(d => d.shortid === dirId);\r\n            if (dir == null)\r\n                throwError(path);\r\n            return dir.directoryShortid;\r\n        }\r\n        const directoriesInDirectory = directories.filter(\r\n        // eslint-disable-next-line eqeqeq\r\n        m => m.directoryShortid == dirId);\r\n        const nextDirectory = directoriesInDirectory.find(d => compareTitle(d.title, pathPart, []));\r\n        if (nextDirectory == null)\r\n            throwError(path);\r\n        return nextDirectory.shortid;\r\n    }, startdirectoryShortid);\r\n    return directories.find(d => d.shortid === foundDirectoryShortid);\r\n}\r\nexports.resolveDirectory = resolveDirectory;\r\nfunction getModulesInDirectory(_path, modules, directories, _startdirectoryShortid = undefined) {\r\n    if (!_path)\r\n        return throwError('');\r\n    let path = _path;\r\n    // If paths start with {{sandboxRoot}} we see them as root paths\r\n    if (path.startsWith('{{sandboxRoot}}')) {\r\n        path = _path.replace('{{sandboxRoot}}/', './');\r\n    }\r\n    // Split path\r\n    const splitPath = path\r\n        .replace(/^.\\//, '')\r\n        .split('/')\r\n        .filter(Boolean);\r\n    const dirPath = path\r\n        .replace(/^.\\//, '')\r\n        .split('/')\r\n        .filter(Boolean);\r\n    dirPath.pop();\r\n    const dir = resolveDirectory(dirPath.join('/') || '/', modules, directories, _startdirectoryShortid);\r\n    const foundDirectoryShortid = dir ? dir.shortid : null;\r\n    const lastPath = splitPath[splitPath.length - 1];\r\n    const modulesInFoundDirectory = modules.filter(\r\n    // eslint-disable-next-line eqeqeq\r\n    m => m.directoryShortid == foundDirectoryShortid);\r\n    return {\r\n        modules: modulesInFoundDirectory,\r\n        foundDirectoryShortid,\r\n        lastPath,\r\n        splitPath,\r\n    };\r\n}\r\nexports.getModulesInDirectory = getModulesInDirectory;\r\n/**\r\n * Convert the module path to a module\r\n */\r\nexports.resolveModule = (path, modules, directories, startdirectoryShortid = undefined, ignoredExtensions = ['js', 'jsx', 'json']) => {\r\n    const { modules: modulesInFoundDirectory, lastPath, splitPath, foundDirectoryShortid, } = getModulesInDirectory(path, modules, directories, startdirectoryShortid);\r\n    // Find module with same name\r\n    const foundModule = modulesInFoundDirectory.find(m => compareTitle(m.title, lastPath, ignoredExtensions));\r\n    if (foundModule)\r\n        return foundModule;\r\n    // Check all directories in said directory for same name\r\n    const directoriesInFoundDirectory = directories.filter(\r\n    // eslint-disable-next-line eqeqeq\r\n    m => m.directoryShortid == foundDirectoryShortid);\r\n    const foundDirectory = directoriesInFoundDirectory.find(m => compareTitle(m.title, lastPath, ignoredExtensions));\r\n    // If it refers to a directory\r\n    if (foundDirectory) {\r\n        // Find module named index\r\n        const indexModule = modules.find(m => \r\n        // eslint-disable-next-line eqeqeq\r\n        m.directoryShortid == foundDirectory.shortid &&\r\n            compareTitle(m.title, 'index', ignoredExtensions));\r\n        if (indexModule == null)\r\n            throwError(path);\r\n        return indexModule;\r\n    }\r\n    if (splitPath[splitPath.length - 1] === '') {\r\n        // Last resort, check if there is something in the same folder called index\r\n        const indexModule = modulesInFoundDirectory.find(m => compareTitle(m.title, 'index', ignoredExtensions));\r\n        if (indexModule)\r\n            return indexModule;\r\n    }\r\n    return throwError(path);\r\n};\r\nfunction findById(entities, id) {\r\n    return entities.find(e => e.id === id);\r\n}\r\nfunction findByShortid(entities, shortid) {\r\n    return entities.find(e => e.shortid === shortid);\r\n}\r\nconst getPath = (arrayToLookIn, modules, directories, id) => {\r\n    const module = findById(arrayToLookIn, id);\r\n    if (!module)\r\n        return '';\r\n    let directory = findByShortid(directories, module.directoryShortid);\r\n    let path = '/';\r\n    if (directory == null && module.directoryShortid) {\r\n        // Parent got deleted, return '';\r\n        return '';\r\n    }\r\n    while (directory != null) {\r\n        path = `/${directory.title}${path}`;\r\n        const lastDirectoryShortid = directory.directoryShortid;\r\n        directory = findByShortid(directories, directory.directoryShortid);\r\n        // In this case it couldn't find the parent directory of this dir, so probably\r\n        // deleted. we just return '' in that case\r\n        if (!directory && lastDirectoryShortid) {\r\n            return '';\r\n        }\r\n    }\r\n    return `${path}${module.title}`;\r\n};\r\nconst memoizeFunction = (modules, directories, id) => id +\r\n    modules.map(m => m.id + m.title + m.directoryShortid).join(',') +\r\n    directories.map(d => d.id + d.title + d.directoryShortid).join(',');\r\nexports.getModulePath = memoize_1.default((modules, directories, id) => getPath(modules, modules, directories, id), memoizeFunction);\r\nexports.getDirectoryPath = memoize_1.default((modules, directories, id) => getPath(directories, modules, directories, id), memoizeFunction);\r\nexports.getChildren = memoize_1.default((modules = [], directories = [], id) => [\r\n    ...directories.filter(d => d.directoryShortid === id),\r\n    ...modules.filter(m => m.directoryShortid === id),\r\n], memoizeFunction);\r\nexports.isMainModule = (module, modules, directories, entry = 'index.js') => {\r\n    const path = exports.getModulePath(modules, directories, module.id);\r\n    return path.replace('/', '') === entry;\r\n};\r\nexports.findMainModule = (sandbox) => {\r\n    const resolve = exports.resolveModuleWrapped(sandbox);\r\n    // first attempt: try loading the entry file if it exists\r\n    const entryModule = resolve(sandbox.entry);\r\n    if (entryModule) {\r\n        return entryModule;\r\n    }\r\n    // second attempt: try loading the first file that exists from\r\n    // the list of possible defaults in the template defination\r\n    const templateDefinition = templates_1.default(sandbox.template);\r\n    const parsedConfigs = parse_1.default(sandbox.template, templateDefinition.configurationFiles, resolve, sandbox);\r\n    const defaultOpenedFiles = templateDefinition.getDefaultOpenedFiles(parsedConfigs);\r\n    const defaultOpenModule = defaultOpenedFiles\r\n        .map(path => resolve(path))\r\n        .find(module => Boolean(module));\r\n    if (defaultOpenModule) {\r\n        return defaultOpenModule;\r\n    }\r\n    // third attempt: give up and load the first file in the list\r\n    return sandbox.modules[0];\r\n};\r\nexports.findCurrentModule = (modules, directories, modulePath = '', mainModule) => {\r\n    // cleanPath, encode and replace first /\r\n    const cleanPath = decodeURIComponent(modulePath).replace('/', '');\r\n    let foundModule = null;\r\n    try {\r\n        foundModule = exports.resolveModule(cleanPath, modules, directories);\r\n    }\r\n    catch (e) {\r\n        /* leave empty */\r\n    }\r\n    return (foundModule ||\r\n        modules.find(m => m.id === modulePath) ||\r\n        modules.find(m => m.shortid === modulePath) || // deep-links requires this\r\n        mainModule);\r\n};\r\nexports.resolveModuleWrapped = sandbox => (path) => {\r\n    try {\r\n        return exports.resolveModule(path, sandbox.modules, sandbox.directories);\r\n    }\r\n    catch (e) {\r\n        return undefined;\r\n    }\r\n};\r\nexports.resolveDirectoryWrapped = sandbox => (path) => {\r\n    try {\r\n        return resolveDirectory(path, sandbox.modules, sandbox.directories);\r\n    }\r\n    catch (e) {\r\n        return undefined;\r\n    }\r\n};\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('adonis', 'AdonisJs', 'https://adonisjs.com/', 'github/adonisjs/adonis-starter-codesandbox', theme_1.decorateSelector(() => '#fff'), {\r\n    isServer: true,\r\n    mainFile: ['/start/routes.js'],\r\n    showOnHomePage: true,\r\n    netlify: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"../utils/path\");\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nconst theme_1 = require(\"../theme\");\r\nfunction getAngularCLIEntries(parsed) {\r\n    const entries = [];\r\n    if (parsed) {\r\n        const app = parsed.apps && parsed.apps[0];\r\n        if (app && app.root && app.main) {\r\n            entries.push(path_1.absolute(path_1.join(app.root, app.main)));\r\n        }\r\n    }\r\n    return entries;\r\n}\r\nfunction getAngularJSONEntries(parsed) {\r\n    const entries = [];\r\n    if (parsed) {\r\n        const { defaultProject } = parsed;\r\n        const project = parsed.projects[defaultProject];\r\n        const { build } = project.architect;\r\n        if (build.options.main) {\r\n            entries.push(path_1.absolute(path_1.join(project.root, build.options.main)));\r\n        }\r\n    }\r\n    return entries;\r\n}\r\nfunction getAngularCLIHTMLEntry(parsed) {\r\n    if (parsed) {\r\n        const app = parsed.apps && parsed.apps[0];\r\n        if (app && app.root && app.index) {\r\n            return [path_1.absolute(path_1.join(app.root, app.index))];\r\n        }\r\n    }\r\n    return [];\r\n}\r\nfunction getAngularJSONHTMLEntry(parsed) {\r\n    if (parsed) {\r\n        const { defaultProject } = parsed;\r\n        const project = parsed.projects[defaultProject];\r\n        const { build } = project.architect;\r\n        if (build && project.root != null && build.options && build.options.index) {\r\n            return [path_1.absolute(path_1.join(project.root, build.options.index))];\r\n        }\r\n    }\r\n    return [];\r\n}\r\nclass AngularTemplate extends template_1.default {\r\n    /**\r\n     * Override entry file because of angular-cli\r\n     */\r\n    getEntries(configurationFiles) {\r\n        let entries = [];\r\n        if (!configurationFiles['angular-config'].generated) {\r\n            const { parsed } = configurationFiles['angular-config'];\r\n            entries = entries.concat(getAngularJSONEntries(parsed));\r\n        }\r\n        else {\r\n            const { parsed } = configurationFiles['angular-cli'];\r\n            entries = entries.concat(getAngularCLIEntries(parsed));\r\n        }\r\n        if (configurationFiles.package.parsed &&\r\n            configurationFiles.package.parsed.main) {\r\n            entries.push(path_1.absolute(configurationFiles.package.parsed.main));\r\n        }\r\n        entries.push('/src/main.ts');\r\n        entries.push('/main.ts');\r\n        return entries;\r\n    }\r\n    getHTMLEntries(configurationFiles) {\r\n        let entries = [];\r\n        if (!configurationFiles['angular-config'].generated) {\r\n            const { parsed } = configurationFiles['angular-config'];\r\n            entries = entries.concat(getAngularJSONHTMLEntry(parsed));\r\n        }\r\n        else if (configurationFiles['angular-cli']) {\r\n            const { parsed } = configurationFiles['angular-cli'];\r\n            entries = entries.concat(getAngularCLIHTMLEntry(parsed));\r\n        }\r\n        entries.push('/public/index.html');\r\n        entries.push('/index.html');\r\n        return entries;\r\n    }\r\n}\r\nexports.default = new AngularTemplate('angular-cli', 'Angular', 'https://github.com/angular/angular', 'angular', theme_1.decorateSelector(() => '#DD0031'), {\r\n    extraConfigurations: {\r\n        '/.angular-cli.json': configuration_1.default.angularCli,\r\n        '/angular.json': configuration_1.default.angularJSON,\r\n    },\r\n    netlify: false,\r\n    isTypescript: true,\r\n    distDir: 'dist',\r\n    showOnHomePage: true,\r\n    popular: true,\r\n    main: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('apollo', 'Apollo', 'https://www.apollographql.com/docs/apollo-server/', 'apollo-server', theme_1.decorateSelector(() => '#c4198b'), {\r\n    isServer: true,\r\n    netlify: false,\r\n    mainFile: ['/src/index.js'],\r\n    showOnHomePage: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('babel-repl', 'Babel', 'https://github.com/@babel/core', 'babel', theme_1.decorateSelector(() => '#F5DA55'), {\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n        '/babel-transpiler.json': configuration_1.default.babelTranspiler,\r\n    },\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: '.angular-cli.json',\r\n    type: 'angular-cli',\r\n    description: 'The configuration used for angular-cli, the cli to run angular projects.',\r\n    moreInfoUrl: 'https://github.com/angular/angular-cli/wiki/angular-cli',\r\n    getDefaultCode: () => JSON.stringify({\r\n        apps: [\r\n            {\r\n                root: 'src',\r\n                outDir: 'dist',\r\n                index: 'index.html',\r\n                main: 'main.ts',\r\n                polyfills: 'polyfills.ts',\r\n                styles: [],\r\n                scripts: [],\r\n            },\r\n        ],\r\n    }, null, 2),\r\n    schema: 'https://raw.githubusercontent.com/angular/angular-cli/master/packages/@angular/cli/lib/config/schema.json',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'angular.json',\r\n    type: 'angular-config',\r\n    description: 'The configuration used for angular-cli v6, the new cli to run angular projects.',\r\n    moreInfoUrl: 'https://github.com/angular/angular-cli/wiki/angular-cli',\r\n    partialSupportDisclaimer: `Only \\`project.build\\` field is supported.`,\r\n    getDefaultCode: () => JSON.stringify({\r\n        version: 1,\r\n        newProjectRoot: 'projects',\r\n        projects: {\r\n            codesandbox: {\r\n                root: '',\r\n                sourceRoot: 'src',\r\n                projectType: 'application',\r\n                prefix: 'app',\r\n                schematics: {},\r\n                architect: {\r\n                    build: {\r\n                        builder: '@angular-devkit/build-angular:browser',\r\n                        options: {\r\n                            outputPath: 'dist/codesandbox',\r\n                            index: 'src/index.html',\r\n                            main: 'src/main.ts',\r\n                            polyfills: 'src/polyfills.ts',\r\n                            tsConfig: 'src/tsconfig.app.json',\r\n                            assets: ['src/favicon.png', 'src/assets'],\r\n                            styles: ['src/styles.css'],\r\n                            scripts: [],\r\n                        },\r\n                        configurations: {\r\n                            production: {\r\n                                fileReplacements: [\r\n                                    {\r\n                                        replace: 'src/environments/environment.ts',\r\n                                        with: 'src/environments/environment.prod.ts',\r\n                                    },\r\n                                ],\r\n                                optimization: true,\r\n                                outputHashing: 'all',\r\n                                sourceMap: false,\r\n                                extractCss: true,\r\n                                namedChunks: false,\r\n                                aot: true,\r\n                                extractLicenses: true,\r\n                                vendorChunk: false,\r\n                                buildOptimizer: true,\r\n                            },\r\n                        },\r\n                    },\r\n                    serve: {\r\n                        builder: '@angular-devkit/build-angular:dev-server',\r\n                        options: {\r\n                            browserTarget: 'codesandbox:build',\r\n                        },\r\n                        configurations: {\r\n                            production: {\r\n                                browserTarget: 'codesandbox:build:production',\r\n                            },\r\n                        },\r\n                    },\r\n                    'extract-i18n': {\r\n                        builder: '@angular-devkit/build-angular:extract-i18n',\r\n                        options: {\r\n                            browserTarget: 'codesandbox:build',\r\n                        },\r\n                    },\r\n                    test: {\r\n                        builder: '@angular-devkit/build-angular:karma',\r\n                        options: {\r\n                            main: 'src/test.ts',\r\n                            polyfills: 'src/polyfills.ts',\r\n                            tsConfig: 'src/tsconfig.spec.json',\r\n                            karmaConfig: 'src/karma.conf.js',\r\n                            styles: ['src/styles.css'],\r\n                            scripts: [],\r\n                            assets: ['src/favicon.png', 'src/assets'],\r\n                        },\r\n                    },\r\n                    lint: {\r\n                        builder: '@angular-devkit/build-angular:tslint',\r\n                        options: {\r\n                            tsConfig: ['src/tsconfig.app.json', 'src/tsconfig.spec.json'],\r\n                            exclude: ['**/node_modules/**'],\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n            'codesandbox-e2e': {\r\n                root: 'e2e/',\r\n                projectType: 'application',\r\n                architect: {\r\n                    e2e: {\r\n                        builder: '@angular-devkit/build-angular:protractor',\r\n                        options: {\r\n                            protractorConfig: 'e2e/protractor.conf.js',\r\n                            devServerTarget: 'codesandbox:serve',\r\n                        },\r\n                        configurations: {\r\n                            production: {\r\n                                devServerTarget: 'codesandbox:serve:production',\r\n                            },\r\n                        },\r\n                    },\r\n                    lint: {\r\n                        builder: '@angular-devkit/build-angular:tslint',\r\n                        options: {\r\n                            tsConfig: 'e2e/tsconfig.e2e.json',\r\n                            exclude: ['**/node_modules/**'],\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n        },\r\n        defaultProject: 'codesandbox',\r\n    }, null, 2),\r\n    schema: 'https://raw.githubusercontent.com/angular/angular-cli/master/packages/angular/cli/lib/config/schema.json',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'babel-transpiler.json',\r\n    type: 'babelTranspiler',\r\n    description: 'Configuration for the Babel REPL.',\r\n    moreInfoUrl: 'https://eslint.org/docs/user-guide/configuring',\r\n    getDefaultCode: () => '{}',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is_babel_7_1 = require(\"../../../utils/is-babel-7\");\r\nconst JSX_PRAGMA = {\r\n    react: 'React.createElement',\r\n    preact: 'h',\r\n};\r\nconst config = {\r\n    title: '.babelrc',\r\n    type: 'babel',\r\n    description: 'Custom configuration for Babel, the transpiler we use.',\r\n    moreInfoUrl: 'https://babeljs.io/docs/usage/babelrc/',\r\n    getDefaultCode: (template, resolveModule) => {\r\n        let isV7 = false;\r\n        try {\r\n            const packageJSON = resolveModule('/package.json');\r\n            const parsed = JSON.parse(packageJSON.code || '');\r\n            isV7 = is_babel_7_1.isBabel7(parsed.dependencies, parsed.devDependencies);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n        if (template === 'preact-cli') {\r\n            return JSON.stringify({\r\n                presets: ['latest', 'stage-1'],\r\n                plugins: [\r\n                    'transform-object-assign',\r\n                    'transform-decorators-legacy',\r\n                    ['transform-react-jsx', { pragma: 'h' }],\r\n                    [\r\n                        'jsx-pragmatic',\r\n                        {\r\n                            module: 'preact',\r\n                            export: 'h',\r\n                            import: 'h',\r\n                        },\r\n                    ],\r\n                ],\r\n            }, null, 2);\r\n        }\r\n        if (template === 'vue-cli') {\r\n            // TODO remove this\r\n            /**\r\n             * This hacky fix got added for vue cli templates that are v3, but don't have a config.\r\n             *\r\n             * We correctly detect v3 templates, so start using babel 7, but they don't work with the old version of babel config. We need to create a new one.\r\n             *\r\n             * Need to fix this ASAP and make vue-cli 3 a separate template.\r\n             */\r\n            if (isV7) {\r\n                return JSON.stringify({\r\n                    presets: ['@vue/app'],\r\n                });\r\n            }\r\n            return JSON.stringify({\r\n                presets: [\r\n                    [\r\n                        'env',\r\n                        {\r\n                            modules: false,\r\n                            targets: {\r\n                                browsers: ['> 1%', 'last 2 versions', 'not ie <= 8'],\r\n                            },\r\n                        },\r\n                    ],\r\n                    'stage-2',\r\n                ],\r\n                plugins: ['transform-vue-jsx', 'transform-runtime'],\r\n                env: {\r\n                    test: {\r\n                        presets: ['env', 'stage-2'],\r\n                        plugins: [\r\n                            'transform-vue-jsx',\r\n                            'transform-es2015-modules-commonjs',\r\n                            'dynamic-import-node',\r\n                        ],\r\n                    },\r\n                },\r\n            }, null, 2);\r\n        }\r\n        if (template === 'parcel') {\r\n            const presets = ['env'];\r\n            const plugins = isV7\r\n                ? ['transform-runtime']\r\n                : [\r\n                    [\r\n                        'transform-runtime',\r\n                        {\r\n                            polyfill: false,\r\n                            regenerator: true,\r\n                        },\r\n                    ],\r\n                    'transform-object-rest-spread',\r\n                ];\r\n            const parserOpts = isV7 ? { plugins: ['dynamicImport'] } : {};\r\n            const packageJSONModule = resolveModule('/package.json');\r\n            if (packageJSONModule) {\r\n                try {\r\n                    const parsed = JSON.parse(packageJSONModule.code);\r\n                    let pragma = null;\r\n                    Object.keys(JSX_PRAGMA).forEach(dep => {\r\n                        if ((parsed.dependencies && parsed.dependencies[dep]) ||\r\n                            (parsed.devDependencies && parsed.devDependencies[dep])) {\r\n                            pragma = JSX_PRAGMA[dep];\r\n                        }\r\n                    });\r\n                    if (pragma !== null) {\r\n                        // @ts-ignore\r\n                        plugins.push(['transform-react-jsx', { pragma }]);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    /* do nothing */\r\n                }\r\n            }\r\n            return JSON.stringify({ presets, plugins, parserOpts }, null, 2);\r\n        }\r\n        if (template === 'cxjs') {\r\n            if (isV7) {\r\n                return JSON.stringify({\r\n                    presets: ['env'],\r\n                    plugins: [\r\n                        '@babel/plugin-proposal-class-properties',\r\n                        '@babel/plugin-proposal-object-rest-spread',\r\n                        '@babel/plugin-proposal-function-bind',\r\n                        'transform-cx-jsx',\r\n                        '@babel/plugin-transform-parameters',\r\n                        '@babel/plugin-syntax-dynamic-import',\r\n                        [\r\n                            '@babel/plugin-transform-react-jsx',\r\n                            { pragma: 'VDOM.createElement' },\r\n                        ],\r\n                    ],\r\n                }, null, 2);\r\n            }\r\n            return JSON.stringify({\r\n                presets: [\r\n                    [\r\n                        'env',\r\n                        {\r\n                            targets: {\r\n                                chrome: 50,\r\n                                ie: 11,\r\n                                ff: 30,\r\n                                edge: 12,\r\n                                safari: 9,\r\n                            },\r\n                            modules: false,\r\n                            loose: true,\r\n                            useBuiltIns: true,\r\n                        },\r\n                    ],\r\n                    'stage-2',\r\n                ],\r\n                plugins: [\r\n                    ['transform-cx-jsx'],\r\n                    ['transform-react-jsx', { pragma: 'VDOM.createElement' }],\r\n                    'transform-function-bind',\r\n                    'transform-runtime',\r\n                    'transform-regenerator',\r\n                ],\r\n            }, null, 2);\r\n        }\r\n        return JSON.stringify({ presets: [], plugins: [] }, null, 2);\r\n    },\r\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/babelrc.json',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'template.json',\r\n    type: 'customTemplate',\r\n    description: 'Configuration for the custom template',\r\n    moreInfoUrl: 'https://codesandbox.io',\r\n    getDefaultCode: () => JSON.stringify({\r\n        templateName: 'custom',\r\n        templateColor: '#aaa',\r\n        sandpack: {\r\n            defaultExtensions: ['js', 'jsx', 'ts', 'tsx', 'json'],\r\n            aliases: {},\r\n            transpilers: {\r\n                '\\\\.jsx?$': ['codesandbox:babel'],\r\n                '\\\\.json$': ['codesandbox:json'],\r\n            },\r\n        },\r\n    }, null, 2),\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst package_json_1 = __importDefault(require(\"./package-json\"));\r\nconst prettierRC_1 = __importDefault(require(\"./prettierRC\"));\r\nconst sandbox_1 = __importDefault(require(\"./sandbox\"));\r\nconst babelrc_1 = __importDefault(require(\"./babelrc\"));\r\nconst now_1 = __importDefault(require(\"./now\"));\r\nconst netlify_1 = __importDefault(require(\"./netlify\"));\r\nconst angular_cli_1 = __importDefault(require(\"./angular-cli\"));\r\nconst angular_json_1 = __importDefault(require(\"./angular-json\"));\r\nconst tsconfig_1 = __importDefault(require(\"./tsconfig\"));\r\nconst jsconfig_1 = __importDefault(require(\"./jsconfig\"));\r\nconst babel_transpiler_1 = __importDefault(require(\"./babel-transpiler\"));\r\nconst custom_codesandbox_1 = __importDefault(require(\"./custom-codesandbox\"));\r\nconst configs = {\r\n    babelrc: babelrc_1.default,\r\n    babelTranspiler: babel_transpiler_1.default,\r\n    packageJSON: package_json_1.default,\r\n    prettierRC: prettierRC_1.default,\r\n    sandboxConfig: sandbox_1.default,\r\n    angularCli: angular_cli_1.default,\r\n    angularJSON: angular_json_1.default,\r\n    tsconfig: tsconfig_1.default,\r\n    customCodeSandbox: custom_codesandbox_1.default,\r\n    nowConfig: now_1.default,\r\n    netlifyConfig: netlify_1.default,\r\n    jsconfig: jsconfig_1.default,\r\n};\r\nexports.default = configs;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'jsconfig.json',\r\n    type: 'jsconfig',\r\n    description: 'Configuration for how the editor (and sometimes the bundler) reads and parses JavaScript.',\r\n    moreInfoUrl: 'https://code.visualstudio.com/docs/languages/jsconfig',\r\n    getDefaultCode: (template, resolveModule) => JSON.stringify({ compilerOptions: { baseUrl: '.' } }, null, 2),\r\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/jsconfig.json',\r\n    partialSupportDisclaimer: `Only \\`compilerOptions.baseUrl\\` field is supported.`,\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'netlify.toml',\r\n    type: 'netlify',\r\n    description: 'Configuration for your deployments in netlify.',\r\n    moreInfoUrl: 'https://www.netlify.com/docs/netlify-toml-reference/',\r\n    getDefaultCode: () => '',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'now.json',\r\n    type: 'now',\r\n    description: 'Configuration for your deployments on now.',\r\n    moreInfoUrl: 'https://zeit.co/docs/features/configuration',\r\n    getDefaultCode: () => JSON.stringify({}, null, 2),\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst slugify_1 = __importDefault(require(\"../../../utils/slugify\"));\r\nfunction generateFileFromSandbox(sandbox) {\r\n    const jsonFile = {\r\n        name: slugify_1.default(sandbox.title || sandbox.id),\r\n        version: '1.0.0',\r\n        description: sandbox.description || '',\r\n        keywords: sandbox.tags,\r\n        main: sandbox.entry,\r\n        dependencies: sandbox.npmDependencies,\r\n    };\r\n    return JSON.stringify(jsonFile, null, 2);\r\n}\r\nexports.generateFileFromSandbox = generateFileFromSandbox;\r\nconst config = {\r\n    title: 'package.json',\r\n    type: 'package',\r\n    description: 'Describes the overall configuration of your project.',\r\n    moreInfoUrl: 'https://docs.npmjs.com/files/package.json',\r\n    generateFileFromSandbox,\r\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/package.json',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst markty_toml_1 = __importDefault(require(\"markty-toml\"));\r\nconst jsonlint_browser_1 = require(\"../../forked-vendors/jsonlint.browser\");\r\nfunction getCode(template, module, sandbox, resolveModule, configurationFile) {\r\n    if (module) {\r\n        return { code: module.code, generated: false };\r\n    }\r\n    if (configurationFile.getDefaultCode) {\r\n        return {\r\n            code: configurationFile.getDefaultCode(template, resolveModule),\r\n            generated: true,\r\n        };\r\n    }\r\n    if (sandbox && configurationFile.generateFileFromSandbox) {\r\n        return {\r\n            code: configurationFile.generateFileFromSandbox(sandbox),\r\n            generated: true,\r\n        };\r\n    }\r\n    return { code: '', generated: false };\r\n}\r\nfunction titleIncludes(module, test) {\r\n    if ('title' in module) {\r\n        return module.title.includes(test);\r\n    }\r\n    if ('path' in module) {\r\n        return module.path.includes(test);\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * We convert all configuration file configs to an object with configuration per\r\n * type. This makes configs universal.\r\n */\r\nfunction parseConfigurations(template, configurationFiles, resolveModule, sandbox) {\r\n    const configurations = {};\r\n    const paths = Object.keys(configurationFiles);\r\n    for (let i = 0; i < paths.length; i++) {\r\n        const path = paths[i];\r\n        const module = resolveModule(path);\r\n        const configurationFile = configurationFiles[path];\r\n        const baseObject = Object.assign({ path }, getCode(template, module, sandbox, resolveModule, configurationFile));\r\n        const { code } = baseObject;\r\n        if (code) {\r\n            try {\r\n                let parsed;\r\n                // it goes here three times and the third time it doesn't have a title but a path\r\n                // that took a while ffs\r\n                // if toml do it with toml parser\r\n                if (module && titleIncludes(module, 'toml')) {\r\n                    // never throws\r\n                    parsed = markty_toml_1.default(code);\r\n                }\r\n                else {\r\n                    parsed = jsonlint_browser_1.parse(code);\r\n                }\r\n                configurations[configurationFile.type] = Object.assign(Object.assign({}, baseObject), { parsed });\r\n            }\r\n            catch (e) {\r\n                configurations[configurationFile.type] = Object.assign(Object.assign({}, baseObject), { error: e });\r\n            }\r\n        }\r\n    }\r\n    return configurations;\r\n}\r\nexports.default = parseConfigurations;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst prettify_default_config_1 = __importDefault(require(\"../../../prettify-default-config\"));\r\nconst config = {\r\n    title: '.prettierrc',\r\n    type: 'prettier',\r\n    description: 'Defines how all files will be prettified by Prettier.',\r\n    moreInfoUrl: 'https://prettier.io/docs/en/configuration.html',\r\n    generateFileFromState: prettierConfig => JSON.stringify(Object.assign(Object.assign({}, prettify_default_config_1.default), (prettierConfig || {})), null, 2),\r\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/prettierrc.json',\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst config = {\r\n    title: 'sandbox.config.json',\r\n    type: 'sandbox',\r\n    description: 'Configuration specific to the current sandbox.',\r\n    moreInfoUrl: 'https://codesandbox.io/docs/configuration#sandbox-configuration',\r\n    getDefaultCode: () => JSON.stringify({\r\n        infiniteLoopProtection: true,\r\n        hardReloadOnChange: false,\r\n        view: 'browser',\r\n    }, null, 2),\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst JSX_PRAGMA = {\r\n    react: 'React.createElement',\r\n    preact: 'h',\r\n};\r\nconst config = {\r\n    title: 'tsconfig.json',\r\n    type: 'typescript',\r\n    description: 'Configuration for how TypeScript transpiles.',\r\n    moreInfoUrl: 'http://www.typescriptlang.org/docs/handbook/tsconfig-json.html',\r\n    getDefaultCode: (template, resolveModule) => {\r\n        if (template === 'create-react-app-typescript') {\r\n            return JSON.stringify({\r\n                compilerOptions: {\r\n                    outDir: 'build/dist',\r\n                    module: 'esnext',\r\n                    target: 'es5',\r\n                    lib: ['es6', 'dom'],\r\n                    sourceMap: true,\r\n                    allowJs: true,\r\n                    jsx: 'react',\r\n                    moduleResolution: 'node',\r\n                    rootDir: 'src',\r\n                    forceConsistentCasingInFileNames: true,\r\n                    noImplicitReturns: true,\r\n                    noImplicitThis: true,\r\n                    noImplicitAny: true,\r\n                    strictNullChecks: true,\r\n                    suppressImplicitAnyIndexErrors: true,\r\n                    noUnusedLocals: true,\r\n                },\r\n                exclude: [\r\n                    'node_modules',\r\n                    'build',\r\n                    'scripts',\r\n                    'acceptance-tests',\r\n                    'webpack',\r\n                    'jest',\r\n                    'src/setupTests.ts',\r\n                ],\r\n            }, null, 2);\r\n        }\r\n        if (template === 'parcel') {\r\n            const tsconfig = {\r\n                compilerOptions: {\r\n                    module: 'commonjs',\r\n                    jsx: 'preserve',\r\n                    jsxFactory: undefined,\r\n                    esModuleInterop: true,\r\n                    sourceMap: true,\r\n                    allowJs: true,\r\n                    lib: ['es6', 'dom'],\r\n                    rootDir: 'src',\r\n                    moduleResolution: 'node',\r\n                },\r\n            };\r\n            const packageJSONModule = resolveModule('/package.json');\r\n            if (packageJSONModule) {\r\n                try {\r\n                    const parsed = JSON.parse(packageJSONModule.code);\r\n                    let pragma = null;\r\n                    Object.keys(JSX_PRAGMA).forEach(dep => {\r\n                        if ((parsed.dependencies && parsed.dependencies[dep]) ||\r\n                            (parsed.devDependencies && parsed.devDependencies[dep])) {\r\n                            pragma = JSX_PRAGMA[dep];\r\n                        }\r\n                    });\r\n                    if (pragma !== null) {\r\n                        tsconfig.compilerOptions.jsx = 'react';\r\n                        tsconfig.compilerOptions.jsxFactory = pragma;\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    /* do nothing */\r\n                }\r\n            }\r\n            return JSON.stringify(tsconfig, null, 2);\r\n        }\r\n        if (template === 'nest') {\r\n            return JSON.stringify({\r\n                compilerOptions: {\r\n                    module: 'commonjs',\r\n                    declaration: true,\r\n                    noImplicitAny: false,\r\n                    removeComments: true,\r\n                    noLib: false,\r\n                    allowSyntheticDefaultImports: true,\r\n                    emitDecoratorMetadata: true,\r\n                    experimentalDecorators: true,\r\n                    target: 'es6',\r\n                    sourceMap: true,\r\n                    outDir: './dist',\r\n                    baseUrl: './src',\r\n                },\r\n            }, null, 2);\r\n        }\r\n        if (template === '@dojo/cli-create-app') {\r\n            return JSON.stringify({\r\n                compilerOptions: {\r\n                    declaration: false,\r\n                    experimentalDecorators: true,\r\n                    jsx: 'react',\r\n                    jsxFactory: 'tsx',\r\n                    lib: [\r\n                        'dom',\r\n                        'es5',\r\n                        'es2015.promise',\r\n                        'es2015.iterable',\r\n                        'es2015.symbol',\r\n                        'es2015.symbol.wellknown',\r\n                    ],\r\n                    module: 'commonjs',\r\n                    moduleResolution: 'node',\r\n                    noUnusedLocals: true,\r\n                    outDir: '_build/',\r\n                    removeComments: false,\r\n                    importHelpers: true,\r\n                    downLevelIteration: true,\r\n                    sourceMap: true,\r\n                    strict: true,\r\n                    target: 'es5',\r\n                },\r\n            });\r\n        }\r\n        return JSON.stringify({\r\n            compilerOptions: {\r\n                outDir: 'build/dist',\r\n                module: 'esnext',\r\n                target: 'es5',\r\n                lib: ['es6', 'dom'],\r\n                sourceMap: true,\r\n                allowJs: true,\r\n                jsx: 'react',\r\n                moduleResolution: 'node',\r\n                rootDir: 'src',\r\n                forceConsistentCasingInFileNames: true,\r\n                noImplicitReturns: true,\r\n                noImplicitThis: true,\r\n                noImplicitAny: true,\r\n                strictNullChecks: true,\r\n                suppressImplicitAnyIndexErrors: true,\r\n                noUnusedLocals: true,\r\n            },\r\n        }, null, 2);\r\n    },\r\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/tsconfig.json',\r\n    partialSupportDisclaimer: `Only \\`compilerOptions\\` field is supported.`,\r\n};\r\nexports.default = config;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('custom', 'Custom', 'https://codesandbox.io', 'custom', theme_1.decorateSelector(() => '#F5DA55'), {\r\n    extraConfigurations: {\r\n        '/.codesandbox/template.json': configuration_1.default.customCodeSandbox,\r\n    },\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nclass CxJSTemplate extends template_1.default {\r\n    getEntries() {\r\n        return ['/app/index.js', '/src/index.js', '/index.html'];\r\n    }\r\n    getHTMLEntries() {\r\n        return ['/app/index.html', '/src/index.html', '/index.html'];\r\n    }\r\n}\r\nexports.default = new CxJSTemplate('cxjs', 'CxJS', 'https://cxjs.io/', 'github/codaxy/cxjs-codesandbox-template', theme_1.decorateSelector(() => '#11689f'), {\r\n    showOnHomePage: true,\r\n    showCube: false,\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n        '/tsconfig.json': configuration_1.default.tsconfig,\r\n    },\r\n    externalResourcesEnabled: false,\r\n    distDir: 'dist',\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nclass DojoTemplate extends template_1.default {\r\n    // eslint-disable-next-line no-unused-vars\r\n    getHTMLEntries(configurationFiles) {\r\n        return ['/src/index.html'];\r\n    }\r\n    getEntries(configurationFiles) {\r\n        const entries = super.getEntries(configurationFiles);\r\n        entries.push('/src/main.ts');\r\n        return entries;\r\n    }\r\n}\r\nexports.DojoTemplate = DojoTemplate;\r\nexports.default = new DojoTemplate('@dojo/cli-create-app', 'Dojo', 'https://github.com/dojo/cli-create-app', 'github/dojo/dojo-codesandbox-template', theme_1.decorateSelector(() => '#D3471C'), {\r\n    showOnHomePage: true,\r\n    showCube: false,\r\n    distDir: 'output/dist',\r\n    isTypescript: true,\r\n    extraConfigurations: {\r\n        '/tsconfig.json': configuration_1.default.tsconfig,\r\n    },\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('ember', 'Ember', 'https://emberjs.com/', \r\n/**\r\n * Ideally, we'd point to https://github.com/ember-cli/ember-new-output\r\n * but there are a few tweaks that must be addressed before then.\r\n *  - Auto-detection of ember-cli projects as node projects,\r\n *    without requiring a sandbox.config.json\r\n *    PR: https://github.com/codesandbox-app/codesandbox-importers/pull/16\r\n *  - Ember-CLI initial build chokes on empty app/styles/app.css file\r\n *  - A small livereload fix, for proper port detection through the CSB proxy stuff\r\n *    BUG: https://github.com/ember-cli/ember-cli/issues/8073\r\n *\r\n * Here is a complete diff of these changes, w.r.t. the code generated by\r\n * `ember new my-app`\r\n *\r\n * https://github.com/ember-cli/ember-new-output/compare/master...mike-north:master\r\n */\r\n'github/mike-north/ember-new-output', theme_1.decorateSelector(() => '#E04E39'), {\r\n    isServer: true,\r\n    showOnHomePage: true,\r\n    main: false,\r\n    netlify: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nclass GatsbyTemplate extends template_1.default {\r\n    getViews() {\r\n        const GATSBY_VIEWS = [\r\n            {\r\n                views: [\r\n                    { id: 'codesandbox.browser' },\r\n                    {\r\n                        id: 'codesandbox.browser',\r\n                        closeable: true,\r\n                        options: {\r\n                            url: '/___graphql',\r\n                            title: 'GraphiQL',\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                open: true,\r\n                views: [\r\n                    { id: 'codesandbox.terminal' },\r\n                    { id: 'codesandbox.console' },\r\n                    { id: 'codesandbox.problems' },\r\n                ],\r\n            },\r\n        ];\r\n        return GATSBY_VIEWS;\r\n    }\r\n}\r\nexports.default = new GatsbyTemplate('gatsby', 'Gatsby', 'https://www.gatsbyjs.org/', 'github/gatsbyjs/gatsby-starter-default', theme_1.decorateSelector(() => '#8C65B3'), {\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n    },\r\n    distDir: 'public',\r\n    isServer: true,\r\n    mainFile: ['/src/pages/index.js'],\r\n    showOnHomePage: true,\r\n    main: true,\r\n    popular: true,\r\n    showCube: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nclass GridsomeTemplate extends template_1.default {\r\n    getViews() {\r\n        const GRIDSOME_VIEWS = [\r\n            {\r\n                views: [\r\n                    { id: 'codesandbox.browser' },\r\n                    {\r\n                        id: 'codesandbox.browser',\r\n                        closeable: true,\r\n                        options: {\r\n                            url: '/___explore',\r\n                            title: 'GraphiQL',\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                open: true,\r\n                views: [\r\n                    { id: 'codesandbox.terminal' },\r\n                    { id: 'codesandbox.console' },\r\n                    { id: 'codesandbox.problems' },\r\n                ],\r\n            },\r\n        ];\r\n        return GRIDSOME_VIEWS;\r\n    }\r\n}\r\nexports.default = new GridsomeTemplate('gridsome', 'Gridsome', 'https://gridsome.org/', 'github/SaraVieira/gridsome-starter-codesandbox', theme_1.decorateSelector(() => '#00a672'), {\r\n    distDir: 'dist',\r\n    isServer: true,\r\n    mainFile: ['/src/pages/Index.vue'],\r\n    showOnHomePage: true,\r\n    main: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst adonis_1 = __importDefault(require(\"./adonis\"));\r\nexports.adonis = adonis_1.default;\r\nconst angular_1 = __importDefault(require(\"./angular\"));\r\nexports.angular = angular_1.default;\r\nconst babel_1 = __importDefault(require(\"./babel\"));\r\nexports.babel = babel_1.default;\r\nconst parcel_1 = __importDefault(require(\"./parcel\"));\r\nexports.parcel = parcel_1.default;\r\nconst preact_1 = __importDefault(require(\"./preact\"));\r\nexports.preact = preact_1.default;\r\nconst reason_1 = __importDefault(require(\"./reason\"));\r\nexports.reason = reason_1.default;\r\nconst react_1 = __importDefault(require(\"./react\"));\r\nexports.react = react_1.default;\r\nconst react_ts_1 = __importDefault(require(\"./react-ts\"));\r\nexports.reactTs = react_ts_1.default;\r\nconst svelte_1 = __importDefault(require(\"./svelte\"));\r\nexports.svelte = svelte_1.default;\r\nconst vue_1 = __importDefault(require(\"./vue\"));\r\nexports.vue = vue_1.default;\r\nconst ember_1 = __importDefault(require(\"./ember\"));\r\nexports.ember = ember_1.default;\r\nconst cxjs_1 = __importDefault(require(\"./cxjs\"));\r\nexports.cxjs = cxjs_1.default;\r\nconst dojo_1 = __importDefault(require(\"./dojo\"));\r\nexports.dojo = dojo_1.default;\r\nconst custom_1 = __importDefault(require(\"./custom\"));\r\nexports.custom = custom_1.default;\r\nconst gatsby_1 = __importDefault(require(\"./gatsby\"));\r\nexports.gatsby = gatsby_1.default;\r\nconst marko_1 = __importDefault(require(\"./marko\"));\r\nexports.marko = marko_1.default;\r\nconst nuxt_1 = __importDefault(require(\"./nuxt\"));\r\nexports.nuxt = nuxt_1.default;\r\nconst next_1 = __importDefault(require(\"./next\"));\r\nexports.next = next_1.default;\r\nconst node_1 = __importDefault(require(\"./node\"));\r\nexports.node = node_1.default;\r\nconst apollo_server_1 = __importDefault(require(\"./apollo-server\"));\r\nexports.apollo = apollo_server_1.default;\r\nconst sapper_1 = __importDefault(require(\"./sapper\"));\r\nexports.sapper = sapper_1.default;\r\nconst nest_1 = __importDefault(require(\"./nest\"));\r\nexports.nest = nest_1.default;\r\nconst static_1 = __importDefault(require(\"./static\"));\r\nexports.staticTemplate = static_1.default;\r\nconst styleguidist_1 = __importDefault(require(\"./styleguidist\"));\r\nexports.styleguidist = styleguidist_1.default;\r\nconst gridsome_1 = __importDefault(require(\"./gridsome\"));\r\nexports.gridsome = gridsome_1.default;\r\nconst vuepress_1 = __importDefault(require(\"./vuepress\"));\r\nexports.vuepress = vuepress_1.default;\r\nconst mdx_deck_1 = __importDefault(require(\"./mdx-deck\"));\r\nexports.mdxDeck = mdx_deck_1.default;\r\nconst quasar_1 = __importDefault(require(\"./quasar\"));\r\nexports.quasar = quasar_1.default;\r\nconst unibit_1 = __importDefault(require(\"./unibit\"));\r\nexports.unibit = unibit_1.default;\r\nfunction getDefinition(theme) {\r\n    switch (theme) {\r\n        case adonis_1.default.name:\r\n            return adonis_1.default;\r\n        case react_1.default.name:\r\n            return react_1.default;\r\n        case vue_1.default.name:\r\n            return vue_1.default;\r\n        case preact_1.default.name:\r\n            return preact_1.default;\r\n        case react_ts_1.default.name:\r\n            return react_ts_1.default;\r\n        case svelte_1.default.name:\r\n            return svelte_1.default;\r\n        case angular_1.default.name:\r\n            return angular_1.default;\r\n        case parcel_1.default.name:\r\n            return parcel_1.default;\r\n        case babel_1.default.name:\r\n            return babel_1.default;\r\n        case cxjs_1.default.name:\r\n            return cxjs_1.default;\r\n        case dojo_1.default.name:\r\n            return dojo_1.default;\r\n        case custom_1.default.name:\r\n            return custom_1.default;\r\n        case gatsby_1.default.name:\r\n            return gatsby_1.default;\r\n        case marko_1.default.name:\r\n            return marko_1.default;\r\n        case nuxt_1.default.name:\r\n            return nuxt_1.default;\r\n        case next_1.default.name:\r\n            return next_1.default;\r\n        case reason_1.default.name:\r\n            return reason_1.default;\r\n        case node_1.default.name:\r\n            return node_1.default;\r\n        case apollo_server_1.default.name:\r\n            return apollo_server_1.default;\r\n        case sapper_1.default.name:\r\n            return sapper_1.default;\r\n        case nest_1.default.name:\r\n            return nest_1.default;\r\n        case static_1.default.name:\r\n            return static_1.default;\r\n        case styleguidist_1.default.name:\r\n            return styleguidist_1.default;\r\n        case mdx_deck_1.default.name:\r\n            return mdx_deck_1.default;\r\n        case gridsome_1.default.name:\r\n            return gridsome_1.default;\r\n        case ember_1.default.name:\r\n            return ember_1.default;\r\n        case vuepress_1.default.name:\r\n            return vuepress_1.default;\r\n        case quasar_1.default.name:\r\n            return quasar_1.default;\r\n        case unibit_1.default.name:\r\n            return unibit_1.default;\r\n        default:\r\n            return react_1.default;\r\n    }\r\n}\r\nexports.default = getDefinition;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('marko', 'Marko', 'https://markojs.com/', 'github/nm123github/marko-codesandbox', theme_1.decorateSelector(() => '#f5ac00'), {\r\n    isServer: true,\r\n    showOnHomePage: true,\r\n    main: false,\r\n    netlify: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('mdx-deck', 'MDX Deck', 'https://github.com/jxnblk/mdx-deck', 'github/jxnblk/mdx-deck/tree/master/templates/basic', theme_1.decorateSelector(() => '#FAD961'), {\r\n    distDir: 'dist',\r\n    isServer: true,\r\n    mainFile: ['deck.mdx'],\r\n    showOnHomePage: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('nest', 'Nest', 'https://nestjs.com/', 'github/nestjs/typescript-starter', theme_1.decorateSelector(() => '#ed2945'), {\r\n    extraConfigurations: {\r\n        '/tsconfig.json': configuration_1.default.tsconfig,\r\n    },\r\n    isServer: true,\r\n    mainFile: ['/src/main.ts'],\r\n    showOnHomePage: true,\r\n    netlify: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('next', 'Next.js', 'https://nextjs.org/', 'github/zeit/next.js/tree/master/examples/hello-world', theme_1.decorateSelector(() => '#ffffff'), {\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n    },\r\n    isServer: true,\r\n    distDir: 'out',\r\n    netlify: false,\r\n    mainFile: ['/pages/index.js'],\r\n    backgroundColor: theme_1.decorateSelector(() => '#000000'),\r\n    showOnHomePage: true,\r\n    main: true,\r\n    popular: true,\r\n    showCube: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('node', 'Node', 'https://codesandbox.io/docs/sse', 'node', theme_1.decorateSelector(() => '#66cc33'), {\r\n    isServer: true,\r\n    showOnHomePage: true,\r\n    main: true,\r\n    netlify: false,\r\n    popular: true,\r\n    mainFile: ['/pages/index.vue', '/pages/index.js', '/src/pages/index.js'],\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('nuxt', 'Nuxt.js', 'https://nuxtjs.org/', 'github/nuxt/codesandbox-nuxt', theme_1.decorateSelector(() => '#3B8070'), {\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n    },\r\n    distDir: 'dist',\r\n    isServer: true,\r\n    popular: true,\r\n    mainFile: ['/pages/index.vue'],\r\n    showOnHomePage: true,\r\n    main: true,\r\n    showCube: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"../utils/path\");\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nclass ParcelTemplate extends template_1.default {\r\n    getEntries(configurationFiles) {\r\n        const entries = [];\r\n        if (typeof document !== 'undefined' && document.location.pathname !== '/') {\r\n            // Push the location of the address bar, eg. when someone has a file\r\n            // /2.html open, you actually want to have that as entry point instead\r\n            // of index.html.\r\n            entries.push(document.location.pathname);\r\n        }\r\n        entries.push(configurationFiles.package &&\r\n            configurationFiles.package.parsed &&\r\n            configurationFiles.package.parsed.main &&\r\n            path_1.absolute(configurationFiles.package.parsed.main));\r\n        entries.push('/index.html');\r\n        entries.push('/src/index.html');\r\n        return entries.filter(Boolean);\r\n    }\r\n    /**\r\n     * The file to open by the editor\r\n     */\r\n    getDefaultOpenedFiles(configFiles) {\r\n        const entries = [];\r\n        entries.push('/index.js');\r\n        entries.push('/src/index.js');\r\n        entries.concat(this.getEntries(configFiles));\r\n        return entries;\r\n    }\r\n}\r\nexports.ParcelTemplate = ParcelTemplate;\r\nexports.default = new ParcelTemplate('parcel', 'Vanilla', 'https://parceljs.org/', 'vanilla', theme_1.decorateSelector(() => '#dfb07a'), {\r\n    showOnHomePage: true,\r\n    showCube: true,\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n        '/tsconfig.json': configuration_1.default.tsconfig,\r\n    },\r\n    externalResourcesEnabled: false,\r\n    distDir: 'dist',\r\n    main: true,\r\n    isTypescript: true,\r\n    popular: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('preact-cli', 'Preact', 'https://github.com/developit/preact-cli', 'preact', theme_1.decorateSelector(() => '#AD78DC'), {\r\n    showOnHomePage: true,\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n    },\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('quasar-framework', 'Quasar', 'https://quasar-framework.org/', 'github/quasarframework/quasar-codesandbox', theme_1.decorateSelector(() => '#43A4F2'), {\r\n    isServer: true,\r\n    mainFile: ['/src/pages/Index.vue'],\r\n    showOnHomePage: true,\r\n    netlify: false\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('create-react-app-typescript', 'React + TS', 'https://github.com/wmonk/create-react-app-typescript', 'react-ts', theme_1.decorateSelector(() => '#009fff'), {\r\n    isTypescript: true,\r\n    showOnHomePage: false,\r\n    extraConfigurations: {\r\n        '/tsconfig.json': configuration_1.default.tsconfig,\r\n    },\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('create-react-app', 'React', 'https://github.com/facebookincubator/create-react-app', 'new', theme_1.decorateSelector(() => '#61DAFB'), {\r\n    showOnHomePage: true,\r\n    popular: true,\r\n    main: true,\r\n    mainFile: ['/src/index.js', '/src/index.tsx', '/src/index.ts'],\r\n    extraConfigurations: {\r\n        '/jsconfig.json': configuration_1.default.jsconfig,\r\n        '/tsconfig.json': configuration_1.default.tsconfig,\r\n    },\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('reason', 'Reason', 'https://reasonml.github.io/reason-react/en/', 'reason', theme_1.decorateSelector(() => '#CB5747'), {\r\n    showOnHomePage: true,\r\n    main: false,\r\n    netlify: false,\r\n    mainFile: ['/src/Main.re', 'App.re', 'Index.re'],\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst extendedSandboxConfig = Object.assign(Object.assign({}, configuration_1.default.sandboxConfig), { getDefaultCode: () => JSON.stringify({\r\n        container: {\r\n            port: 3000,\r\n        },\r\n    }, null, 2) });\r\nexports.default = new template_1.default('sapper', 'Sapper', 'https://sapper.svelte.technology/', 'github/codesandbox-app/sapper-template', theme_1.decorateSelector(() => '#159497'), {\r\n    extraConfigurations: {\r\n        '/sandbox.config.json': extendedSandboxConfig,\r\n    },\r\n    isServer: true,\r\n    netlify: false,\r\n    mainFile: ['/src/routes/index.html'],\r\n    showOnHomePage: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('static', 'Static', 'https://developer.mozilla.org/en-US/docs/Learn/HTML', 'github/codesandbox-app/static-template', theme_1.decorateSelector(() => '#3AA855'), {\r\n    showOnHomePage: true,\r\n    distDir: './',\r\n    main: false,\r\n    mainFile: ['/index.html'],\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nexports.default = new template_1.default('styleguidist', 'Styleguidist', 'https://react-styleguidist.js.org/', 'github/styleguidist/example', theme_1.decorateSelector(() => '#25d8fc'), {\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n    },\r\n    isServer: true,\r\n    distDir: 'styleguide',\r\n    mainFile: [],\r\n    showOnHomePage: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('svelte', 'Svelte', 'https://svelte.dev', 'svelte', theme_1.decorateSelector(() => '#FF3E00'), {\r\n    showOnHomePage: true,\r\n    showCube: false,\r\n    distDir: 'public',\r\n    mainFile: ['/app.svelte'],\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"../utils/path\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nconst defaultConfigurations = {\r\n    '/package.json': configuration_1.default.packageJSON,\r\n    '/.prettierrc': configuration_1.default.prettierRC,\r\n    '/sandbox.config.json': configuration_1.default.sandboxConfig,\r\n    '/now.json': configuration_1.default.nowConfig,\r\n    '/netlify.toml': configuration_1.default.netlifyConfig,\r\n};\r\nconst CLIENT_VIEWS = [\r\n    {\r\n        views: [{ id: 'codesandbox.browser' }, { id: 'codesandbox.tests' }],\r\n    },\r\n    {\r\n        views: [{ id: 'codesandbox.console' }, { id: 'codesandbox.problems' }],\r\n    },\r\n];\r\n// React sandboxes have an additional devtool on top of CLIENT_VIEWS\r\nconst REACT_CLIENT_VIEWS = JSON.parse(JSON.stringify(CLIENT_VIEWS));\r\nREACT_CLIENT_VIEWS[1].views.push({ id: 'codesandbox.react-devtools' });\r\nconst SERVER_VIEWS = [\r\n    {\r\n        views: [{ id: 'codesandbox.browser' }],\r\n    },\r\n    {\r\n        open: true,\r\n        views: [\r\n            { id: 'codesandbox.terminal' },\r\n            { id: 'codesandbox.console' },\r\n            { id: 'codesandbox.problems' },\r\n        ],\r\n    },\r\n];\r\nclass Template {\r\n    constructor(name, niceName, url, shortid, color, options = {}) {\r\n        /**\r\n         * Alter the apiData to ZEIT for making deployment work\r\n         */\r\n        this.alterDeploymentData = (apiData) => {\r\n            const packageJSONFile = apiData.files.find(x => x.file === 'package.json');\r\n            const parsedFile = JSON.parse(packageJSONFile.data);\r\n            const newParsedFile = Object.assign(Object.assign({}, parsedFile), { devDependencies: Object.assign(Object.assign({}, parsedFile.devDependencies), { serve: '^10.1.1' }), scripts: Object.assign({ 'now-start': `cd ${this.distDir} && serve -s ./` }, parsedFile.scripts) });\r\n            return Object.assign(Object.assign({}, apiData), { files: [\r\n                    ...apiData.files.filter(x => x.file !== 'package.json'),\r\n                    {\r\n                        file: 'package.json',\r\n                        data: JSON.stringify(newParsedFile, null, 2),\r\n                    },\r\n                ] });\r\n        };\r\n        this.name = name;\r\n        this.niceName = niceName;\r\n        this.url = url;\r\n        this.shortid = shortid;\r\n        this.color = color;\r\n        this.popular = options.popular || false;\r\n        this.isServer = options.isServer || false;\r\n        this.main = options.main || false;\r\n        this.showOnHomePage = options.showOnHomePage || false;\r\n        this.distDir = options.distDir || 'build';\r\n        this.configurationFiles = Object.assign(Object.assign({}, defaultConfigurations), (options.extraConfigurations || {}));\r\n        this.isTypescript = options.isTypescript || false;\r\n        this.externalResourcesEnabled =\r\n            options.externalResourcesEnabled != null\r\n                ? options.externalResourcesEnabled\r\n                : true;\r\n        this.mainFile = options.mainFile;\r\n        this.netlify = options.netlify;\r\n        this.backgroundColor = options.backgroundColor;\r\n        this.showCube = options.showCube != null ? options.showCube : true;\r\n    }\r\n    // eslint-disable-next-line\r\n    getMainFromPackage(pkg) {\r\n        try {\r\n            if (!pkg.main) {\r\n                return undefined;\r\n            }\r\n            if (Array.isArray(pkg.main)) {\r\n                return path_1.absolute(pkg.main[0]);\r\n            }\r\n            if (typeof pkg.main === 'string') {\r\n                return path_1.absolute(pkg.main);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // eslint-disable-next-line\r\n            console.log(e);\r\n        }\r\n    }\r\n    /**\r\n     * Get possible entry files to evaluate, differs per template\r\n     */\r\n    getEntries(configurationFiles) {\r\n        return [\r\n            configurationFiles.package &&\r\n                this.getMainFromPackage(configurationFiles.package.parsed),\r\n            ...(this.mainFile || []),\r\n            '/index.' + (this.isTypescript ? 'ts' : 'js'),\r\n            '/src/index.' + (this.isTypescript ? 'ts' : 'js'),\r\n            '/src/index.ts',\r\n            '/src/index.tsx',\r\n            '/src/index.js',\r\n            '/src/pages/index.js',\r\n            '/src/pages/index.vue',\r\n            '/index.js',\r\n            '/index.ts',\r\n            '/index.tsx',\r\n            '/README.md',\r\n            '/package.json',\r\n        ].filter(x => x);\r\n    }\r\n    /**\r\n     * Files to be opened by default by the editor when opening the editor\r\n     */\r\n    getDefaultOpenedFiles(configurationFiles) {\r\n        return this.getEntries(configurationFiles);\r\n    }\r\n    /**\r\n     * Get the views that are tied to the template\r\n     */\r\n    getViews(configurationFiles) {\r\n        if (this.isServer) {\r\n            return SERVER_VIEWS;\r\n        }\r\n        const dependencies = configurationFiles.package &&\r\n            configurationFiles.package.parsed &&\r\n            configurationFiles.package.parsed.dependencies;\r\n        if (dependencies && dependencies.react) {\r\n            return REACT_CLIENT_VIEWS;\r\n        }\r\n        return CLIENT_VIEWS;\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    getHTMLEntries(configurationFiles) {\r\n        return ['/public/index.html', '/index.html'];\r\n    }\r\n}\r\nexports.default = Template;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nexports.default = new template_1.default('unibit', 'Unibit', 'https://www.stackbit.com', 'github/stackbithq/stackbit-theme-universal/tree/master/', theme_1.decorateSelector(() => '#3EB0FD'), {\r\n    distDir: 'public',\r\n    isServer: true,\r\n    popular: true,\r\n    mainFile: ['README.md'],\r\n    showOnHomePage: true,\r\n    main: false,\r\n    showCube: false,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nconst configuration_1 = __importDefault(require(\"./configuration\"));\r\nclass VueTemplate extends template_1.default {\r\n    getEntries(configurationFiles) {\r\n        const entries = super.getEntries(configurationFiles);\r\n        entries.push('/src/main.js');\r\n        entries.push('/main.js');\r\n        return entries;\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    getHTMLEntries(configurationFiles) {\r\n        return ['/static/index.html', '/index.html'];\r\n    }\r\n}\r\nexports.default = new VueTemplate('vue-cli', 'Vue', 'https://github.com/vuejs/vue-cli', 'vue', theme_1.decorateSelector(() => '#41B883'), {\r\n    showOnHomePage: true,\r\n    extraConfigurations: {\r\n        '/.babelrc': configuration_1.default.babelrc,\r\n    },\r\n    distDir: 'dist',\r\n    main: true,\r\n    popular: true,\r\n    mainFile: ['/src/main.js', '/src/main.ts'],\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_1 = __importDefault(require(\"./template\"));\r\nconst theme_1 = require(\"../theme\");\r\nclass VuePressTemplate extends template_1.default {\r\n    // The file to open by the editor\r\n    getDefaultOpenedFiles() {\r\n        return ['/README.md', '/guide/README.md'];\r\n    }\r\n}\r\nexports.VuePressTemplate = VuePressTemplate;\r\nexports.default = new VuePressTemplate('vuepress', 'VuePress', 'https://vuepress.vuejs.org/', 'github/vicbergquist/codesandbox-vuepress', theme_1.decorateSelector(() => '#4abf8a'), {\r\n    mainFile: [],\r\n    distDir: '.vuepress/dist',\r\n    isServer: true,\r\n    showOnHomePage: true,\r\n});\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst memoize_one_1 = __importDefault(require(\"memoize-one\"));\r\nconst color_1 = __importDefault(require(\"color\"));\r\nconst codesandbox_json_1 = __importDefault(require(\"./themes/codesandbox.json\"));\r\nconst colorMethods = [\r\n    'negate',\r\n    'lighten',\r\n    'darken',\r\n    'saturate',\r\n    'desaturate',\r\n    'greyscale',\r\n    'whiten',\r\n    'blacken',\r\n    'clearer',\r\n    'opaquer',\r\n    'rotate',\r\n];\r\n/**\r\n * Takes a selector that returns a color string and returns new decorated selector that calls the\r\n * original function to get the color and then modifies that color, ultimately returning another\r\n * color string.\r\n *\r\n * vy60q8l043\r\n */\r\nconst addModifier = (fn, method, ...modifierArgs) => (...args) => color_1.default(fn(...args))[method](...modifierArgs)\r\n    .rgbString();\r\n/**\r\n * Add useful methods directly to selector function, as well as put an rgbString() call at the end\r\n * @param selector\r\n */\r\nexports.decorateSelector = (selector) => {\r\n    // add member functions to our selector\r\n    colorMethods.forEach(method => {\r\n        selector[method] = memoize_one_1.default((...args) => exports.decorateSelector(addModifier(selector, method, ...args)));\r\n    });\r\n    return selector;\r\n};\r\nfunction createTheme(colors) {\r\n    const transformed = Object.keys(colors)\r\n        .map(c => ({ key: c, value: colors[c] }))\r\n        .map(({ key, value }) => ({ key, value: exports.decorateSelector(() => value) }))\r\n        .reduce((prev, { key, value }) => (Object.assign(Object.assign({}, prev), { [key]: value })), {});\r\n    return transformed;\r\n}\r\nconst theme = Object.assign(Object.assign({}, createTheme({\r\n    background: '#24282A',\r\n    background2: '#1C2022',\r\n    background3: '#374140',\r\n    background4: '#141618',\r\n    background5: '#111518',\r\n    primary: '#FFD399',\r\n    primaryText: '#7F694C',\r\n    lightText: '#F2F2F2',\r\n    secondary: '#40A9F3',\r\n    shySecondary: '#66b9f4',\r\n    darkBlue: '#1081D0',\r\n    white: '#E0E0E0',\r\n    gray: '#C0C0C0',\r\n    black: '#74757D',\r\n    green: '#5da700',\r\n    redBackground: '#400000',\r\n    red: '#F27777',\r\n    dangerBackground: '#DC3545',\r\n    sidebar: '#191d1f',\r\n    placeholder: '#B8B9BA',\r\n    link: '#40a9f3',\r\n})), { vscodeTheme: codesandbox_json_1.default, new: createTheme({\r\n        title: '#EEEEFF',\r\n        description: '#777788',\r\n        bg: '#2B2E41',\r\n    }) });\r\nexports.default = theme;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CSB_PKG_PROTOCOL = /https:\\/\\/pkg(-staging)?\\.csb.dev/;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst global_1 = require(\"./global\");\r\nconst shouldShowDebugger = () => {\r\n    if (typeof __DEV__ !== 'undefined' && __DEV__) {\r\n        return true;\r\n    }\r\n    if (process.env.NODE_ENV === 'development') {\r\n        return true;\r\n    }\r\n    if (typeof document !== 'undefined' &&\r\n        document.location.search.includes('debug')) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst getDebugger = () => {\r\n    if (!shouldShowDebugger()) {\r\n        const global = global_1.getGlobal();\r\n        // Return a debugger that will log to sentry\r\n        return (key) => (message) => {\r\n            // Disable it for now, seems to affect performance. That's the last thing we want\r\n            // from this (https://github.com/codesandbox/codesandbox-client/issues/1671)\r\n            // TODO: move this to sentry\r\n            if (false || typeof global.Raven === 'object') {\r\n                try {\r\n                    global.Raven.captureBreadcrumb({\r\n                        message: `${key} - ${message}`,\r\n                        category: 'logging',\r\n                    });\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    // @ts-ignore\r\n    const debug = require('debug'); // eslint-disable-line global-require\r\n    // debug.enable('cs:*');\r\n    // debug.disable('cs:cp-*');\r\n    return debug;\r\n};\r\nexports.default = getDebugger();\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction fetchWithRetries(url) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let err;\r\n        for (let i = 0; i < 3; i++) {\r\n            try {\r\n                // eslint-disable-next-line\r\n                return yield fetch(url).then(x => {\r\n                    if (x.ok) {\r\n                        return x.json();\r\n                    }\r\n                    throw new Error('Could not fetch ' + url);\r\n                });\r\n            }\r\n            catch (e) {\r\n                err = e;\r\n            }\r\n        }\r\n        throw err;\r\n    });\r\n}\r\nfunction fetchPackageJSON(dep, version) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            return yield fetchWithRetries(`https://unpkg.com/${dep}@${encodeURIComponent(version)}/package.json`);\r\n        }\r\n        catch (e) {\r\n            return fetchWithRetries(`https://cdn.jsdelivr.net/npm/${dep}@${encodeURIComponent(version)}/package.json`);\r\n        }\r\n    });\r\n}\r\nfunction getAbsoluteDependencies(dependencies) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const nonAbsoluteDependencies = Object.keys(dependencies).filter(dep => {\r\n            const version = dependencies[dep];\r\n            const isAbsolute = /^\\d+\\.\\d+\\.\\d+$/.test(version);\r\n            return !isAbsolute && !/\\//.test(version);\r\n        });\r\n        const newDependencies = Object.assign({}, dependencies);\r\n        yield Promise.all(nonAbsoluteDependencies.map((dep) => __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const data = yield fetchPackageJSON(dep, dependencies[dep]);\r\n                newDependencies[dep] = data.version;\r\n            }\r\n            catch (e) {\r\n                /* ignore */\r\n            }\r\n        })));\r\n        return newDependencies;\r\n    });\r\n}\r\nexports.getAbsoluteDependencies = getAbsoluteDependencies;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst url_generator_1 = require(\"./url-generator\");\r\nfunction getGlobal() {\r\n    if (typeof window !== 'undefined') {\r\n        return window;\r\n    }\r\n    if (typeof self !== 'undefined') {\r\n        const returnedGlobal = self;\r\n        return returnedGlobal;\r\n    }\r\n    if (typeof global !== 'undefined') {\r\n        return global;\r\n    }\r\n    return {};\r\n}\r\nexports.getGlobal = getGlobal;\r\nconst global = getGlobal();\r\n/**\r\n * A postmessage that works in main window and in worker.\r\n * It will send the message to the default origin.\r\n * @param message The message to send\r\n */\r\nfunction commonPostMessage(message) {\r\n    if (typeof Window !== 'undefined') {\r\n        global.postMessage(message, url_generator_1.protocolAndHost());\r\n    }\r\n    else {\r\n        global.postMessage(message);\r\n    }\r\n}\r\nexports.commonPostMessage = commonPostMessage;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst semver_1 = __importDefault(require(\"semver\"));\r\nfunction isCRAVersion2(dependencies, devDependencies) {\r\n    const reactScriptsVersion = dependencies['react-scripts'] || devDependencies['react-scripts'];\r\n    if (reactScriptsVersion) {\r\n        return (/^[a-z]/.test(reactScriptsVersion) ||\r\n            semver_1.default.intersects(reactScriptsVersion, '^2.0.0') ||\r\n            semver_1.default.intersects(reactScriptsVersion, '^3.0.0'));\r\n    }\r\n    return false;\r\n}\r\nfunction isBabel7(dependencies = {}, devDependencies = {}) {\r\n    if (devDependencies['@vue/cli-plugin-babel']) {\r\n        return true;\r\n    }\r\n    if (devDependencies['@babel/core'] || dependencies['@babel/core']) {\r\n        return true;\r\n    }\r\n    if (dependencies.svelte || devDependencies.svelte) {\r\n        const ver = dependencies.svelte || devDependencies.svelte;\r\n        const [maj] = ver.split('.');\r\n        if (maj) {\r\n            return +maj > 2;\r\n        }\r\n        return false;\r\n    }\r\n    if ('typescript' in devDependencies && !dependencies['@angular/core']) {\r\n        return true;\r\n    }\r\n    if (isCRAVersion2(dependencies, devDependencies)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isBabel7 = isBabel7;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar messages;\r\n(function (messages) {\r\n    messages[\"INITIALIZE\"] = \"initialize_tests\";\r\n    messages[\"ADD_FILE\"] = \"add_file\";\r\n    messages[\"REMOVE_FILE\"] = \"remove_file\";\r\n    messages[\"FILE_ERROR\"] = \"file_error\";\r\n    messages[\"TOTAL_TEST_START\"] = \"total_test_start\";\r\n    messages[\"TOTAL_TEST_END\"] = \"total_test_end\";\r\n    messages[\"TEST_START\"] = \"test_start\";\r\n    messages[\"TEST_END\"] = \"test_end\";\r\n    messages[\"DESCRIBE_START\"] = \"describe_start\";\r\n    messages[\"DESCRIBE_END\"] = \"describe_end\";\r\n    messages[\"ADD_TEST\"] = \"add_test\";\r\n})(messages = exports.messages || (exports.messages = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^/]+?|)(\\.[^./]*|))(?:[/]*)$/;\r\nfunction splitPath(filename) {\r\n    return splitPathRe.exec(filename).slice(1);\r\n}\r\n// resolves . and .. elements in a path array with directory names there\r\n// must be no slashes or device names (c:\\) in the array\r\n// (so also no leading and trailing slashes - it does not distinguish\r\n// relative and absolute paths)\r\nfunction normalizeArray(parts, allowAboveRoot) {\r\n    const res = [];\r\n    for (let i = 0; i < parts.length; i += 1) {\r\n        const p = parts[i];\r\n        // ignore empty parts\r\n        if (!p || p === '.')\r\n            continue; // eslint-disable-line no-continue\r\n        if (p === '..') {\r\n            if (res.length && res[res.length - 1] !== '..') {\r\n                res.pop();\r\n            }\r\n            else if (allowAboveRoot) {\r\n                res.push('..');\r\n            }\r\n        }\r\n        else {\r\n            res.push(p);\r\n        }\r\n    }\r\n    return res;\r\n}\r\nfunction isAbsolute(path) {\r\n    return path.charAt(0) === '/';\r\n}\r\nexports.isAbsolute = isAbsolute;\r\nfunction normalize(path) {\r\n    const isAbs = isAbsolute(path);\r\n    const trailingSlash = path && path[path.length - 1] === '/';\r\n    let newPath = path;\r\n    // Normalize the path\r\n    newPath = normalizeArray(newPath.split('/'), !isAbs).join('/');\r\n    if (!newPath && !isAbs) {\r\n        newPath = '.';\r\n    }\r\n    if (newPath && trailingSlash) {\r\n        newPath += '/';\r\n    }\r\n    return (isAbs ? '/' : '') + newPath;\r\n}\r\nexports.normalize = normalize;\r\nfunction join(...paths) {\r\n    let path = '';\r\n    for (let i = 0; i < paths.length; i += 1) {\r\n        const segment = paths[i];\r\n        if (typeof segment !== 'string') {\r\n            throw new TypeError('Arguments to path.join must be strings');\r\n        }\r\n        if (segment) {\r\n            if (!path) {\r\n                path += segment;\r\n            }\r\n            else {\r\n                path += `/${segment}`;\r\n            }\r\n        }\r\n    }\r\n    return normalize(path);\r\n}\r\nexports.join = join;\r\nfunction dirname(path) {\r\n    const result = splitPath(path);\r\n    const root = result[0];\r\n    let dir = result[1];\r\n    if (!root && !dir) {\r\n        // No dirname whatsoever\r\n        return '.';\r\n    }\r\n    if (dir) {\r\n        // It has a dirname, strip trailing slash\r\n        dir = dir.substr(0, dir.length - 1);\r\n    }\r\n    return root + dir;\r\n}\r\nexports.dirname = dirname;\r\nfunction basename(p, ext = '') {\r\n    // Special case: Normalize will modify this to '.'\r\n    if (p === '') {\r\n        return p;\r\n    }\r\n    // Normalize the string first to remove any weirdness.\r\n    const path = normalize(p);\r\n    // Get the last part of the string.\r\n    const sections = path.split('/');\r\n    const lastPart = sections[sections.length - 1];\r\n    // Special case: If it's empty, then we have a string like so: foo/\r\n    // Meaning, 'foo' is guaranteed to be a directory.\r\n    if (lastPart === '' && sections.length > 1) {\r\n        return sections[sections.length - 2];\r\n    }\r\n    // Remove the extension, if need be.\r\n    if (ext.length > 0) {\r\n        const lastPartExt = lastPart.substr(lastPart.length - ext.length);\r\n        if (lastPartExt === ext) {\r\n            return lastPart.substr(0, lastPart.length - ext.length);\r\n        }\r\n    }\r\n    return lastPart;\r\n}\r\nexports.basename = basename;\r\nfunction absolute(path) {\r\n    if (path.startsWith('/')) {\r\n        return path;\r\n    }\r\n    if (path.startsWith('./')) {\r\n        return path.replace('./', '/');\r\n    }\r\n    return '/' + path;\r\n}\r\nexports.absolute = absolute;\r\nfunction assertPath(path) {\r\n    if (typeof path !== 'string') {\r\n        throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\r\n    }\r\n}\r\nfunction extname(path) {\r\n    assertPath(path);\r\n    let startDot = -1;\r\n    let startPart = 0;\r\n    let end = -1;\r\n    let matchedSlash = true;\r\n    // Track the state of characters (if any) we see before our first dot and\r\n    // after any path separator we find\r\n    let preDotState = 0;\r\n    for (let i = path.length - 1; i >= 0; --i) {\r\n        const code = path.charCodeAt(i);\r\n        if (code === 47) {\r\n            // If we reached a path separator that was not part of a set of path\r\n            // separators at the end of the string, stop now\r\n            if (!matchedSlash) {\r\n                startPart = i + 1;\r\n                break;\r\n            }\r\n            // eslint-disable-next-line\r\n            continue;\r\n        }\r\n        if (end === -1) {\r\n            // We saw the first non-path separator, mark this as the end of our\r\n            // extension\r\n            matchedSlash = false;\r\n            end = i + 1;\r\n        }\r\n        if (code === 46 /* . */) {\r\n            // If this is our first dot, mark it as the start of our extension\r\n            if (startDot === -1)\r\n                startDot = i;\r\n            else if (preDotState !== 1)\r\n                preDotState = 1;\r\n        }\r\n        else if (startDot !== -1) {\r\n            // We saw a non-dot and non-path separator before our dot, so we should\r\n            // have a good chance at having a non-empty extension\r\n            preDotState = -1;\r\n        }\r\n    }\r\n    if (startDot === -1 ||\r\n        end === -1 ||\r\n        // We saw a non-dot character immediately before the dot\r\n        preDotState === 0 ||\r\n        // The (right-most) trimmed path component is exactly '..'\r\n        (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)) {\r\n        return '';\r\n    }\r\n    return path.slice(startDot, end);\r\n}\r\nexports.extname = extname;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction slugify(text) {\r\n    const a = '/_,:;';\r\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\r\n    const p = new RegExp(a.split('').join('|'), 'g');\r\n    /* eslint-disable */\r\n    return text\r\n        .toString()\r\n        .toLowerCase()\r\n        .replace(/\\s+/g, '-') // Replace spaces with -\r\n        .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\r\n        .replace(/&/g, '-and-') // Replace & with 'and'\r\n        .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\r\n        .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\r\n        .replace(/^-+/, '') // Trim - from start of text\r\n        .replace(/-+$/, ''); // Trim - from end of text\r\n    /* eslint-enable */\r\n}\r\nexports.default = slugify;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.gitHubRepoPattern = /(https?:\\/\\/)?((www.)?)github.com(\\/[\\w-]+){2,}/;\r\nconst gitHubPrefix = /(https?:\\/\\/)?((www.)?)github.com/;\r\nconst dotGit = /(\\.git)$/;\r\nconst sandboxHost = {\r\n    'https://codesandbox.io': 'https://csb.app',\r\n    'https://codesandbox.stream': 'https://codesandbox.dev',\r\n};\r\nconst buildEncodedUri = (strings, ...values) => strings[0] +\r\n    values\r\n        .map((value, i) => `${encodeURIComponent(value)}${strings[i + 1]}`)\r\n        .join('');\r\nexports.host = () => {\r\n    if (process.env.NODE_ENV === 'production') {\r\n        return process.env.CODESANDBOX_HOST.split('//')[1];\r\n    }\r\n    if (process.env.LOCAL_SERVER) {\r\n        return 'localhost:3000';\r\n    }\r\n    return 'codesandbox.test';\r\n};\r\nexports.protocolAndHost = () => `${location.protocol}//${exports.host()}`;\r\nexports.newSandboxWizard = () => `/s`;\r\nexports.newSandboxUrl = () => `/s/new`;\r\nexports.parcelSandboxUrl = () => `/s/vanilla`;\r\nexports.newReactTypeScriptSandboxUrl = () => `/s/react-ts`;\r\nexports.newDojoSandboxUrl = () => `/s/github/dojo/dojo-codesandbox-template`;\r\nexports.newPreactSandboxUrl = () => `/s/preact`;\r\nexports.newVueSandboxUrl = () => `/s/vue`;\r\nexports.importFromGitHubUrl = () => `/s/github`;\r\nexports.newSvelteSandboxUrl = () => `/s/svelte`;\r\nexports.newAngularSandboxUrl = () => `/s/angular`;\r\nexports.newCxJSSandboxUrl = () => `/s/github/codaxy/cxjs-codesandbox-template`;\r\nexports.uploadFromCliUrl = () => `/s/cli`;\r\nconst sandboxGitUrl = (git) => buildEncodedUri `github/${git.username}/${git.repo}/tree/${git.branch}/` +\r\n    git.path;\r\nexports.editorUrl = () => `/s/`;\r\nexports.sandboxUrl = (sandboxDetails) => {\r\n    if (sandboxDetails.git) {\r\n        const { git } = sandboxDetails;\r\n        return `${exports.editorUrl()}${sandboxGitUrl(git)}`;\r\n    }\r\n    if (sandboxDetails.alias) {\r\n        return `${exports.editorUrl()}${sandboxDetails.alias}`;\r\n    }\r\n    return `${exports.editorUrl()}${sandboxDetails.id}`;\r\n};\r\nexports.embedUrl = (sandbox) => {\r\n    if (sandbox.git) {\r\n        const { git } = sandbox;\r\n        return `/embed/${sandboxGitUrl(git)}`;\r\n    }\r\n    if (sandbox.alias) {\r\n        return `/embed/${sandbox.alias}`;\r\n    }\r\n    return `/embed/${sandbox.id}`;\r\n};\r\nconst stagingFrameUrl = (shortid, path) => {\r\n    const stagingHost = (process.env.CODESANDBOX_HOST\r\n        ? process.env.CODESANDBOX_HOST\r\n        : '').split('//')[1];\r\n    const segments = stagingHost.split('.');\r\n    const first = segments.shift();\r\n    return `${location.protocol}//${first}-${shortid}.${segments.join('.')}/${path}`;\r\n};\r\nexports.frameUrl = (sandbox, append = '', useFallbackDomain = false) => {\r\n    const path = append.indexOf('/') === 0 ? append.substr(1) : append;\r\n    if (process.env.LOCAL_SERVER) {\r\n        return `http://localhost:3002/${path}`;\r\n    }\r\n    if (process.env.STAGING) {\r\n        return stagingFrameUrl(sandbox.id, path);\r\n    }\r\n    let sHost = exports.host();\r\n    if (`https://${sHost}` in sandboxHost && !useFallbackDomain) {\r\n        sHost = sandboxHost[`https://${sHost}`].split('//')[1];\r\n    }\r\n    return `${location.protocol}//${sandbox.id}.${sHost}/${path}`;\r\n};\r\nexports.forkSandboxUrl = (sandbox) => `${exports.sandboxUrl(sandbox)}/fork`;\r\nexports.signInUrl = (extraScopes = false) => '/auth/github' + (extraScopes ? '?scope=user:email,public_repo' : '');\r\nexports.signInZeitUrl = () => '/auth/zeit';\r\nexports.profileUrl = (username) => `/u/${username}`;\r\nexports.dashboardUrl = () => `/dashboard`;\r\nexports.exploreUrl = () => `/explore`;\r\nexports.teamOverviewUrl = teamId => `/dashboard/teams/${teamId}`;\r\nexports.profileSandboxesUrl = (username, page) => `${exports.profileUrl(username)}/sandboxes${page ? `/${page}` : ''}`;\r\nexports.profileLikesUrl = (username, page) => `${exports.profileUrl(username)}/likes${page ? `/${page}` : ''}`;\r\nexports.githubRepoUrl = ({ repo, branch, username, path, }) => buildEncodedUri `https://github.com/${username}/${repo}/tree/${branch}/` +\r\n    path;\r\nexports.optionsToParameterizedUrl = (options) => {\r\n    const keyValues = Object.keys(options)\r\n        .sort()\r\n        .filter(a => options[a])\r\n        .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(options[key])}`)\r\n        .join('&');\r\n    return keyValues ? `?${keyValues}` : '';\r\n};\r\nexports.gitHubToSandboxUrl = (githubUrl) => githubUrl.replace(gitHubPrefix, '/s/github').replace(dotGit, '');\r\nexports.searchUrl = (query) => `/search${query ? `?query=${query}` : ''}`;\r\nexports.patronUrl = () => `/patron`;\r\nexports.curatorUrl = () => `/curator`;\r\nexports.tosUrl = () => `/legal/terms`;\r\nexports.privacyUrl = () => `/legal/privacy`;\r\nfunction getSandboxId() {\r\n    const csbHost = process.env.CODESANDBOX_HOST;\r\n    if (process.env.LOCAL_SERVER) {\r\n        return document.location.hash.replace('#', '');\r\n    }\r\n    if (process.env.STAGING) {\r\n        const segments = csbHost.split('//')[1].split('.');\r\n        const first = segments.shift();\r\n        const re = RegExp(`${first}-(.*)\\\\.${segments.join('\\\\.')}`);\r\n        return document.location.host.match(re)[1];\r\n    }\r\n    let result;\r\n    [csbHost, sandboxHost[csbHost]].filter(Boolean).forEach(tryHost => {\r\n        const hostRegex = tryHost.replace(/https?:\\/\\//, '').replace(/\\./g, '\\\\.');\r\n        const sandboxRegex = new RegExp(`(.*)\\\\.${hostRegex}`);\r\n        const matches = document.location.host.match(sandboxRegex);\r\n        if (matches) {\r\n            result = matches[1];\r\n        }\r\n    });\r\n    if (!result) {\r\n        throw new Error(`Can't detect sandbox ID from the current URL`);\r\n    }\r\n    return result;\r\n}\r\nexports.getSandboxId = getSandboxId;\r\n","import { dispatch, listen } from 'codesandbox-api';\nimport Hook from 'console-feed/lib/Hook';\nimport { Encode } from 'console-feed/lib/Transform';\n\nexport default function setupConsole() {\n  Hook(window.console, log => {\n    dispatch({\n      type: 'console',\n      log,\n    });\n  });\n\n  function handleMessage(data, source) {\n    if (source) {\n      if (data.type === 'evaluate') {\n        let result = null;\n        let error = false;\n        try {\n          // Attempt to wrap command in parentheses, fixing issues\n          // where directly returning objects results in unexpected\n          // behaviour.\n          if (data.command && data.command.charAt(0) === '{') {\n            try {\n              const wrapped = `(${data.command})`;\n              // `new Function` is used to validate Javascript syntax\n              const validate = new Function(wrapped);\n              data.command = wrapped;\n            } catch (e) {\n              // We shouldn't wrap the expression\n            }\n          }\n\n          result = (0, eval)(data.command); // eslint-disable-line no-eval\n        } catch (e) {\n          result = e;\n          error = true;\n        }\n\n        try {\n          dispatch({\n            type: 'eval-result',\n            error,\n            result: Encode(result),\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    }\n  }\n\n  return listen(handleMessage);\n}\n","// @flow\nimport { actions, dispatch } from 'codesandbox-api';\nimport SandboxError from './sandbox-error';\n\nexport default class DependencyNotFoundError extends SandboxError {\n  constructor(dependencyName: string, fromPath: ?string) {\n    super();\n    this.path = dependencyName;\n\n    const [root, second] = dependencyName.split('/');\n\n    // If the package starts with a @ it's scoped, we should add the second\n    // part of the name in that case\n    const parsedName = root.startsWith('@') ? `${root}/${second}` : root;\n    this.suggestions = [\n      {\n        title: `Add ${parsedName} as dependency`,\n        action: () => {\n          dispatch(actions.source.dependencies.add(parsedName));\n        },\n      },\n    ];\n\n    this.name = 'DependencyNotFoundError';\n    this.message = `Could not find dependency: '${parsedName}'`;\n\n    if (fromPath) {\n      this.message += ` relative to '${fromPath}'`;\n    }\n  }\n  type = 'dependency-not-found';\n  severity = 'error';\n  path: string;\n}\n","// @flow\nimport { dispatch, actions } from 'codesandbox-api';\nimport { getCurrentManager } from 'app/src/sandbox/compile';\nimport type TranspiledModule from 'app/src/sandbox/eval/transpiled-module';\n\nimport type { ErrorRecord } from 'sandbox-hooks/react-error-overlay/utils/errorRegister';\n\ntype TModuleError = Error & {\n  hideLine?: boolean,\n  line?: number,\n  path?: Object,\n  severity?: string,\n  payload?: Object,\n  tModule?: TranspiledModule,\n};\n\nfunction buildErrorMessage(e: TModuleError) {\n  const title = e.name;\n  const message = e.message;\n  let line = null;\n  let column = null;\n  if (!e.hideLine) {\n    // Safari\n    if (e.line != null) {\n      line = e.line;\n\n      // FF\n    } else if (e.lineNumber != null) {\n      line = e.lineNumber;\n\n      // Chrome\n    } else if (e.stack) {\n      const matched = e.stack.match(/<anonymous>:(\\d+):(\\d+)/);\n      if (matched) {\n        line = matched[1];\n        column = matched[2];\n      } else {\n        // Maybe it's a babel transpiler error\n        const babelMatched = e.stack.match(/(\\d+):(\\d+)/);\n        if (babelMatched) {\n          line = babelMatched[1];\n          column = babelMatched[2];\n        }\n      }\n    }\n  }\n\n  return {\n    path: e.tModule ? e.tModule.module.path : e.path,\n    title,\n    message,\n    line: parseInt(line, 10),\n    column: parseInt(column, 10),\n    payload: e.payload || {},\n    severity: e.severity || 'error',\n  };\n}\n\nconst wrappedResolveModule = (manager, path) => {\n  try {\n    return manager && manager.resolveTranspiledModule(path, '/');\n  } catch (e) {\n    return null;\n  }\n};\n\nfunction buildDynamicError(ref: ErrorRecord) {\n  // TODO remove this logic for the SSE handler, move it to something more generic\n  // like a file store\n  const manager = getCurrentManager();\n\n  const relevantFrame = ref.enhancedFrames.find(r =>\n    wrappedResolveModule(\n      manager,\n      (r._originalFileName || r.fileName || '')\n        .replace(location.origin, '')\n        .replace('file://', '')\n    )\n  );\n\n  if (relevantFrame && manager) {\n    const fileName = relevantFrame._originalFileName || relevantFrame.fileName;\n    if (fileName) {\n      const tModule = manager.resolveTranspiledModule(\n        fileName.replace(location.origin, '').replace('file://', ''),\n        '/'\n      );\n\n      if (tModule) {\n        const module = tModule.module;\n        return {\n          type: 'action',\n          action: 'show-error',\n          path: module.parent ? module.parent.path : module.path,\n          title: ref.error.name,\n          message: ref.error.message,\n          line: relevantFrame._originalLineNumber,\n          column: relevantFrame._originalColumnNumber,\n          payload: {},\n          severity: 'error',\n        };\n      }\n    }\n  } else {\n    const error: TModuleError = ref.error;\n    const tModule =\n      error.tModule ||\n      wrappedResolveModule(\n        manager,\n        (error.fileName || '')\n          .replace(location.origin, '')\n          .replace('file://', '')\n      );\n\n    if (tModule) {\n      const newError = {\n        ...buildErrorMessage(error),\n        path: error.fileName,\n        type: 'action',\n        action: 'show-error',\n      };\n\n      return newError;\n    }\n  }\n\n  return null;\n}\n\n/* eslint-disable no-underscore-dangle */\nexport default function showError(ref: ErrorRecord) {\n  const errorToSend = buildDynamicError(ref);\n\n  if (errorToSend) {\n    dispatch(\n      actions.error.show(errorToSend.title, errorToSend.message, {\n        line: errorToSend.line,\n        column: errorToSend.column,\n        path: errorToSend.path,\n        payload: errorToSend.payload,\n      })\n    );\n  } else {\n    // Show based on error\n    actions.error.show(ref.error.name, ref.error.message, {\n      line: ref.error.lineNumber,\n      column: ref.error.columnNumber,\n      path: ref.error.fileName,\n      payload: {},\n    });\n  }\n}\n","// @flow\n\nimport SandboxError from './sandbox-error';\n\nexport default class ModuleNotFoundError extends SandboxError {\n  constructor(path: string, isDependency: boolean, currentPath?: string) {\n    super();\n    this.path = path;\n    this.isDependency = isDependency;\n\n    this.name = 'ModuleNotFoundError';\n    this.message = `Could not find module in path: '${path}'`;\n\n    if (currentPath) {\n      this.message += ` relative to '${currentPath}'`;\n    }\n  }\n  type = 'module-not-found';\n  severity = 'error';\n  path: string;\n  isDependency: boolean;\n}\n","// @flow\nimport type { Module } from '@codesandbox/common/lib/types';\n\ntype Suggestion = {\n  title: string,\n  action: Function,\n};\nconst ErrorClass = Error;\n\nexport default class SandboxError extends ErrorClass {\n  severity: 'error' | 'warning';\n  type: string;\n  module: Module;\n  payload: ?Object;\n  suggestions: Array<Suggestion>;\n\n  suggestions = [];\n\n  constructor(error: ?Error) {\n    super(error ? error.message : null);\n\n    if (error) {\n      this.fileName = error.fileName;\n      this.description = error.description;\n      this.message = error.message;\n      this.name = error.name;\n      this.stack = error.stack;\n      this.number = error.number;\n    }\n  }\n}\n","import { registerErrorTransformer } from 'codesandbox-api';\n\nimport rawReactErrorTransformer from './raw-react-component-error';\n\nconst transformers = [rawReactErrorTransformer];\n\nexport default function registerErrorTransformers() {\n  transformers.forEach(t => registerErrorTransformer(t));\n}\n","import { actions, dispatch } from 'codesandbox-api';\n\nimport { basename } from '@codesandbox/common/lib/utils/path';\n\nfunction findRawModule(module) {\n  const rawModule = Array.from(module.dependencies).find(\n    m => !/\\.([\\w]{2}|[\\w]{3})$/.test(m.module.path)\n  );\n\n  if (rawModule) {\n    return [module, rawModule];\n  }\n\n  // The error is thrown at the root, so we check for children components\n  return Array.from(module.dependencies).reduce((foundResult, m) => {\n    // We already found it, immediately return\n    if (foundResult) return foundResult;\n\n    return findRawModule(m);\n  }, null);\n}\n\n/**\n * This transformer detects raw imports used as React component, when the module\n * is missing a file extension\n *\n * @export\n * @param {Error} error\n * @param {any} module\n * @returns\n */\nexport default function(error: Error, module) {\n  if (\n    error.message.includes(\n      \"Failed to execute 'createElement' on 'Document': The tag name provided \"\n    )\n  ) {\n    const result = findRawModule(module);\n\n    if (result) {\n      const [sourceModule, rawModule] = result;\n      return {\n        name: 'Raw import',\n        message: `It seems like '${basename(\n          sourceModule.module.path\n        )}' is importing a raw module (${basename(rawModule.module.path)})`,\n        suggestions: [\n          {\n            title: `Rename ${basename(rawModule.module.path)} to ${basename(\n              rawModule.module.path\n            )}.js`,\n            action: () => {\n              dispatch(\n                actions.source.modules.rename(\n                  rawModule.module.path,\n                  `${basename(rawModule.module.path)}.js`\n                )\n              );\n            },\n          },\n        ],\n      };\n    }\n  }\n\n  return null;\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport {\n  additionalChildStyle,\n  groupElemLeft,\n  groupElemRight,\n  groupStyle,\n} from '../styles';\nimport { consumeEvent } from '../utils/dom/consumeEvent';\nimport { applyStyles } from '../utils/dom/css';\nimport { enableTabClick } from '../utils/dom/enableTabClick';\n\ntype SwitchCallback = (offset: number) => void;\nfunction updateAdditional(\n  document: Document,\n  additionalReference: HTMLDivElement,\n  currentError: number,\n  totalErrors: number,\n  switchCallback: SwitchCallback\n) {\n  if (additionalReference.lastChild) {\n    additionalReference.removeChild(additionalReference.lastChild);\n  }\n\n  if (totalErrors <= 1) {\n    return;\n  }\n\n  const div = document.createElement('div');\n  applyStyles(div, additionalChildStyle);\n\n  const group = document.createElement('span');\n  applyStyles(group, groupStyle);\n\n  const left = document.createElement('button');\n  applyStyles(left, groupElemLeft);\n  left.addEventListener('click', function(e: MouseEvent) {\n    consumeEvent(e);\n    switchCallback(-1);\n  });\n  left.appendChild(document.createTextNode(''));\n  enableTabClick(left);\n\n  const right = document.createElement('button');\n  applyStyles(right, groupElemRight);\n  right.addEventListener('click', function(e: MouseEvent) {\n    consumeEvent(e);\n    switchCallback(1);\n  });\n  right.appendChild(document.createTextNode(''));\n  enableTabClick(right);\n\n  group.appendChild(left);\n  group.appendChild(right);\n  div.appendChild(group);\n\n  const text = `${currentError} of ${totalErrors} errors on the page`;\n  div.appendChild(document.createTextNode(text));\n\n  additionalReference.appendChild(div);\n}\n\nexport type { SwitchCallback };\nexport { updateAdditional };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { closeButtonStyle, hintsStyle, hintStyle } from '../styles';\nimport { applyStyles } from '../utils/dom/css';\n\nfunction createHint(document: Document, hint: string, title: string) {\n  const span = document.createElement('span');\n  span.appendChild(document.createTextNode(hint));\n  span.setAttribute('title', title);\n  applyStyles(span, hintStyle);\n  return span;\n}\n\ntype CloseCallback = () => void;\nfunction createClose(document: Document, callback: CloseCallback) {\n  const hints = document.createElement('div');\n  applyStyles(hints, hintsStyle);\n\n  const close = createHint(document, '', 'Click or press Escape to dismiss.');\n  close.addEventListener('click', () => callback());\n  applyStyles(close, closeButtonStyle);\n  hints.appendChild(close);\n  return hints;\n}\n\nexport type { CloseCallback };\nexport { createClose };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport type { ScriptLine } from '../utils/stack-frame';\nimport codeFrame from 'babel-code-frame';\nimport generateAnsiHtml from 'react-dev-utils/ansiHTML';\nimport {\n  codeStyle,\n  primaryErrorStyle,\n  primaryPreStyle,\n  secondaryErrorStyle,\n  secondaryPreStyle,\n} from '../styles';\nimport { applyStyles } from '../utils/dom/css';\n\nfunction createCode(\n  document: Document,\n  sourceLines: ScriptLine[],\n  lineNum: number,\n  columnNum: number | null,\n  contextSize: number,\n  main: boolean,\n  onSourceClick: ?Function\n) {\n  const sourceCode = [];\n  let whiteSpace = Infinity;\n  sourceLines.forEach(function(e) {\n    const { content: text } = e;\n    const m = text.match(/^\\s*/);\n    if (text === '') {\n      return;\n    }\n    if (m && m[0]) {\n      whiteSpace = Math.min(whiteSpace, m[0].length);\n    } else {\n      whiteSpace = 0;\n    }\n  });\n  sourceLines.forEach(function(e) {\n    let { content: text } = e;\n    const { lineNumber: line } = e;\n\n    if (isFinite(whiteSpace)) {\n      text = text.substring(whiteSpace);\n    }\n    sourceCode[line - 1] = text;\n  });\n  const ansiHighlight = codeFrame(\n    sourceCode.join('\\n'),\n    lineNum,\n    columnNum == null ? 0 : columnNum - (isFinite(whiteSpace) ? whiteSpace : 0),\n    {\n      forceColor: true,\n      linesAbove: contextSize,\n      linesBelow: contextSize,\n    }\n  );\n  const htmlHighlight = generateAnsiHtml(ansiHighlight);\n  const code = document.createElement('code');\n  code.innerHTML = htmlHighlight;\n  applyStyles(code, codeStyle);\n\n  const ccn = code.childNodes;\n  // eslint-disable-next-line\n  oLoop: for (let index = 0; index < ccn.length; ++index) {\n    const node = ccn[index];\n    const ccn2 = node.childNodes;\n    for (let index2 = 0; index2 < ccn2.length; ++index2) {\n      const lineNode = ccn2[index2];\n      const text = lineNode.innerText;\n      if (text == null) {\n        continue;\n      }\n      if (text.indexOf(' ' + lineNum + ' |') === -1) {\n        continue;\n      }\n      // $FlowFixMe\n      applyStyles(node, main ? primaryErrorStyle : secondaryErrorStyle);\n      // eslint-disable-next-line\n      break oLoop;\n    }\n  }\n  const pre = document.createElement('pre');\n  applyStyles(pre, main ? primaryPreStyle : secondaryPreStyle);\n  pre.appendChild(code);\n\n  if (typeof onSourceClick === 'function') {\n    let handler = onSourceClick;\n    pre.style.cursor = 'pointer';\n    pre.addEventListener('click', function() {\n      handler();\n    });\n  }\n\n  return pre;\n}\n\nexport { createCode };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { footerStyle } from '../styles';\nimport { applyStyles } from '../utils/dom/css';\n\nfunction createFooter(document: Document) {\n  const div = document.createElement('div');\n  applyStyles(div, footerStyle);\n  div.appendChild(\n    document.createTextNode(\n      'This screen is visible only in development. It will not appear if the app crashes in production.'\n    )\n  );\n  div.appendChild(document.createElement('br'));\n  div.appendChild(\n    document.createTextNode(\n      'Open your browsers developer console to further inspect this error.'\n    )\n  );\n  div.appendChild(document.createElement('br'));\n  div.appendChild(\n    document.createTextNode(\n      'This error overlay is powered by `react-error-overlay` used in `create-react-app`.'\n    )\n  );\n  return div;\n}\n\nexport { createFooter };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { getCurrentManager } from 'app/src/sandbox/compile';\nimport { actions, dispatch } from 'codesandbox-api';\nimport {\n  anchorStyle,\n  depStyle,\n  functionNameStyle,\n  hiddenStyle,\n  linkStyle,\n  omittedFramesCollapsedStyle,\n  omittedFramesExpandedStyle,\n} from '../styles';\nimport { applyStyles } from '../utils/dom/css';\nimport { enableTabClick } from '../utils/dom/enableTabClick';\nimport { isInternalFile } from '../utils/isInternalFile';\nimport { createCode } from './code';\nimport type { StackFrame } from '../utils/stack-frame';\nimport type { FrameSetting, OmitsObject } from './frames';\n\nfunction getGroupToggle(\n  document: Document,\n  omitsCount: number,\n  omitBundle: number\n) {\n  const omittedFrames = document.createElement('div');\n  enableTabClick(omittedFrames);\n  const text1 = document.createTextNode(\n    '\\u25B6 ' + omitsCount + ' stack frames were collapsed.'\n  );\n  omittedFrames.appendChild(text1);\n  omittedFrames.addEventListener('click', function() {\n    const hide = text1.textContent.match(//);\n    const list = document.getElementsByName('bundle-' + omitBundle);\n    for (let index = 0; index < list.length; ++index) {\n      const n = list[index];\n      if (hide) {\n        n.style.display = 'none';\n      } else {\n        n.style.display = '';\n      }\n    }\n    if (hide) {\n      text1.textContent = text1.textContent.replace(//, '');\n      text1.textContent = text1.textContent.replace(/expanded/, 'collapsed');\n      applyStyles(omittedFrames, omittedFramesCollapsedStyle);\n    } else {\n      text1.textContent = text1.textContent.replace(//, '');\n      text1.textContent = text1.textContent.replace(/collapsed/, 'expanded');\n      applyStyles(omittedFrames, omittedFramesExpandedStyle);\n    }\n  });\n  applyStyles(omittedFrames, omittedFramesCollapsedStyle);\n  return omittedFrames;\n}\n\nfunction insertBeforeBundle(\n  document: Document,\n  parent: Node,\n  omitsCount: number,\n  omitBundle: number,\n  actionElement\n) {\n  const children = document.getElementsByName('bundle-' + omitBundle);\n  if (children.length < 1) {\n    return;\n  }\n  let first: ?Node = children[0];\n  while (first != null && first.parentNode !== parent) {\n    first = first.parentNode;\n  }\n  const div = document.createElement('div');\n  enableTabClick(div);\n  div.setAttribute('name', 'bundle-' + omitBundle);\n  const text = document.createTextNode(\n    '\\u25BC ' + omitsCount + ' stack frames were expanded.'\n  );\n  div.appendChild(text);\n  div.addEventListener('click', function() {\n    return actionElement.click();\n  });\n  applyStyles(div, omittedFramesExpandedStyle);\n  div.style.display = 'none';\n\n  parent.insertBefore(div, first);\n}\n\nfunction frameDiv(\n  document: Document,\n  functionName,\n  url,\n  internalUrl,\n  onSourceClick: ?Function\n) {\n  const frame = document.createElement('div');\n  const frameFunctionName = document.createElement('div');\n\n  let cleanedFunctionName;\n  if (!functionName || functionName === 'Object.<anonymous>') {\n    cleanedFunctionName = '(anonymous function)';\n  } else {\n    cleanedFunctionName = functionName;\n  }\n\n  const cleanedUrl = url.replace('webpack://', '.');\n\n  if (internalUrl) {\n    applyStyles(\n      frameFunctionName,\n      Object.assign({}, functionNameStyle, depStyle)\n    );\n  } else {\n    applyStyles(frameFunctionName, functionNameStyle);\n  }\n\n  frameFunctionName.appendChild(document.createTextNode(cleanedFunctionName));\n  frame.appendChild(frameFunctionName);\n\n  const frameLink = document.createElement('div');\n  applyStyles(frameLink, linkStyle);\n  const frameAnchor = document.createElement('a');\n  applyStyles(frameAnchor, anchorStyle);\n  frameAnchor.appendChild(document.createTextNode(cleanedUrl));\n  frameLink.appendChild(frameAnchor);\n  frame.appendChild(frameLink);\n\n  if (typeof onSourceClick === 'function') {\n    let handler = onSourceClick;\n    enableTabClick(frameAnchor);\n    frameAnchor.style.cursor = 'pointer';\n    frameAnchor.addEventListener('click', function() {\n      handler();\n    });\n  }\n\n  return frame;\n}\n\nfunction isBultinErrorName(errorName: ?string) {\n  switch (errorName) {\n    case 'EvalError':\n    case 'InternalError':\n    case 'RangeError':\n    case 'ReferenceError':\n    case 'SyntaxError':\n    case 'TypeError':\n    case 'URIError':\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction getPrettyURL(\n  sourceFileName: ?string,\n  sourceLineNumber: ?number,\n  sourceColumnNumber: ?number,\n  fileName: ?string,\n  lineNumber: ?number,\n  columnNumber: ?number,\n  compiled: boolean\n): string {\n  let prettyURL;\n  if (!compiled && sourceFileName && typeof sourceLineNumber === 'number') {\n    // Remove everything up to the first /src/ or /node_modules/\n    const trimMatch = /^[/|\\\\].*?[/|\\\\]((src|node_modules)[/|\\\\].*)/.exec(\n      sourceFileName\n    );\n    if (trimMatch && trimMatch[1]) {\n      prettyURL = trimMatch[1];\n    } else {\n      prettyURL = sourceFileName;\n    }\n    prettyURL += ':' + sourceLineNumber;\n    // Note: we intentionally skip 0's because they're produced by cheap Webpack maps\n    if (sourceColumnNumber) {\n      prettyURL += ':' + sourceColumnNumber;\n    }\n  } else if (fileName && typeof lineNumber === 'number') {\n    prettyURL = fileName + ':' + lineNumber;\n    // Note: we intentionally skip 0's because they're produced by cheap Webpack maps\n    if (columnNumber) {\n      prettyURL += ':' + columnNumber;\n    }\n  } else {\n    prettyURL = 'unknown';\n  }\n  return prettyURL;\n}\n\nfunction createFrame(\n  document: Document,\n  frameSetting: FrameSetting,\n  frame: StackFrame,\n  contextSize: number,\n  critical: boolean,\n  omits: OmitsObject,\n  omitBundle: number,\n  parentContainer: HTMLDivElement,\n  lastElement: boolean,\n  errorName: ?string\n) {\n  const { compiled } = frameSetting;\n  let { functionName, _originalFileName: sourceFileName } = frame;\n  const {\n    fileName,\n    lineNumber,\n    columnNumber,\n    _scriptCode: scriptLines,\n    _originalLineNumber: sourceLineNumber,\n    _originalColumnNumber: sourceColumnNumber,\n    _originalScriptCode: sourceLines,\n  } = frame;\n\n  // TODO: find a better place for this.\n  // Chrome has a bug with inferring function.name:\n  // https://github.com/facebookincubator/create-react-app/issues/2097\n  // Let's ignore a meaningless name we get for top-level modules.\n  if (\n    functionName === 'Object.friendlySyntaxErrorLabel' ||\n    functionName === 'Object.exports.__esModule'\n  ) {\n    functionName = '(anonymous function)';\n  }\n\n  const prettyURL = getPrettyURL(\n    sourceFileName,\n    sourceLineNumber,\n    sourceColumnNumber,\n    fileName,\n    lineNumber,\n    columnNumber,\n    compiled\n  );\n\n  let needsHidden = false;\n  const isInternalUrl = isInternalFile(sourceFileName, fileName);\n  const isThrownIntentionally = !isBultinErrorName(errorName);\n  const shouldCollapse =\n    isInternalUrl && (isThrownIntentionally || omits.hasReachedAppCode);\n\n  if (!isInternalUrl) {\n    omits.hasReachedAppCode = true;\n  }\n\n  if (shouldCollapse) {\n    ++omits.value;\n    needsHidden = true;\n  }\n\n  let collapseElement = null;\n  if (!shouldCollapse || lastElement) {\n    if (omits.value > 0) {\n      const capV = omits.value;\n      const omittedFrames = getGroupToggle(document, capV, omitBundle);\n      window.requestAnimationFrame(() => {\n        insertBeforeBundle(\n          document,\n          parentContainer,\n          capV,\n          omitBundle,\n          omittedFrames\n        );\n      });\n      if (lastElement && shouldCollapse) {\n        collapseElement = omittedFrames;\n      } else {\n        parentContainer.appendChild(omittedFrames);\n      }\n      ++omits.bundle;\n    }\n    omits.value = 0;\n  }\n\n  let onSourceClick = null;\n  if (sourceFileName) {\n    // e.g. \"/path-to-my-app/webpack/bootstrap eaddeb46b67d75e4dfc1\"\n    const isInternalWebpackBootstrapCode =\n      sourceFileName.trim().indexOf(' ') !== -1;\n    if (!isInternalWebpackBootstrapCode) {\n      onSourceClick = () => {\n        const manager = getCurrentManager();\n        if (manager) {\n          const tModule = manager.resolveTranspiledModule(\n            sourceFileName.replace(location.origin, '').replace('file://', ''),\n            '/'\n          );\n\n          dispatch(\n            actions.editor.openModule(\n              // A module has a parent when it has been generated by a module,\n              // Vue is an example of this: SFC's generate submodules\n              tModule.module.parent\n                ? tModule.module.parent.path\n                : tModule.module.path,\n              window.encodeURIComponent(sourceLineNumber || 1)\n            )\n          );\n        }\n      };\n    }\n  }\n\n  const elem = frameDiv(\n    document,\n    functionName,\n    prettyURL,\n    shouldCollapse,\n    onSourceClick\n  );\n  if (needsHidden) {\n    applyStyles(elem, hiddenStyle);\n    elem.setAttribute('name', 'bundle-' + omitBundle);\n  }\n\n  let hasSource = false;\n  if (!shouldCollapse) {\n    if (\n      compiled &&\n      scriptLines &&\n      scriptLines.length !== 0 &&\n      lineNumber != null\n    ) {\n      elem.appendChild(\n        createCode(\n          document,\n          scriptLines,\n          lineNumber,\n          columnNumber,\n          contextSize,\n          critical,\n          onSourceClick\n        )\n      );\n      hasSource = true;\n    } else if (\n      !compiled &&\n      sourceLines &&\n      sourceLines.length !== 0 &&\n      sourceLineNumber != null\n    ) {\n      elem.appendChild(\n        createCode(\n          document,\n          sourceLines,\n          sourceLineNumber,\n          sourceColumnNumber,\n          contextSize,\n          critical,\n          onSourceClick\n        )\n      );\n      hasSource = true;\n    }\n  }\n\n  return { elem: elem, hasSource: hasSource, collapseElement: collapseElement };\n}\n\nexport { createFrame };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport type { StackFrame } from '../utils/stack-frame';\nimport { applyStyles } from '../utils/dom/css';\nimport { traceStyle, toggleStyle } from '../styles';\nimport { enableTabClick } from '../utils/dom/enableTabClick';\nimport { createFrame } from './frame';\n\ntype OmitsObject = {\n  value: number,\n  bundle: number,\n  hasReachedAppCode: boolean,\n};\ntype FrameSetting = { compiled: boolean };\nexport type { OmitsObject, FrameSetting };\n\nfunction createFrameWrapper(\n  document: Document,\n  parent: HTMLDivElement,\n  factory,\n  lIndex: number,\n  frameSettings: FrameSetting[],\n  contextSize: number\n) {\n  const fac = factory();\n  if (fac == null) {\n    return;\n  }\n  const { hasSource, elem, collapseElement } = fac;\n\n  const elemWrapper = document.createElement('div');\n  elemWrapper.appendChild(elem);\n\n  if (hasSource) {\n    const compiledDiv = document.createElement('div');\n    enableTabClick(compiledDiv);\n    applyStyles(compiledDiv, toggleStyle);\n\n    const o = frameSettings[lIndex];\n    const compiledText = document.createTextNode(\n      'View ' + (o && o.compiled ? 'source' : 'compiled')\n    );\n    compiledDiv.addEventListener('click', function() {\n      if (o) {\n        o.compiled = !o.compiled;\n      }\n\n      const next = createFrameWrapper(\n        document,\n        parent,\n        factory,\n        lIndex,\n        frameSettings,\n        contextSize\n      );\n      if (next != null) {\n        parent.insertBefore(next, elemWrapper);\n        parent.removeChild(elemWrapper);\n      }\n    });\n    compiledDiv.appendChild(compiledText);\n    elemWrapper.appendChild(compiledDiv);\n  }\n\n  if (collapseElement != null) {\n    elemWrapper.appendChild(collapseElement);\n  }\n\n  return elemWrapper;\n}\n\nfunction createFrames(\n  document: Document,\n  resolvedFrames: StackFrame[],\n  frameSettings: FrameSetting[],\n  contextSize: number,\n  errorName: ?string\n) {\n  if (resolvedFrames.length !== frameSettings.length) {\n    throw new Error(\n      'You must give a frame settings array of identical length to resolved frames.'\n    );\n  }\n  const trace = document.createElement('div');\n  applyStyles(trace, traceStyle);\n\n  let index = 0;\n  let critical = true;\n  const omits: OmitsObject = { value: 0, bundle: 1, hasReachedAppCode: false };\n  resolvedFrames.forEach(function(frame) {\n    const lIndex = index++;\n    const elem = createFrameWrapper(\n      document,\n      trace,\n      createFrame.bind(\n        undefined,\n        document,\n        frameSettings[lIndex],\n        frame,\n        contextSize,\n        critical,\n        omits,\n        omits.bundle,\n        trace,\n        index === resolvedFrames.length,\n        errorName\n      ),\n      lIndex,\n      frameSettings,\n      contextSize\n    );\n    if (elem == null) {\n      return;\n    }\n    critical = false;\n    trace.appendChild(elem);\n  });\n  //TODO: fix this\n  omits.value = 0;\n\n  return trace;\n}\n\nexport { createFrames };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { areActionsEnabled } from 'app/src/sandbox/compile';\nimport {\n  containerStyle,\n  headerStyle,\n  messageHeaderStyle,\n  originalHeaderStyle,\n  originalMessageHeaderStyle,\n  overlayStyle,\n} from '../styles';\nimport { applyStyles } from '../utils/dom/css';\nimport { updateAdditional } from './additional';\nimport { createClose } from './close';\nimport { createFooter } from './footer';\nimport { createFrames } from './frames';\nimport { createSuggestions } from './suggestions';\nimport type { CloseCallback } from './close';\nimport type { StackFrame } from '../utils/stack-frame';\nimport type { FrameSetting } from './frames';\nimport type { SwitchCallback } from './additional';\n\nfunction createOverlay(\n  document: Document,\n  error: Error,\n  name: ?string,\n  message: string,\n  frames: StackFrame[],\n  contextSize: number,\n  currentError: number,\n  totalErrors: number,\n  switchCallback: SwitchCallback,\n  closeCallback: CloseCallback\n): {\n  overlay: HTMLDivElement,\n  additional: HTMLDivElement,\n} {\n  const frameSettings: FrameSetting[] = frames.map(() => ({ compiled: false }));\n  // Create overlay\n  const overlay = document.createElement('div');\n  applyStyles(overlay, overlayStyle);\n\n  // Create container\n  const container = document.createElement('div');\n  applyStyles(container, containerStyle);\n  overlay.appendChild(container);\n  container.appendChild(createClose(document, closeCallback));\n\n  // Create \"Errors X of Y\" in case of multiple errors\n  const additional = document.createElement('div');\n  updateAdditional(\n    document,\n    additional,\n    currentError,\n    totalErrors,\n    switchCallback\n  );\n  container.appendChild(additional);\n\n  // Create header\n  const header = document.createElement('div');\n  applyStyles(header, headerStyle);\n\n  const messageHeader = document.createElement('div');\n  applyStyles(messageHeader, messageHeaderStyle);\n\n  // Make message prettier\n  let finalMessage = message;\n\n  finalMessage = finalMessage\n    // TODO: maybe remove this prefix from fbjs?\n    // It's just scaring people\n    .replace(/^Invariant Violation:\\s*/, '')\n    // This is not helpful either:\n    .replace(/^Warning:\\s*/, '')\n    // Break the actionable part to the next line.\n    // AFAIK React 16+ should already do this.\n    .replace(' Check the render method', '\\n\\nCheck the render method')\n    .replace(' Check your code at', '\\n\\nCheck your code at');\n\n  // Put it in the DOM\n  header.appendChild(document.createTextNode(name || ''));\n  messageHeader.appendChild(document.createTextNode(finalMessage));\n\n  container.appendChild(header);\n  container.appendChild(messageHeader);\n\n  // If the error has been transformed\n  if (error.originalName || error.originalMessage) {\n    const originalErrorContainer = document.createElement('div');\n    const errorHeader = document.createElement('div');\n    applyStyles(errorHeader, originalHeaderStyle);\n    errorHeader.appendChild(document.createTextNode('Original error:'));\n    originalErrorContainer.appendChild(errorHeader);\n\n    // Create header\n    const originalMessageHeader = document.createElement('div');\n    applyStyles(originalMessageHeader, originalMessageHeaderStyle);\n\n    originalMessageHeader.appendChild(\n      document.createTextNode(\n        `${error.originalName || ''}: ${error.originalMessage}`\n      )\n    );\n\n    originalErrorContainer.appendChild(originalMessageHeader);\n    messageHeader.appendChild(originalErrorContainer);\n  }\n\n  if (\n    areActionsEnabled() &&\n    error.suggestions &&\n    error.suggestions.length > 0\n  ) {\n    container.appendChild(createSuggestions(error));\n  }\n\n  // Create trace\n  container.appendChild(\n    createFrames(document, frames, frameSettings, contextSize, name)\n  );\n\n  // Show message\n  container.appendChild(createFooter(document));\n\n  return {\n    overlay,\n    additional,\n  };\n}\n\nexport { createOverlay };\n","import { applyStyles } from '../utils/dom/css';\nimport {\n  suggestionsContainerStyle,\n  suggestionsTitleStyle,\n  suggestionsButtonStyle,\n} from '../styles';\n\nexport function createSuggestions(error: SandboxError) {\n  const container = document.createElement('div');\n\n  applyStyles(container, suggestionsContainerStyle);\n\n  const title = document.createElement('div');\n  title.appendChild(document.createTextNode('Suggested solutions:'));\n  applyStyles(title, suggestionsTitleStyle);\n  container.appendChild(title);\n\n  error.suggestions.forEach(suggestion => {\n    const button = document.createElement('button');\n    button.appendChild(document.createTextNode(suggestion.title));\n    button.setAttribute('onmouseover', 'this.style.backgroundColor=\"#78CDF7\"');\n    button.setAttribute(\n      'onmouseout',\n      `this.style.backgroundColor=\"${\n        suggestionsButtonStyle['background-color']\n      }\"`\n    );\n    applyStyles(button, suggestionsButtonStyle);\n\n    button.addEventListener('click', e => {\n      e.preventDefault();\n      suggestion.action();\n    });\n\n    container.appendChild(button);\n  });\n\n  return container;\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* @flow */\n\ntype ReactFrame = {\n  fileName: string | null,\n  lineNumber: number | null,\n  name: string | null,\n};\nconst reactFrameStack: Array<ReactFrame[]> = [];\n\nexport type { ReactFrame };\n\n// This is a stripped down barebones version of this proposal:\n// https://gist.github.com/sebmarkbage/bdefa100f19345229d526d0fdd22830f\n// We're implementing just enough to get the invalid element type warnings\n// to display the component stack in React 15.6+:\n// https://github.com/facebook/react/pull/9679\n// / TODO: a more comprehensive implementation.\n\nconst registerReactStack = () => {\n  if (typeof console !== 'undefined') {\n    // $FlowFixMe\n    console.reactStack = frames => reactFrameStack.push(frames);\n    // $FlowFixMe\n    console.reactStackEnd = frames => reactFrameStack.pop();\n  }\n};\n\nconst unregisterReactStack = () => {\n  if (typeof console !== 'undefined') {\n    // $FlowFixMe\n    console.reactStack = undefined;\n    // $FlowFixMe\n    console.reactStackEnd = undefined;\n  }\n};\n\ntype ConsoleProxyCallback = (message: string, frames: ReactFrame[]) => void;\nconst permanentRegister = function proxyConsole(\n  type: string,\n  callback: ConsoleProxyCallback\n) {\n  if (typeof console !== 'undefined') {\n    const orig = console[type];\n    if (typeof orig === 'function') {\n      console[type] = function __stack_frame_overlay_proxy_console__() {\n        try {\n          const message = arguments[0];\n          if (typeof message === 'string' && reactFrameStack.length > 0) {\n            callback(message, reactFrameStack[reactFrameStack.length - 1]);\n          }\n        } catch (err) {\n          // Warnings must never crash. Rethrow with a clean stack.\n          setTimeout(function() {\n            throw err;\n          });\n        }\n        return orig.apply(this, arguments);\n      };\n    }\n  }\n};\n\nexport { permanentRegister, registerReactStack, unregisterReactStack };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet stackTraceRegistered: boolean = false;\n// Default: https://docs.microsoft.com/en-us/scripting/javascript/reference/stacktracelimit-property-error-javascript\nlet restoreStackTraceValue: number = 10;\n\nconst MAX_STACK_LENGTH: number = 50;\n\nfunction registerStackTraceLimit(limit: number = MAX_STACK_LENGTH) {\n  if (stackTraceRegistered) {\n    return;\n  }\n  try {\n    restoreStackTraceValue = Error.stackTraceLimit;\n    Error.stackTraceLimit = limit;\n    stackTraceRegistered = true;\n  } catch (e) {\n    // Not all browsers support this so we don't care if it errors\n  }\n}\n\nfunction unregisterStackTraceLimit() {\n  if (!stackTraceRegistered) {\n    return;\n  }\n  try {\n    Error.stackTraceLimit = restoreStackTraceValue;\n    stackTraceRegistered = false;\n  } catch (e) {\n    // Not all browsers support this so we don't care if it errors\n  }\n}\n\nexport {\n  registerStackTraceLimit as register,\n  unregisterStackTraceLimit as unregister,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet boundErrorHandler = null;\n\ntype ErrorCallback = (error: Error) => void;\n\nfunction errorHandler(callback: ErrorCallback, e: Event): void {\n  if (!e.error) {\n    return;\n  }\n  // $FlowFixMe\n  const { error } = e;\n  if (error instanceof Error) {\n    callback(error);\n  } else {\n    // A non-error was thrown, we don't have a trace. :(\n    // Look in your browser's devtools for more information\n    callback(new Error(error));\n  }\n}\n\nfunction registerUnhandledError(target: EventTarget, callback: ErrorCallback) {\n  if (boundErrorHandler !== null) {\n    // Always add the listener, in case we rewrote the window\n    target.addEventListener('error', boundErrorHandler);\n    return;\n  }\n  boundErrorHandler = errorHandler.bind(undefined, callback);\n}\n\nfunction unregisterUnhandledError(target: EventTarget) {\n  if (boundErrorHandler === null) {\n    return;\n  }\n  target.removeEventListener('error', boundErrorHandler);\n  boundErrorHandler = null;\n}\n\nexport {\n  registerUnhandledError as register,\n  unregisterUnhandledError as unregister,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet boundRejectionHandler = null;\n\ntype ErrorCallback = (error: Error) => void;\n\nfunction rejectionHandler(\n  callback: ErrorCallback,\n  e: PromiseRejectionEvent\n): void {\n  if (e == null || e.reason == null) {\n    return callback(new Error('Unknown'));\n  }\n  const { reason } = e;\n  if (reason instanceof Error) {\n    return callback(reason);\n  }\n  // A non-error was rejected, we don't have a trace :(\n  // Look in your browser's devtools for more information\n  return callback(new Error(reason));\n}\n\nfunction registerUnhandledRejection(\n  target: EventTarget,\n  callback: ErrorCallback\n) {\n  if (boundRejectionHandler !== null) {\n    // Always add the listener, in case we rewrote the window\n    // $FlowFixMe\n    target.addEventListener('unhandledrejection', boundRejectionHandler);\n    return;\n  }\n  boundRejectionHandler = rejectionHandler.bind(undefined, callback);\n}\n\nfunction unregisterUnhandledRejection(target: EventTarget) {\n  if (boundRejectionHandler === null) {\n    return;\n  }\n  // $FlowFixMe\n  target.removeEventListener('unhandledrejection', boundRejectionHandler);\n  boundRejectionHandler = null;\n}\n\nexport {\n  registerUnhandledRejection as register,\n  unregisterUnhandledRejection as unregister,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  register as registerError,\n  unregister as unregisterError,\n} from './effects/unhandledError';\nimport {\n  register as registerPromise,\n  unregister as unregisterPromise,\n} from './effects/unhandledRejection';\nimport {\n  register as registerStackTraceLimit,\n  unregister as unregisterStackTraceLimit,\n} from './effects/stackTraceLimit';\nimport {\n  permanentRegister as permanentRegisterConsole,\n  registerReactStack,\n  unregisterReactStack,\n} from './effects/proxyConsole';\nimport { massage as massageWarning } from './utils/warnings';\nimport getStackFrames from './utils/getStackFrames';\n\nimport type { StackFrame } from './utils/stack-frame';\n\nconst CONTEXT_SIZE: number = 3;\n\nexport type ErrorRecord = {|\n  error: Error,\n  unhandledRejection: boolean,\n  contextSize: number,\n  stackFrames: StackFrame[],\n|};\n\nexport const crashWithFrames = (crash: ErrorRecord => void) => (\n  error: Error,\n  unhandledRejection = false\n) => {\n  getStackFrames(error, unhandledRejection, CONTEXT_SIZE)\n    .then(stackFrames => {\n      // SOURCE_CHANGE,\n      if (stackFrames == null && error.name !== 'SyntaxError') {\n        return;\n      }\n      crash({\n        error,\n        unhandledRejection,\n        contextSize: CONTEXT_SIZE,\n        stackFrames,\n      });\n    })\n    .catch(e => {\n      console.log('Could not get the stack frames of error:', e);\n    });\n};\n\nexport function listenToRuntimeErrors(\n  crash: ErrorRecord => void,\n  filename: string = '/static/js/bundle.js'\n) {\n  const crashWithFramesRunTime = crashWithFrames(crash);\n\n  registerError(window, error => crashWithFramesRunTime(error, false));\n  registerPromise(window, error => crashWithFramesRunTime(error, true));\n  registerStackTraceLimit();\n  registerReactStack();\n  permanentRegisterConsole('error', (warning, stack) => {\n    const data = massageWarning(warning, stack);\n    crashWithFramesRunTime(\n      // $FlowFixMe\n      {\n        message: data.message,\n        stack: data.stack,\n        __unmap_source: filename,\n      },\n      false\n    );\n  });\n\n  return function stopListening() {\n    unregisterStackTraceLimit();\n    unregisterPromise(window);\n    unregisterError(window);\n    unregisterReactStack();\n  };\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { transformError } from 'codesandbox-api';\nimport { getCurrentManager } from 'app/src/sandbox/compile';\n\nimport { listenToRuntimeErrors } from './listenToRuntimeErrors';\n\nimport {\n  consume as consumeError,\n  getErrorRecord,\n  drain as drainErrors,\n} from './utils/errorRegister';\nimport type { ErrorRecordReference } from './utils/errorRegister';\n\nimport type { StackFrame } from './utils/stack-frame';\nimport { iframeStyle } from './styles';\nimport { applyStyles } from './utils/dom/css';\nimport { createOverlay } from './components/overlay';\nimport { updateAdditional } from './components/additional';\n\nimport buildError from '../errors';\n\nconst CONTEXT_SIZE: number = 3;\nlet iframeReference: HTMLIFrameElement | null = null;\nlet additionalReference = null;\nlet errorReferences: ErrorRecordReference[] = [];\nlet currReferenceIndex: number = -1;\n\nfunction render(\n  name: ?string,\n  message: string,\n  resolvedFrames: StackFrame[],\n  error\n) {\n  disposeCurrentView();\n\n  const iframe = window.document.createElement('iframe');\n  applyStyles(iframe, iframeStyle);\n  iframeReference = iframe;\n  iframe.onload = () => {\n    if (iframeReference == null) {\n      return;\n    }\n    const w = iframeReference.contentWindow;\n    const document = iframeReference.contentDocument;\n\n    const { overlay, additional } = createOverlay(\n      document,\n      error,\n      name,\n      message,\n      resolvedFrames,\n      CONTEXT_SIZE,\n      currReferenceIndex + 1,\n      errorReferences.length,\n      offset => {\n        switchError(offset);\n      },\n      () => {\n        unmount();\n      }\n    );\n    if (w != null) {\n      w.onkeydown = event => {\n        keyEventHandler(type => shortcutHandler(type), event);\n      };\n    }\n    if (document.body != null) {\n      document.body.style.margin = '0';\n      // Keep popup within body boundaries for iOS Safari\n      // $FlowFixMe\n      document.body.style['max-width'] = '100vw';\n\n      (document.body: any).appendChild(overlay);\n    }\n    additionalReference = additional;\n  };\n  window.document.body.appendChild(iframe);\n}\n\nfunction renderErrorByIndex(index: number) {\n  currReferenceIndex = index;\n\n  const { error, unhandledRejection, enhancedFrames } = getErrorRecord(\n    errorReferences[index]\n  );\n\n  if (unhandledRejection) {\n    render(\n      'Unhandled Rejection (' + error.name + ')',\n      error.message,\n      enhancedFrames,\n      error\n    );\n  } else {\n    render(error.name, error.message, enhancedFrames, error);\n  }\n}\n\nfunction switchError(offset) {\n  if (errorReferences.length === 0) {\n    return;\n  }\n\n  let nextView = currReferenceIndex + offset;\n\n  if (nextView < 0) {\n    nextView = errorReferences.length - 1;\n  } else if (nextView >= errorReferences.length) {\n    nextView = 0;\n  }\n\n  renderErrorByIndex(nextView);\n}\n\nfunction disposeCurrentView(force: boolean) {\n  // CodeSandbox already resets this, only do this if force is on\n  if (force) {\n    if (iframeReference == null) {\n      return;\n    }\n    try {\n      window.document.body.removeChild(iframeReference);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  iframeReference = null;\n  additionalReference = null;\n}\n\nfunction unmount(force: boolean = true) {\n  disposeCurrentView(force);\n  drainErrors();\n  errorReferences = [];\n  currReferenceIndex = -1;\n}\n\nfunction sendErrorsToEditor() {\n  errorReferences.forEach(ref => {\n    const error = getErrorRecord(ref);\n    buildError(error);\n  });\n}\n\n/**\n * Transforms the error with give transformers to codesandbox-api, this adds\n * suggestions and can alter the error name + message.\n */\nfunction transformErrors() {\n  const manager = getCurrentManager();\n  if (manager) {\n    errorReferences.forEach(ref => {\n      const errRef = getErrorRecord(ref);\n\n      const relevantFrame = errRef.enhancedFrames.find(r => {\n        try {\n          return (\n            manager &&\n            !!manager.resolveTranspiledModule(\n              (r._originalFileName || r.fileName || '').replace(\n                location.origin,\n                ''\n              ),\n              '/'\n            )\n          );\n        } catch (e) {\n          /* don't do anything */\n          return false;\n        }\n      });\n\n      let { tModule } = errRef.error;\n\n      if (!tModule && relevantFrame) {\n        const fileName =\n          relevantFrame._originalFileName || relevantFrame.fileName || '';\n        tModule = manager.resolveTranspiledModule(\n          fileName.replace(location.origin, ''),\n          '/'\n        );\n      }\n\n      if (!tModule) {\n        return;\n      }\n\n      try {\n        const transformation = transformError(\n          errRef.error,\n          tModule,\n          manager.getTranspiledModules()\n        );\n\n        if (transformation) {\n          const newError = new Error(transformation.name || errRef.error.name);\n          newError.message = transformation.message;\n          newError.suggestions = transformation.suggestions;\n          newError.originalName = errRef.error.name;\n          newError.originalMessage = errRef.error.message;\n          errRef.error = newError;\n        }\n      } catch (ex) {\n        /* just catch */\n        console.error(ex);\n      }\n    });\n  }\n}\n\nfunction crash(error: Error, unhandledRejection = false) {\n  if (module.hot && typeof module.hot.decline === 'function') {\n    module.hot.decline();\n  }\n\n  consumeError(error, unhandledRejection, CONTEXT_SIZE)\n    .then(ref => {\n      if (ref == null) {\n        return;\n      }\n\n      errorReferences.push(ref);\n\n      sendErrorsToEditor();\n      transformErrors();\n      if (iframeReference !== null && additionalReference !== null) {\n        updateAdditional(\n          iframeReference.contentDocument,\n          additionalReference,\n          currReferenceIndex + 1,\n          errorReferences.length,\n          offset => {\n            switchError(offset);\n          }\n        );\n      } else {\n        if (errorReferences.length !== 1) {\n          throw new Error('Something is *really* wrong.');\n        }\n        renderErrorByIndex((currReferenceIndex = 0));\n      }\n    })\n    .catch(e => {\n      console.log('Could not consume error:', e);\n    });\n}\n\nfunction shortcutHandler(type: string) {\n  switch (type) {\n    case SHORTCUT_ESCAPE: {\n      unmount();\n      break;\n    }\n    case SHORTCUT_LEFT: {\n      switchError(-1);\n      break;\n    }\n    case SHORTCUT_RIGHT: {\n      switchError(1);\n      break;\n    }\n    default: {\n      // TODO: this\n      break;\n    }\n  }\n}\n\nlet listenToRuntimeErrorsUnmounter;\n\nfunction inject() {\n  listenToRuntimeErrorsUnmounter = listenToRuntimeErrors(error => {\n    console.log('what the matter', error);\n    crash(error.error);\n  });\n}\n\nfunction uninject() {\n  if (listenToRuntimeErrorsUnmounter) {\n    listenToRuntimeErrorsUnmounter();\n  }\n  unmount();\n}\n\nexport { inject, uninject, unmount };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nconst black = '#293238',\n  darkGray = '#878e91',\n  red = '#ce1126',\n  redTransparent = 'rgba(206, 17, 38, 0.05)',\n  lightRed = '#fccfcf',\n  yellow = '#fbf5b4',\n  yellowTransparent = 'rgba(251, 245, 180, 0.3)',\n  whiteTranslucent = 'rgba(244, 244, 244, 0.9)';\n\nconst iframeStyle = {\n  position: 'fixed',\n  top: '0',\n  left: '0',\n  width: '100%',\n  height: '100%',\n  border: 'none',\n  'z-index': 2147483647 - 1, // below the compile error overlay\n};\n\nconst overlayStyle = {\n  width: '100%',\n  height: '100%',\n  'box-sizing': 'border-box',\n  'text-align': 'center',\n  'background-color': whiteTranslucent,\n  '-webkit-font-smoothing': 'antialiased',\n  '-moz-font-smoothing': 'antialiased',\n  '-moz-osx-font-smoothing': 'grayscale',\n  'font-smoothing': 'antialiased',\n  'text-rendering': 'optimizeLegibility',\n  'font-smooth': 'always',\n  '-webkit-tap-highlight-color': 'transparent',\n  '-webkit-touch-callout': 'none',\n};\n\nconst containerStyle = {\n  position: 'relative',\n  display: 'inline-flex',\n  'flex-direction': 'column',\n  height: '100%',\n  width: '1024px',\n  'max-width': '100%',\n  'overflow-x': 'hidden',\n  'overflow-y': 'auto',\n  padding: '0.5rem',\n  'box-sizing': 'border-box',\n  'text-align': 'left',\n  'font-family': 'Consolas, Menlo, monospace',\n  'font-size': '11px',\n  'white-space': 'pre-wrap',\n  'word-break': 'break-word',\n  'line-height': 1.5,\n  color: black,\n};\n\nconst hintsStyle = {\n  color: darkGray,\n};\n\nconst hintStyle = {\n  padding: '0.5em 1em',\n  cursor: 'pointer',\n};\n\nconst closeButtonStyle = {\n  color: black,\n  'line-height': '1rem',\n  'font-size': '1.5rem',\n  padding: '1rem',\n  cursor: 'pointer',\n  position: 'absolute',\n  right: 0,\n  top: 0,\n};\n\nconst additionalChildStyle = {\n  'margin-bottom': '0.5rem',\n};\n\nconst headerStyle = {\n  'font-size': '2em',\n  'font-family': 'Roboto, sans-serif',\n  color: red,\n  'white-space': 'pre-wrap',\n  // Top bottom margin spaces header\n  // Right margin revents overlap with close button\n  margin: '0 2rem 0.5rem 0',\n  flex: '0 0 auto',\n  'max-height': '50%',\n  overflow: 'auto',\n  'font-weight': '400',\n};\n\nconst messageHeaderStyle = {\n  ...headerStyle,\n  color: 'black',\n  'font-weight': '300',\n  'font-size': '1.5em',\n  'font-family': 'Consolas, Menlo, monospace',\n  margin: 0,\n  'padding-bottom': '1rem',\n  'border-bottom': '1px solid #ddd',\n};\n\nconst originalHeaderStyle = {\n  color: 'rgba(0, 0, 0, 0.7)',\n  'font-size': '.75em',\n  'padding-top': '1rem',\n  'padding-bottom': '.5rem',\n};\n\nconst originalMessageHeaderStyle = {\n  color: 'black',\n  'font-size': '.875em',\n  'font-family': 'Consolas, Menlo, monospace',\n  margin: 0,\n  'white-space': 'pre-wrap',\n  overflow: 'auto',\n};\n\nconst functionNameStyle = {};\n\nconst linkStyle = {\n  'font-size': '0.9em',\n  'margin-bottom': '0.9em',\n};\n\nconst anchorStyle = {\n  'text-decoration': 'none',\n  color: darkGray,\n};\n\nconst traceStyle = {\n  'font-size': '1em',\n  flex: '0 1 auto',\n  'min-height': '0px',\n  overflow: 'auto',\n  'padding-top': '1rem',\n};\n\nconst depStyle = {};\n\nconst primaryErrorStyle = {\n  'background-color': lightRed,\n};\n\nconst secondaryErrorStyle = {\n  'background-color': yellow,\n};\n\nconst omittedFramesCollapsedStyle = {\n  color: black,\n  cursor: 'pointer',\n  'margin-bottom': '1.5em',\n};\n\nconst omittedFramesExpandedStyle = {\n  color: black,\n  cursor: 'pointer',\n  'margin-bottom': '0.6em',\n};\n\nconst _preStyle = {\n  display: 'block',\n  padding: '0.5em',\n  'margin-top': '0.5em',\n  'margin-bottom': '0.5em',\n  'overflow-x': 'auto',\n  'white-space': 'pre-wrap',\n  'border-radius': '0.25rem',\n};\nconst primaryPreStyle = Object.assign({}, _preStyle, {\n  'background-color': redTransparent,\n});\nconst secondaryPreStyle = Object.assign({}, _preStyle, {\n  'background-color': yellowTransparent,\n});\n\nconst toggleStyle = {\n  'margin-bottom': '1.5em',\n  color: darkGray,\n  cursor: 'pointer',\n};\n\nconst codeStyle = {\n  'font-family': 'Consolas, Menlo, monospace',\n};\n\nconst hiddenStyle = {\n  display: 'none',\n};\n\nconst groupStyle = {\n  'margin-right': '1em',\n};\n\nconst _groupElemStyle = {\n  'background-color': redTransparent,\n  color: red,\n  border: 'none',\n  'border-radius': '4px',\n  padding: '3px 6px',\n  cursor: 'pointer',\n};\n\nconst groupElemLeft = Object.assign({}, _groupElemStyle, {\n  'border-top-right-radius': '0px',\n  'border-bottom-right-radius': '0px',\n  'margin-right': '1px',\n});\n\nconst groupElemRight = Object.assign({}, _groupElemStyle, {\n  'border-top-left-radius': '0px',\n  'border-bottom-left-radius': '0px',\n});\n\nconst footerStyle = {\n  'font-family': 'sans-serif',\n  color: darkGray,\n  'margin-top': '0.5rem',\n  flex: '0 0 auto',\n};\n\nconst suggestionsContainerStyle = {\n  'font-family': 'Roboto, sans-serif',\n  'padding-top': '1rem',\n};\n\nconst suggestionsTitleStyle = {\n  'font-size': '1rem',\n  'font-weight': '300',\n};\n\nconst suggestionsButtonStyle = {\n  transition: '0.3s ease all',\n  'background-color': '#B6E7FF',\n  color: 'rgba(0, 0, 0, 0.6)',\n  padding: '0.5rem',\n  margin: '.5rem 0',\n  'margin-bottom': '.5rem',\n  'font-size': '.75rem',\n  'border-radius': '4px',\n  'margin-right': '.5rem',\n  border: '1px solid #6CAEDD',\n  cursor: 'pointer',\n};\n\nexport {\n  containerStyle,\n  iframeStyle,\n  overlayStyle,\n  hintsStyle,\n  hintStyle,\n  closeButtonStyle,\n  additionalChildStyle,\n  headerStyle,\n  messageHeaderStyle,\n  functionNameStyle,\n  linkStyle,\n  anchorStyle,\n  traceStyle,\n  depStyle,\n  primaryErrorStyle,\n  primaryPreStyle,\n  secondaryErrorStyle,\n  secondaryPreStyle,\n  omittedFramesCollapsedStyle,\n  omittedFramesExpandedStyle,\n  originalHeaderStyle,\n  originalMessageHeaderStyle,\n  toggleStyle,\n  codeStyle,\n  hiddenStyle,\n  groupStyle,\n  groupElemLeft,\n  groupElemRight,\n  footerStyle,\n  suggestionsContainerStyle,\n  suggestionsTitleStyle,\n  suggestionsButtonStyle,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nfunction consumeEvent(e: Event) {\n  e.preventDefault();\n  if (typeof e.target.blur === 'function') {\n    e.target.blur();\n  }\n}\n\nexport { consumeEvent };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet injectedCount = 0;\nconst injectedCache = {};\n\nfunction getHead(document: Document) {\n  return document.head || document.getElementsByTagName('head')[0];\n}\n\nfunction injectCss(document: Document, css: string): number {\n  const head = getHead(document);\n  const style = document.createElement('style');\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(css));\n  head.appendChild(style);\n\n  injectedCache[++injectedCount] = style;\n  return injectedCount;\n}\n\nfunction removeCss(document: Document, ref: number) {\n  if (injectedCache[ref] == null) {\n    return;\n  }\n  const head = getHead(document);\n  head.removeChild(injectedCache[ref]);\n  delete injectedCache[ref];\n}\n\nfunction applyStyles(element: HTMLElement, styles: Object) {\n  element.setAttribute('style', '');\n  for (const key in styles) {\n    if (!styles.hasOwnProperty(key)) {\n      continue;\n    }\n    // $FlowFixMe\n    element.style[key] = styles[key];\n  }\n}\n\nexport { getHead, injectCss, removeCss, applyStyles };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nfunction enableTabClick(node: Element) {\n  node.setAttribute('tabindex', '0');\n  node.addEventListener('keydown', function(e: KeyboardEvent) {\n    const { key, which, keyCode } = e;\n    if (key === 'Enter' || which === 13 || keyCode === 13) {\n      e.preventDefault();\n      if (typeof e.target.click === 'function') {\n        e.target.click();\n      }\n    }\n  });\n}\n\nexport { enableTabClick };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport type { StackFrame } from './stack-frame';\nimport { parse } from './parser';\nimport { map } from './mapper';\nimport { unmap } from './unmapper';\n\nexport type ErrorRecord = {\n  error: Error,\n  unhandledRejection: boolean,\n  contextSize: number,\n  enhancedFrames: StackFrame[],\n};\ntype ErrorRecordReference = number;\nconst recorded: ErrorRecord[] = [];\n\nlet errorsConsumed: ErrorRecordReference = 0;\n\nfunction consume(\n  error: Error,\n  unhandledRejection: boolean = false,\n  contextSize: number = 3\n): Promise<ErrorRecordReference | null> {\n  const parsedFrames = parse(error);\n  let enhancedFramesPromise;\n  if (error.__unmap_source) {\n    enhancedFramesPromise = unmap(\n      // $FlowFixMe\n      error.__unmap_source,\n      parsedFrames,\n      contextSize\n    );\n  } else {\n    enhancedFramesPromise = map(parsedFrames, contextSize);\n  }\n  return enhancedFramesPromise.then(enhancedFrames => {\n    // // We comment this out, because we always want to show errors\n    // if (\n    //   enhancedFrames\n    //     .map(f => f._originalFileName)\n    //     .filter(f => f != null && f.indexOf('node_modules') === -1).length === 0\n    // ) {\n    //   return null;\n    // }\n    enhancedFrames = enhancedFrames.filter(\n      ({ functionName }) =>\n        functionName == null ||\n        functionName.indexOf('__stack_frame_overlay_proxy_console__') === -1\n    );\n    recorded[++errorsConsumed] = {\n      error,\n      unhandledRejection,\n      contextSize,\n      enhancedFrames,\n    };\n    return errorsConsumed;\n  });\n}\n\nfunction getErrorRecord(ref: ErrorRecordReference): ErrorRecord {\n  return recorded[ref];\n}\n\nfunction drain() {\n  // $FlowFixMe\n  const keys = Object.keys(recorded);\n  for (let index = 0; index < keys.length; ++index) {\n    delete recorded[keys[index]];\n  }\n}\n\nexport { consume, getErrorRecord, drain };\nexport type { ErrorRecordReference };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n//@flow\nimport { ScriptLine } from './stack-frame';\n\n/**\n *\n * @param {number} line The line number to provide context around.\n * @param {number} count The number of lines you'd like for context.\n * @param {string[] | string} lines The source code.\n */\nfunction getLinesAround(\n  line: number,\n  count: number,\n  lines: string[] | string\n): ScriptLine[] {\n  if (typeof lines === 'string') {\n    lines = lines.split('\\n');\n  }\n  const result = [];\n  for (\n    let index = Math.max(0, line - 1 - count);\n    index <= Math.min(lines.length - 1, line - 1 + count);\n    ++index\n  ) {\n    result.push(new ScriptLine(index + 1, lines[index], index === line - 1));\n  }\n  return result;\n}\n\nexport { getLinesAround };\nexport default getLinesAround;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n//@flow\nimport { SourceMapConsumer } from 'source-map';\n\n/**\n * A wrapped instance of a <code>{@link https://github.com/mozilla/source-map SourceMapConsumer}</code>.\n *\n * This exposes methods which will be indifferent to changes made in <code>{@link https://github.com/mozilla/source-map source-map}</code>.\n */\nexport class SourceMap {\n  __source_map: SourceMapConsumer;\n\n  constructor(sourceMap) {\n    this.__source_map = sourceMap;\n  }\n\n  /**\n   * Returns the original code position for a generated code position.\n   * @param {number} line The line of the generated code position.\n   * @param {number} column The column of the generated code position.\n   */\n  getOriginalPosition(\n    line: number,\n    column: number\n  ): { source: string, line: number, column: number } {\n    const {\n      line: l,\n      column: c,\n      source: s,\n    } = this.__source_map.originalPositionFor({\n      line,\n      column,\n    });\n    return { line: l, column: c, source: s };\n  }\n\n  /**\n   * Returns the generated code position for an original position.\n   * @param {string} source The source file of the original code position.\n   * @param {number} line The line of the original code position.\n   * @param {number} column The column of the original code position.\n   */\n  getGeneratedPosition(\n    source: string,\n    line: number,\n    column: number\n  ): { line: number, column: number } {\n    const { line: l, column: c } = this.__source_map.generatedPositionFor({\n      source,\n      line,\n      column,\n    });\n    return {\n      line: l,\n      column: c,\n    };\n  }\n\n  /**\n   * Returns the code for a given source file name.\n   * @param {string} sourceName The name of the source file.\n   */\n  getSource(sourceName: string): string {\n    return this.__source_map.sourceContentFor(sourceName);\n  }\n\n  getSources(): string[] {\n    return this.__source_map.sources;\n  }\n}\n\nfunction extractSourceMapUrl(fileUri: string, fileContents: string) {\n  const regex = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/gm;\n  let match = null;\n  for (;;) {\n    let next = regex.exec(fileContents);\n    if (next == null) {\n      break;\n    }\n    match = next;\n  }\n  if (!(match && match[1])) {\n    return Promise.reject(`Cannot find a source map directive for ${fileUri}.`);\n  }\n  return Promise.resolve(match[1].toString());\n}\n\n/**\n * Returns an instance of <code>{@link SourceMap}</code> for a given fileUri and fileContents.\n * @param {string} fileUri The URI of the source file.\n * @param {string} fileContents The contents of the source file.\n */\nasync function getSourceMap(\n  fileUri: string,\n  fileContents: string\n): Promise<SourceMap> {\n  let sm = await extractSourceMapUrl(fileUri, fileContents);\n  if (sm.indexOf('data:') === 0) {\n    const base64 = /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n    const match2 = sm.match(base64);\n    if (!match2) {\n      throw new Error(\n        'Sorry, non-base64 inline source-map encoding is not supported.'\n      );\n    }\n    sm = sm.substring(match2[0].length);\n    sm = window.atob(sm);\n    sm = JSON.parse(sm);\n    return new SourceMap(new SourceMapConsumer(sm));\n  } else {\n    const index = fileUri.lastIndexOf('/');\n    const url = fileUri.substring(0, index + 1) + sm;\n    const obj = await fetch(url).then(res => res.json());\n    return new SourceMap(new SourceMapConsumer(obj));\n  }\n}\n\nexport { extractSourceMapUrl, getSourceMap };\nexport default getSourceMap;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* @flow */\nimport type { StackFrame } from './stack-frame';\nimport { parse } from './parser';\nimport { map } from './mapper';\nimport { unmap } from './unmapper';\n\nfunction getStackFrames(\n  error: Error,\n  unhandledRejection: boolean = false,\n  contextSize: number = 3\n): Promise<StackFrame[] | null> {\n  const parsedFrames = parse(error);\n  let enhancedFramesPromise;\n  // $FlowFixMe\n  if (error.__unmap_source) {\n    enhancedFramesPromise = unmap(\n      // $FlowFixMe\n      error.__unmap_source,\n      parsedFrames,\n      contextSize\n    );\n  } else {\n    enhancedFramesPromise = map(parsedFrames, contextSize);\n  }\n  return enhancedFramesPromise.then(enhancedFrames => {\n    if (\n      enhancedFrames\n        .map(f => f._originalFileName)\n        .filter(f => f != null && f.indexOf('node_modules') === -1).length === 0\n    ) {\n      return null;\n    }\n    return enhancedFrames.filter(\n      ({ functionName }) =>\n        functionName == null ||\n        functionName.indexOf('__stack_frame_overlay_proxy_console__') === -1\n    );\n  });\n}\n\nexport default getStackFrames;\nexport { getStackFrames };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nfunction isInternalFile(sourceFileName: ?string, fileName: ?string) {\n  return (\n    sourceFileName == null ||\n    sourceFileName === '' ||\n    sourceFileName.indexOf('/~/') !== -1 ||\n    sourceFileName.indexOf('/node_modules/') !== -1 ||\n    sourceFileName.trim().indexOf(' ') !== -1 ||\n    fileName == null ||\n    fileName === ''\n  );\n}\n\nexport { isInternalFile };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// TODO change this\nimport { getCurrentManager } from 'app/src/sandbox/compile';\n// @flow\nimport StackFrame from './stack-frame';\nimport { getSourceMap } from './getSourceMap';\nimport { getLinesAround } from './getLinesAround';\nimport { settle } from 'settle-promise';\n\n/**\n * Enhances a set of <code>StackFrame</code>s with their original positions and code (when available).\n * @param {StackFrame[]} frames A set of <code>StackFrame</code>s which contain (generated) code positions.\n * @param {number} [contextLines=3] The number of lines to provide before and after the line specified in the <code>StackFrame</code>.\n */\nasync function map(\n  frames: StackFrame[],\n  contextLines: number = 3\n): Promise<StackFrame[]> {\n  const cache: any = {};\n  const files: string[] = [];\n  frames.forEach(frame => {\n    const { fileName } = frame;\n    if (fileName == null) {\n      return;\n    }\n    if (files.indexOf(fileName) !== -1) {\n      return;\n    }\n    files.push(fileName);\n  });\n  await settle(\n    files.map(async fileName => {\n      const manager = getCurrentManager();\n      if (manager != null && !fileName.startsWith('webpack')) {\n        let transpiledModule;\n        if (fileName.includes('?')) {\n          transpiledModule = manager.getTranspiledModuleByHash(\n            fileName.split('?')[1]\n          );\n        } else {\n          transpiledModule = manager.resolveTranspiledModule(\n            fileName.replace(location.origin, ''),\n            '/'\n          );\n        }\n\n        if (transpiledModule) {\n          const fileSource =\n            transpiledModule.source && transpiledModule.source.compiledCode;\n\n          const map = await getSourceMap(fileName, fileSource);\n\n          cache[fileName] = { fileSource, map };\n        }\n      }\n    })\n  );\n  return frames.map(frame => {\n    const { functionName, fileName, lineNumber, columnNumber } = frame;\n    let { map, fileSource } = cache[fileName] || {};\n    if (map == null || lineNumber == null) {\n      return frame;\n    }\n    const { source, line, column } = map.getOriginalPosition(\n      lineNumber,\n      columnNumber\n    );\n    const originalSource = source == null ? [] : map.getSource(source);\n    return new StackFrame(\n      functionName,\n      fileName,\n      lineNumber,\n      columnNumber,\n      getLinesAround(lineNumber, contextLines, fileSource),\n      functionName,\n      source,\n      line,\n      column,\n      getLinesAround(line, contextLines, originalSource)\n    );\n  });\n}\n\nexport { map };\nexport default map;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// @flow\nimport StackFrame from './stack-frame';\n\nconst regexExtractLocation = /\\(?(.+?)(?::(\\d+))?(?::(\\d+))?\\)?$/;\n\nfunction extractLocation(token: string): [string, number, number] {\n  return regexExtractLocation\n    .exec(token)\n    .slice(1)\n    .map(v => {\n      const p = Number(v);\n      if (!isNaN(p)) {\n        return p;\n      }\n      return v;\n    });\n}\n\nconst regexValidFrame_Chrome = /^\\s*(at|in)\\s.+(:\\d+)/;\nconst regexValidFrame_FireFox = /(^|@)\\S+:\\d+|.+line\\s+\\d+\\s+>\\s+(eval|Function).+/;\n\nfunction parseStack(stack: string[]): StackFrame[] {\n  const frames = stack\n    .filter(\n      e => regexValidFrame_Chrome.test(e) || regexValidFrame_FireFox.test(e)\n    )\n    .map(e => {\n      if (regexValidFrame_FireFox.test(e)) {\n        // Strip eval, we don't care about it\n        let isEval = false;\n        if (/ > (eval|Function)/.test(e)) {\n          e = e.replace(\n            / line (\\d+)(?: > eval line \\d+)* > (eval|Function):\\d+:\\d+/g,\n            ':$1'\n          );\n          isEval = true;\n        }\n        const data = e.split(/[@]/g);\n        const last = data.pop();\n        return new StackFrame(\n          data.join('@') || (isEval ? 'eval' : null),\n          ...extractLocation(last)\n        );\n      } else {\n        // Strip eval, we don't care about it\n        if (e.indexOf('(eval ') !== -1) {\n          e = e.replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n        }\n        if (e.indexOf('(at ') !== -1) {\n          e = e.replace(/\\(at /, '(');\n        }\n        const data = e\n          .trim()\n          .split(/\\s+/g)\n          .slice(1);\n        const last = data.pop();\n        return new StackFrame(data.join(' ') || null, ...extractLocation(last));\n      }\n    });\n  return frames;\n}\n\n/**\n * Turns an <code>Error</code>, or similar object, into a set of <code>StackFrame</code>s.\n * @alias parse\n */\nfunction parseError(error: Error | string | string[]): StackFrame[] {\n  if (error == null) {\n    throw new Error('You cannot pass a null object.');\n  }\n  if (typeof error === 'string') {\n    return parseStack(error.split('\\n'));\n  }\n  if (Array.isArray(error)) {\n    return parseStack(error);\n  }\n  if (typeof error.stack === 'string') {\n    return parseStack(error.stack.split('\\n'));\n  }\n  throw new Error('The error you provided does not contain a stack trace.');\n}\n\nexport { parseError as parse };\nexport default parseError;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n//@flow\n\n/** A container holding a script line. */\nclass ScriptLine {\n  /** The line number of this line of source. */\n  lineNumber: number;\n  /** The content (or value) of this line of source. */\n  content: string;\n  /** Whether or not this line should be highlighted. Particularly useful for error reporting with context. */\n  highlight: boolean;\n\n  constructor(lineNumber: number, content: string, highlight: boolean = false) {\n    this.lineNumber = lineNumber;\n    this.content = content;\n    this.highlight = highlight;\n  }\n}\n\n/**\n * A representation of a stack frame.\n */\nclass StackFrame {\n  functionName: string | null;\n  fileName: string | null;\n  lineNumber: number | null;\n  columnNumber: number | null;\n\n  _originalFunctionName: string | null;\n  _originalFileName: string | null;\n  _originalLineNumber: number | null;\n  _originalColumnNumber: number | null;\n\n  _scriptCode: ScriptLine[] | null;\n  _originalScriptCode: ScriptLine[] | null;\n\n  constructor(\n    functionName: string | null = null,\n    fileName: string | null = null,\n    lineNumber: number | null = null,\n    columnNumber: number | null = null,\n    scriptCode: ScriptLine[] | null = null,\n    sourceFunctionName: string | null = null,\n    sourceFileName: string | null = null,\n    sourceLineNumber: number | null = null,\n    sourceColumnNumber: number | null = null,\n    sourceScriptCode: ScriptLine[] | null = null\n  ) {\n    this.functionName = functionName;\n\n    this.fileName = fileName;\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber;\n\n    this._originalFunctionName = sourceFunctionName;\n    this._originalFileName = sourceFileName;\n    this._originalLineNumber = sourceLineNumber;\n    this._originalColumnNumber = sourceColumnNumber;\n\n    this._scriptCode = scriptCode;\n    this._originalScriptCode = sourceScriptCode;\n  }\n\n  /**\n   * Returns the name of this function.\n   */\n  getFunctionName(): string | null {\n    return this.functionName;\n  }\n\n  /**\n   * Returns the source of the frame.\n   * This contains the file name, line number, and column number when available.\n   */\n  getSource(): string {\n    let str = '';\n    if (this.fileName != null) {\n      str += this.fileName + ':';\n    }\n    if (this.lineNumber != null) {\n      str += this.lineNumber + ':';\n    }\n    if (this.columnNumber != null) {\n      str += this.columnNumber + ':';\n    }\n    return str.slice(0, -1);\n  }\n\n  /**\n   * Returns a pretty version of this stack frame.\n   */\n  toString(): string {\n    const f = this.getFunctionName();\n    if (f == null) {\n      return this.getSource();\n    }\n    return `${f} (${this.getSource()})`;\n  }\n}\n\nexport { StackFrame, ScriptLine };\nexport default StackFrame;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// @flow\nimport StackFrame from './stack-frame';\nimport { getSourceMap } from './getSourceMap';\nimport { getLinesAround } from './getLinesAround';\nimport path from 'path';\n\nfunction count(search: string, string: string): number {\n  // Count starts at -1 becuse a do-while loop always runs at least once\n  let count = -1,\n    index = -1;\n  do {\n    // First call or the while case evaluated true, meaning we have to make\n    // count 0 or we found a character\n    ++count;\n    // Find the index of our search string, starting after the previous index\n    index = string.indexOf(search, index + 1);\n  } while (index !== -1);\n  return count;\n}\n\n/**\n * Turns a set of mapped <code>StackFrame</code>s back into their generated code position and enhances them with code.\n * @param {string} fileUri The URI of the <code>bundle.js</code> file.\n * @param {StackFrame[]} frames A set of <code>StackFrame</code>s which are already mapped and missing their generated positions.\n * @param {number} [fileContents=3] The number of lines to provide before and after the line specified in the <code>StackFrame</code>.\n */\nasync function unmap(\n  _fileUri: string | { uri: string, contents: string },\n  frames: StackFrame[],\n  contextLines: number = 3\n): Promise<StackFrame[]> {\n  let fileContents = typeof _fileUri === 'object' ? _fileUri.contents : null;\n  let fileUri = typeof _fileUri === 'object' ? _fileUri.uri : _fileUri;\n  if (fileContents == null) {\n    fileContents = await fetch(fileUri).then(res => res.text());\n  }\n  const map = await getSourceMap(fileUri, fileContents);\n  return frames.map(frame => {\n    const {\n      functionName,\n      lineNumber,\n      columnNumber,\n      _originalLineNumber,\n    } = frame;\n    if (_originalLineNumber != null) {\n      return frame;\n    }\n    let { fileName } = frame;\n    if (fileName) {\n      fileName = path.normalize(fileName);\n    }\n    if (fileName == null) {\n      return frame;\n    }\n    const fN: string = fileName;\n    const source = map\n      .getSources()\n      .map(s => s.replace(/[\\\\]+/g, '/'))\n      .filter(p => {\n        p = path.normalize(p);\n        const i = p.lastIndexOf(fN);\n        return i !== -1 && i === p.length - fN.length;\n      })\n      .map(p => ({\n        token: p,\n        seps: count(path.sep, path.normalize(p)),\n        penalties: count('node_modules', p) + count('~', p),\n      }))\n      .sort((a, b) => {\n        const s = Math.sign(a.seps - b.seps);\n        if (s !== 0) {\n          return s;\n        }\n        return Math.sign(a.penalties - b.penalties);\n      });\n    if (source.length < 1 || lineNumber == null) {\n      return new StackFrame(\n        null,\n        null,\n        null,\n        null,\n        null,\n        functionName,\n        fN,\n        lineNumber,\n        columnNumber,\n        null\n      );\n    }\n    const sourceT = source[0].token;\n    const { line, column } = map.getGeneratedPosition(\n      sourceT,\n      lineNumber,\n      // $FlowFixMe\n      columnNumber\n    );\n    const originalSource = map.getSource(sourceT);\n    return new StackFrame(\n      functionName,\n      fileUri,\n      line,\n      column || null,\n      getLinesAround(line, contextLines, fileContents || []),\n      functionName,\n      fN,\n      lineNumber,\n      columnNumber,\n      getLinesAround(lineNumber, contextLines, originalSource)\n    );\n  });\n}\n\nexport { unmap };\nexport default unmap;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// @flow\nimport type { ReactFrame } from '../effects/proxyConsole';\n\nfunction stripInlineStacktrace(message: string): string {\n  return message\n    .split('\\n')\n    .filter(line => !line.match(/^\\s*in/))\n    .join('\\n'); // \"  in Foo\"\n}\n\nfunction massage(\n  warning: string,\n  frames: ReactFrame[]\n): { message: string, stack: string } {\n  let message = stripInlineStacktrace(warning);\n\n  // Reassemble the stack with full filenames provided by React\n  let stack = '';\n  let lastFilename;\n  let lastLineNumber;\n  for (let index = 0; index < frames.length; ++index) {\n    const { fileName, lineNumber } = frames[index];\n    if (fileName == null || lineNumber == null) {\n      continue;\n    }\n\n    // TODO: instead, collapse them in the UI\n    if (\n      fileName === lastFilename &&\n      typeof lineNumber === 'number' &&\n      typeof lastLineNumber === 'number' &&\n      Math.abs(lineNumber - lastLineNumber) < 3\n    ) {\n      continue;\n    }\n    lastFilename = fileName;\n    lastLineNumber = lineNumber;\n\n    let { name } = frames[index];\n    name = name || '(anonymous function)';\n    stack += `in ${name} (at ${fileName}:${lineNumber})\\n`;\n  }\n\n  return { message, stack };\n}\n\nexport { massage };\n","import { dispatch, isStandalone, listen } from 'codesandbox-api';\n\nconst origHistoryProto = window.history.__proto__; // eslint-disable-line no-proto\nconst historyList = [];\nlet historyPosition = -1;\nlet disableNextHashChange = false;\n\nfunction sendUrlChange(url) {\n  dispatch({\n    type: 'urlchange',\n    url,\n    back: historyPosition > 0,\n    forward: historyPosition < historyList.length - 1,\n  });\n}\n\nfunction pushHistory(url, state) {\n  // remove \"future\" locations\n  historyList.splice(historyPosition + 1);\n  historyList.push({ url, state });\n  historyPosition = historyList.length - 1;\n}\n\nfunction pathWithHash(location) {\n  return `${location.pathname}${location.hash}`;\n}\n\nexport default function setupHistoryListeners() {\n  function handleMessage(data, source) {\n    if (source) {\n      if (data.type === 'urlback') {\n        history.back();\n      } else if (data.type === 'urlforward') {\n        history.forward();\n      } else if (data.type === 'refresh') {\n        document.location.reload();\n      }\n    }\n  }\n  if (!isStandalone) {\n    Object.assign(window.history, {\n      go(delta) {\n        const newPos = historyPosition + delta;\n        if (newPos >= 0 && newPos <= historyList.length - 1) {\n          historyPosition = newPos;\n          const { url, state } = historyList[historyPosition];\n          const oldURL = document.location.href;\n          origHistoryProto.replaceState.call(window.history, state, '', url);\n          const newURL = document.location.href;\n          sendUrlChange(newURL);\n          if (newURL.indexOf('#') === -1) {\n            window.dispatchEvent(new PopStateEvent('popstate', { state }));\n          } else {\n            disableNextHashChange = true;\n            window.dispatchEvent(\n              new HashChangeEvent('hashchange', { oldURL, newURL })\n            );\n          }\n        }\n      },\n\n      back() {\n        window.history.go(-1);\n      },\n\n      forward() {\n        window.history.go(1);\n      },\n\n      pushState(state, title, url) {\n        origHistoryProto.replaceState.call(window.history, state, title, url);\n        pushHistory(url, state);\n        sendUrlChange(document.location.href);\n      },\n\n      replaceState(state, title, url) {\n        origHistoryProto.replaceState.call(window.history, state, title, url);\n        historyList[historyPosition] = { state, url };\n        sendUrlChange(document.location.href);\n      },\n    });\n\n    Object.defineProperties(window.history, {\n      length: {\n        get() {\n          return historyList.length;\n        },\n      },\n\n      state: {\n        get() {\n          return historyList[historyPosition].state;\n        },\n      },\n    });\n\n    window.addEventListener('hashchange', () => {\n      if (!disableNextHashChange) {\n        const url = pathWithHash(document.location);\n        pushHistory(url, null);\n        sendUrlChange(document.location.href);\n      } else {\n        disableNextHashChange = false;\n      }\n    });\n\n    document.addEventListener(\n      'click',\n      ev => {\n        const el = ev.target;\n        if (\n          el.nodeName === 'A' &&\n          !el.__vue__ && // workaround for vue-router <router-link>\n          el.href.indexOf('#') !== -1 &&\n          el.href.substr(-1) !== '#'\n        ) {\n          const url = el.href;\n          const oldURL = document.location.href;\n          origHistoryProto.replaceState.call(window.history, null, '', url);\n          const newURL = document.location.href;\n          if (oldURL !== newURL) {\n            disableNextHashChange = true;\n            window.dispatchEvent(\n              new HashChangeEvent('hashchange', { oldURL, newURL })\n            );\n            pushHistory(pathWithHash(document.location), null);\n            sendUrlChange(document.location.href);\n          }\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n      },\n      true\n    );\n\n    pushHistory(pathWithHash(document.location), null);\n\n    setTimeout(() => {\n      sendUrlChange(document.location.href);\n    });\n  }\n  return listen(handleMessage);\n}\n","const g = typeof window === 'undefined' ? self : window;\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  g.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\ng.cosmiconfig = {};\ng.prettier = {};\ng.jsdom = {\n  JSDOM: {\n    // IE11 support\n    // eslint-disable-next-line object-shorthand\n    fragment: function fragment(htmlString) {\n      // eslint-disable-next-line no-var\n      var div = document.createElement('div');\n      div.innerHTML = htmlString.trim();\n\n      // Change this to div.childNodes to support multiple top-level nodes\n      return div;\n    },\n  },\n};\n\n// IE11\nrequire('core-js/fn/array/find');\nrequire('core-js/fn/array/from');\nrequire('core-js/fn/object/assign');\nrequire('core-js/fn/symbol');\n","import { orderBy } from 'lodash-es';\nimport querystring from 'querystring';\nimport { Module } from '../entities/module';\n\nimport Manager from '../manager';\nimport Transpiler from '../transpilers';\nimport TranspiledModule from '../transpiled-module';\n\ntype TranspilerDefinition = {\n  transpiler: Transpiler;\n  options?: Object;\n};\n\ntype SetupFunction = (manager: Manager) => void | Promise<any>;\n\ntype LifeCycleFunction = (\n  manager: Manager,\n  updatedModules: TranspiledModule[]\n) => void | Promise<any>;\n\n/**\n * This is essentially where it all comes together. The manager is responsible for\n * doing evaluation and transpilation using the Transpiler and Loader classes.\n *\n * You can build presets with this, for example the create-react-app template\n * could create a new instance of this and register all desired loaders.\n *\n * Note that this manager should never have state besides the transpilers and\n * the loaders, the only responsibility is to activate the right transpilers\n * and loaders.\n */\nexport default class Preset {\n  loaders: Array<{\n    test: (module: Module) => boolean;\n    transpilers: Array<TranspilerDefinition>;\n  }>;\n\n  transpilers: Set<Transpiler>;\n  name: string;\n  ignoredExtensions: Array<string>;\n  htmlDisabled: boolean;\n  defaultAliases: { [path: string]: string };\n  alias: { [path: string]: string };\n  // Whether this preset supports .env files\n  hasDotEnv: boolean;\n\n  /**\n   * Code to run before evaluating and transpiling entry\n   */\n  setup: SetupFunction;\n  /**\n   * Code to run after done\n   */\n  teardown: LifeCycleFunction;\n\n  /**\n   * Code to run before evaluation\n   */\n  preEvaluate: LifeCycleFunction;\n\n  constructor(\n    name: string,\n    ignoredExtensions?: Array<string>,\n    alias?: { [path: string]: string },\n    {\n      hasDotEnv,\n      setup,\n      teardown,\n      htmlDisabled,\n      preEvaluate,\n    }: {\n      hasDotEnv?: boolean;\n      setup?: SetupFunction;\n      preEvaluate?: LifeCycleFunction;\n      teardown?: LifeCycleFunction;\n      htmlDisabled?: boolean;\n    } = {}\n  ) {\n    this.loaders = [];\n    this.transpilers = new Set();\n    this.name = name;\n\n    this.hasDotEnv = hasDotEnv || false;\n    this.alias = alias || {};\n    this.aliasedPathCache = {};\n    this.defaultAliases = alias || {};\n    this.ignoredExtensions = ignoredExtensions || ['js', 'jsx', 'json'];\n\n    const noop = () => {};\n    this.setup = setup || noop;\n    this.teardown = teardown || noop;\n    this.preEvaluate = preEvaluate || noop;\n    this.htmlDisabled = htmlDisabled || false;\n  }\n\n  setAdditionalAliases = (aliases: { [path: string]: string }) => {\n    this.alias = { ...this.defaultAliases, ...aliases };\n    this.aliasedPathCache = {};\n  };\n\n  reset = () => {\n    this.loaders = [];\n  };\n\n  resetTranspilers = () => {\n    this.transpilers.clear();\n    this.loaders.length = 0;\n  };\n\n  aliasedPathCache = {};\n\n  /**\n   * Checks if there is an alias given for the path, if there is it will return\n   * the altered path, otherwise it will just return the known path.\n   */\n  getAliasedPath(path: string): string {\n    if (this.aliasedPathCache[path] === null) {\n      return path;\n    }\n    if (this.aliasedPathCache[path]) {\n      return this.aliasedPathCache[path];\n    }\n\n    const aliases = Object.keys(this.alias);\n\n    const exactAliases = aliases.filter(a => a.endsWith('$'));\n    const exactFoundAlias = exactAliases.find(a => {\n      const alias = a.slice(0, -1);\n\n      if (path === alias) {\n        return true;\n      }\n\n      return false;\n    });\n\n    if (exactFoundAlias) {\n      this.aliasedPathCache[path] = this.alias[exactFoundAlias];\n      return this.alias[exactFoundAlias];\n    }\n\n    const pathParts = path.split('/');\n\n    // Find matching aliases\n    const foundAlias = orderBy(aliases, a => -a.split('/').length).find(a => {\n      const parts = a.split('/');\n      return parts.every((p, i) => pathParts[i] === p);\n    });\n\n    if (foundAlias) {\n      const replacedPath = path.replace(foundAlias, this.alias[foundAlias]);\n      this.aliasedPathCache[path] = replacedPath;\n      // if an alias is found we will replace the path with the alias\n      return replacedPath;\n    }\n\n    this.aliasedPathCache[path] = null;\n\n    return path;\n  }\n\n  registerTranspiler(\n    test: (module: Module) => boolean,\n    transpilers: Array<TranspilerDefinition>,\n    prepend: boolean = false\n  ) {\n    const transpilerObject = {\n      test,\n      transpilers,\n    };\n    if (prepend) {\n      this.loaders.unshift(transpilerObject);\n    } else {\n      this.loaders.push(transpilerObject);\n    }\n\n    transpilers.forEach(t => this.transpilers.add(t.transpiler));\n\n    return this.loaders;\n  }\n\n  /**\n   * Get transpilers from the given query, the query is webpack like:\n   * eg. !babel-loader!./test.js\n   */\n  getLoaders(module: Module, query: string = ''): Array<TranspilerDefinition> {\n    const loader = this.loaders.find(t => t.test(module));\n\n    // Starting !, drop all transpilers\n    const transpilers = query.startsWith('!') // eslint-disable-line no-nested-ternary\n      ? []\n      : loader\n      ? loader.transpilers\n      : [];\n\n    // Remove \"\" values\n    const transpilerNames = query.split('!').filter(x => x);\n\n    const extraTranspilers = transpilerNames\n      .map(loaderName => {\n        const [name, options] = loaderName.split('?');\n\n        const transpiler = Array.from(this.transpilers).find(\n          t => t.name === name\n        );\n\n        if (!transpiler) {\n          throw new Error(`Loader '${name}' could not be found.`);\n        }\n\n        const parsedOptions = this.parseOptions(options);\n\n        return { transpiler, options: parsedOptions };\n      })\n      .reverse(); // Reverse, because webpack is also in reverse order\n\n    const finalTranspilers = [...transpilers, ...extraTranspilers];\n\n    return finalTranspilers;\n  }\n\n  parseOptions = (options?: string) => {\n    if (options == null) {\n      return {};\n    }\n\n    try {\n      return JSON.parse(options);\n    } catch (e) {\n      return querystring.parse(options);\n    }\n  };\n\n  /**\n   * Get the query syntax of the module\n   */\n  getQuery(module: Module, query: string = '') {\n    const loaders = this.getLoaders(module, query);\n\n    return `!${loaders.map(t => t.transpiler.name).join('!')}`;\n  }\n}\n","import { SourceMap } from './utils/get-source-map';\nimport { LoaderContext } from '../transpiled-module';\nimport Manager from '../manager';\n\nexport interface TranspilerResult {\n  transpiledCode: any;\n  ast?: Object;\n  sourceMap?: SourceMap;\n}\n\nexport default abstract class Transpiler {\n  cacheable: boolean;\n  name: string;\n  HMREnabled: boolean;\n\n  constructor(name: string) {\n    this.cacheable = true;\n    this.name = name;\n    this.HMREnabled = true;\n  }\n\n  /* eslint-disable */\n  initialize() {}\n\n  dispose() {}\n\n  cleanModule(loaderContext: LoaderContext) {}\n\n  abstract doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult>;\n  /* eslint-enable */\n\n  transpile(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return this.doTranspilation(code, loaderContext);\n  }\n\n  /**\n   * Get custom info of the current transpiler, this is open for implementation\n   * per transpiler\n   */\n  getTranspilerContext(manager: Manager): Promise<object> {\n    return Promise.resolve({\n      name: this.name,\n      HMREnabled: this.HMREnabled,\n      cacheable: this.cacheable,\n    });\n  }\n}\n","const wrapper = (id, css) => `\nfunction createStyleNode(id, content) {\n  var styleNode =\n    document.getElementById(id) || document.createElement('style');\n\n  styleNode.setAttribute('id', id);\n  styleNode.type = 'text/css';\n  if (styleNode.styleSheet) {\n    styleNode.styleSheet.cssText = content;\n  } else {\n    styleNode.innerHTML = '';\n    styleNode.appendChild(document.createTextNode(content));\n  }\n  document.head.appendChild(styleNode);\n}\n\ncreateStyleNode(\n  ${JSON.stringify(id)},\n  ${JSON.stringify(css)}\n);\n`;\n\nexport default function(id, css) {\n  const result = wrapper(id, css || '');\n  return result;\n}\n","// @flow\n\nexport default function toDefinition(classes): string {\n  return Object.keys(classes).reduce(\n    (previous, className) => previous + `export const ${className}: string;\\n`,\n    ''\n  );\n}\n","import { LoaderContext } from '../../transpiled-module';\n\nlet core = null;\n\nexport default async (code: string, loaderContext: LoaderContext) => {\n  if (!core) {\n    const Core = await import(\n      /* webpackChunkName: 'css-modules-loader-core' */ 'css-modules-loader-core'\n    ).then(x => x.default);\n\n    core = new Core();\n  }\n\n  return core\n    .load(code, loaderContext.path, (dependencyPath: string) => {\n      loaderContext.addDependency(dependencyPath);\n\n      const tModule = loaderContext.resolveTranspiledModule(dependencyPath);\n\n      return tModule.source ? tModule.source.compiledCode : tModule.module.code;\n    })\n    .then(({ injectableSource, exportTokens }) => ({\n      css: injectableSource,\n      exportTokens,\n    }));\n};\n","import { dispatch } from 'codesandbox-api';\nimport Transpiler from '..';\nimport { LoaderContext } from '../../transpiled-module';\n\nimport insertCss from './utils/insert-css';\nimport toDefinition from './utils/to-definition';\nimport getModules from './get-modules';\n\nconst getStyleId = id => id + '-css'; // eslint-disable-line\n\nclass StyleTranspiler extends Transpiler {\n  constructor() {\n    super('style-loader');\n    this.cacheable = false;\n  }\n\n  cleanModule(loaderContext: LoaderContext) {\n    const id = getStyleId(loaderContext._module.getId());\n    const element = document.getElementById(id);\n\n    if (element != null && element.parentNode != null) {\n      element.parentNode.removeChild(element);\n    }\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    const id = getStyleId(loaderContext._module.getId());\n    const { path } = loaderContext;\n\n    if (loaderContext.options.module) {\n      return getModules(code, loaderContext).then(({ css, exportTokens }) => {\n        let result = insertCss(id, css);\n        result += `\\nmodule.exports=${JSON.stringify(exportTokens)};`;\n\n        dispatch({\n          type: 'add-extra-lib',\n          path,\n          code: toDefinition(exportTokens),\n        });\n        return Promise.resolve({ transpiledCode: result });\n      });\n    }\n\n    const result = insertCss(id, code);\n    return Promise.resolve({ transpiledCode: result });\n  }\n}\n\nconst transpiler = new StyleTranspiler();\n\nexport { StyleTranspiler };\n\nexport default transpiler;\n","const lineRegex = /require\\s*\\(['|\"|`]([^\"|'|`]*)['|\"|`]\\)|require\\s*\\((.*)\\)/g;\nconst partRegex = /require\\s*\\(['|\"|`]([^\"|'|`]*)['|\"|`]\\)|require\\s*\\((.*)\\)/;\nconst commentRegex = /^(\\s*\\*)|^(\\/\\/)/;\n\n/**\n * This is the regex version of getting all require statements, it makes the assumption\n * that the file is commonjs and only has `require()` statements.\n */\nexport default function getRequireStatements(code: string) {\n  const results = [];\n  code.split('\\n').forEach(line => {\n    if (commentRegex.test(line)) {\n      // It's most probably a comment\n      return;\n    }\n    const matches = line.match(lineRegex);\n    if (matches) {\n      matches.forEach(codePart => {\n        const match = codePart.match(partRegex);\n\n        if (match) {\n          if (match[1]) {\n            if (\n              !results.find(r => r.type === 'direct' && r.path === match[1])\n            ) {\n              results.push({\n                type: 'direct',\n                path: match[1],\n              });\n            }\n          } else if (match[2]) {\n            if (!results.find(r => r.type === 'glob' && r.path === match[2])) {\n              results.push({\n                type: 'glob',\n                path: match[2],\n              });\n            }\n          }\n        }\n      });\n    }\n  });\n\n  return results;\n}\n","// @flow\n\nconst DEFAULT_BABEL_CONFIG = {\n  presets: ['es2015', 'react', 'stage-0'],\n  plugins: [\n    'transform-async-to-generator',\n    'transform-object-rest-spread',\n    'transform-decorators-legacy',\n    'transform-class-properties',\n    // Polyfills the runtime needed for async/await and generators\n    [\n      'transform-runtime',\n      {\n        helpers: false,\n        polyfill: false,\n        regenerator: true,\n      },\n    ],\n    [\n      'transform-regenerator',\n      {\n        // Async functions are converted to generators by babel-preset-env\n        async: false,\n      },\n    ],\n  ],\n};\n\n/**\n * Parses the .babelrc if it exists, if it doesn't it will return a default config\n */\nexport default function getBabelConfig(\n  config: Object | undefined,\n  loaderOptions: Object,\n  path: string,\n  isV7: boolean = false\n) {\n  const resolvedConfig = config || DEFAULT_BABEL_CONFIG;\n\n  if (loaderOptions.disableCodeSandboxPlugins) {\n    return resolvedConfig;\n  }\n\n  const finalConfig = {\n    ...resolvedConfig,\n    sourceMaps: 'inline',\n    sourceFileName: path,\n    filename: path,\n  };\n\n  const commonjsPluginName = isV7\n    ? 'transform-modules-commonjs'\n    : 'transform-es2015-modules-commonjs';\n\n  if (finalConfig.plugins) {\n    if (finalConfig.plugins.indexOf(commonjsPluginName) === -1) {\n      finalConfig.plugins = [...finalConfig.plugins, commonjsPluginName];\n    }\n  } else {\n    finalConfig.plugins = [commonjsPluginName];\n  }\n\n  return finalConfig;\n}\n","// @flow\n\ntype WorkerError = {\n  name: string,\n  message: string,\n  fileName: ?string,\n  lineNumber: ?number,\n  columnNumber: ?number,\n};\n\nexport function buildWorkerError(error: Error): WorkerError {\n  return {\n    name: error.name,\n    message: error.message,\n    fileName: error.fileName,\n    lineNumber: error.lineNumber,\n    columnNumber: error.columnNumber,\n  };\n}\n\nexport function parseWorkerError(error: WorkerError): Error {\n  const reconstructedError = new Error(error.message);\n  reconstructedError.name = error.name;\n  reconstructedError.columnNumber = error.columnNumber;\n  reconstructedError.fileName = error.columnNumber;\n  reconstructedError.lineNumber = error.lineNumber;\n\n  return reconstructedError;\n}\n","import _debug from '@codesandbox/common/lib/utils/debug';\nimport { dispatch, actions } from 'codesandbox-api';\n\nimport Transpiler, { TranspilerResult } from '.';\nimport { parseWorkerError } from './utils/worker-error-handler';\nimport { LoaderContext } from '../transpiled-module';\nimport Manager from '../manager';\n\nconst debug = _debug('cs:compiler:worker-transpiler');\n\ntype TranspilerCallback = (\n  err: any | undefined,\n  data: TranspilerResult | undefined\n) => void;\n\ntype Task = {\n  message: any;\n  callbacks: TranspilerCallback[];\n  loaderContext: LoaderContext;\n};\n\n/**\n * A transpiler that handles worker messaging for you! Magic\n */\nexport default abstract class WorkerTranspiler extends Transpiler {\n  Worker: () => Worker;\n  workers: Array<Worker>;\n  idleWorkers: Array<Worker>;\n  loadingWorkers: number;\n  workerCount: number;\n  tasks: {\n    [id: string]: Task;\n  };\n\n  initialized: boolean;\n  runningTasks: {\n    [id: string]: (error: Error, message: Object) => void;\n  };\n\n  hasFS: boolean;\n\n  constructor(\n    name: string,\n    Worker: () => Worker,\n    workerCount = navigator.hardwareConcurrency,\n    options: { hasFS?: boolean; preload?: boolean } = {}\n  ) {\n    super(name);\n\n    this.workerCount = workerCount;\n    this.Worker = Worker;\n    this.workers = [];\n    this.idleWorkers = [];\n    this.tasks = {};\n    this.initialized = false;\n    this.hasFS = options.hasFS || false;\n    this.loadingWorkers = 0;\n\n    if (options.preload) {\n      if (this.workers.length === 0) {\n        Promise.all(\n          Array.from({ length: this.workerCount }, () => this.loadWorker())\n        );\n      }\n    }\n  }\n\n  getWorker(): Promise<Worker> {\n    // @ts-ignore\n    return Promise.resolve(new this.Worker());\n  }\n\n  async loadWorker() {\n    this.loadingWorkers++;\n    const t = Date.now();\n    const worker = await this.getWorker();\n    const readyListener = e => {\n      if (e.data === 'ready') {\n        debug(`Loaded '${this.name}' worker in ${Date.now() - t}ms`);\n        worker.removeEventListener('message', readyListener);\n      }\n    };\n    worker.addEventListener('message', readyListener);\n\n    if (this.hasFS) {\n      // Register file system that syncs with filesystem in manager\n      // @ts-ignore\n      BrowserFS.FileSystem.WorkerFS.attachRemoteListener(worker); // eslint-disable-line\n      worker.postMessage({ type: 'initialize-fs', codesandbox: true });\n    }\n\n    this.idleWorkers.push(worker);\n\n    this.executeRemainingTasks();\n\n    this.workers.push(worker);\n  }\n\n  async initialize() {\n    this.initialized = true;\n    if (this.workers.length === 0) {\n      await Promise.all(\n        Array.from({ length: this.workerCount }, () => this.loadWorker())\n      );\n    }\n  }\n\n  dispose() {\n    this.workers.forEach(w => w.terminate());\n    this.initialized = false;\n    this.tasks = {};\n    this.workers.length = 0;\n    this.idleWorkers.length = 0;\n    this.loadingWorkers = 0;\n  }\n\n  executeRemainingTasks() {\n    const taskIds = Object.keys(this.tasks);\n    while (this.idleWorkers.length && taskIds.length) {\n      const taskId = taskIds.shift();\n\n      const task = this.tasks[taskId];\n      delete this.tasks[taskId];\n\n      const worker = this.idleWorkers.shift();\n      this.executeTask(task, worker);\n    }\n  }\n\n  runCallbacks(\n    callbacks: Array<TranspilerCallback>,\n    err: Error | undefined,\n    data?: TranspilerResult\n  ) {\n    callbacks.forEach(c => c(err, data));\n  }\n\n  executeTask({ message, loaderContext, callbacks }: Task, worker: Worker) {\n    worker.onmessage = async newMessage => {\n      const { data } = newMessage;\n\n      if (data) {\n        if (data.type === 'error') {\n          const reconstructedError = parseWorkerError(data.error);\n\n          this.runCallbacks(callbacks, reconstructedError);\n        }\n\n        if (data.type === 'warning') {\n          loaderContext.emitWarning(data.warning);\n          return;\n        }\n\n        if (data.type === 'clear-warnings') {\n          dispatch(actions.correction.clear(data.path, data.source));\n        }\n\n        if (data.type === 'resolve-async-transpiled-module') {\n          // This one is to add an asynchronous transpiled module\n\n          const { id, path, options } = data;\n\n          try {\n            const tModule = await loaderContext.resolveTranspiledModuleAsync(\n              path,\n              options\n            );\n            worker.postMessage({\n              type: 'resolve-async-transpiled-module-response',\n              id,\n              found: true,\n              path: tModule.module.path,\n              code: tModule.module.code,\n            });\n          } catch (e) {\n            worker.postMessage({\n              type: 'resolve-async-transpiled-module-response',\n              id,\n              found: false,\n            });\n          }\n        }\n\n        if (data.type === 'add-dependency') {\n          // Dynamic import\n          if (data.isGlob) {\n            loaderContext.addDependenciesInDirectory(data.path, {\n              isAbsolute: data.isAbsolute,\n              isEntry: data.isEntry,\n            });\n          } else {\n            loaderContext.addDependency(data.path, {\n              isAbsolute: data.isAbsolute,\n              isEntry: data.isEntry,\n            });\n          }\n          return;\n        }\n\n        if (data.type === 'add-transpilation-dependency') {\n          loaderContext.addTranspilationDependency(data.path, {\n            isAbsolute: data.isAbsolute,\n            isEntry: data.isEntry,\n          });\n          return;\n        }\n\n        // Means the transpile task has been completed\n        if (data.type === 'result') {\n          this.runCallbacks(callbacks, null, data);\n        }\n\n        if (data.type === 'error' || data.type === 'result') {\n          // Unshift instead of push, we want to prepend the worker because\n          // this worker is warm now.\n          this.idleWorkers.unshift(worker);\n          this.executeRemainingTasks();\n        }\n      }\n    };\n    worker.postMessage({ type: 'compile', codesandbox: true, ...message });\n  }\n\n  async queueTask(\n    message: any,\n    id: string,\n    loaderContext: LoaderContext,\n    callback: (err: Error, message: TranspilerResult) => void\n  ) {\n    this.initialized = true;\n    if (\n      this.idleWorkers.length === 0 &&\n      this.loadingWorkers < this.workerCount\n    ) {\n      // Load new worker if needed\n      await this.loadWorker();\n    }\n\n    if (!this.tasks[id]) {\n      this.tasks[id] = {\n        message,\n        loaderContext,\n        callbacks: [],\n      };\n    }\n\n    this.tasks[id].callbacks.push(callback);\n\n    this.executeRemainingTasks();\n  }\n\n  async getTranspilerContext(manager: Manager) {\n    return super.getTranspilerContext(manager).then(x => ({\n      ...x,\n      worker: true,\n      hasFS: this.hasFS,\n      workerCount: this.workerCount,\n      initialized: Boolean(this.initialized),\n    }));\n  }\n}\n","export default function(delay = 1000) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n","import isESModule from '../../utils/is-es-module';\n\nconst JSXSyntax = /\\n(.*?)<[A-z](.|\\n)*?\\/?>/;\nconst regeneratorSyntax = /\\n(.*?)(\\s|^)regeneratorRuntime\\./;\n\nfunction checkComment(match) {\n  const startOfLine = match[1];\n\n  // If it's in a comment or string, we're extremely aggressive here because\n  // transpiling is absolutely our last resort.\n  if (\n    startOfLine.indexOf('//') > -1 ||\n    startOfLine.indexOf('*') > -1 ||\n    startOfLine.indexOf(\"'\") > -1 ||\n    startOfLine.indexOf('\"') > -1 ||\n    startOfLine.indexOf('`') > -1\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function shouldTranspile(code: string, path: string) {\n  if (isESModule(code)) {\n    return true;\n  }\n\n  if (path.endsWith('.min.js')) {\n    // This needs no transpiling and often fools our JSX check with <a etc...\n    return false;\n  }\n\n  const jsxMatch = code.match(JSXSyntax);\n  if (jsxMatch) {\n    return checkComment(jsxMatch);\n  }\n\n  const regeneratorMatch = code.match(regeneratorSyntax);\n  if (regeneratorMatch) {\n    return checkComment(regeneratorMatch);\n  }\n\n  return false;\n}\n","export default function isESModule(code: string) {\n  return /(;|^)(import|export)(\\s|{)/gm.test(code);\n}\n","/* eslint-disable import/default */\n// @ts-ignore\n// import BabelWorker from 'worker-loader?publicPath=/&name=babel-transpiler.[hash:8].worker.js!./worker/index';\nimport BabelWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=babel-transpiler.[hash:8].worker.js!./worker/index';\n/* eslint-enable import/default */\nimport { isBabel7 } from '@codesandbox/common/lib/utils/is-babel-7';\n\nimport regexGetRequireStatements from './worker/simple-get-require-statements';\nimport getBabelConfig from './babel-parser';\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport Manager from '../../manager';\n\nimport delay from '../../../utils/delay';\nimport { shouldTranspile } from './check';\n\nconst global = window as any;\n\n// Right now this is in a worker, but when we're going to allow custom plugins\n// we need to move this out of the worker again, because the config needs\n// to support custom plugins\nclass BabelTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('babel-loader', BabelWorker, 3, { hasFS: true, preload: true });\n  }\n\n  startupWorkersInitialized = false;\n\n  async getWorker() {\n    while (typeof global.babelworkers === 'undefined') {\n      await delay(50); // eslint-disable-line\n    }\n\n    if (global.babelworkers.length === 0) {\n      return super.getWorker();\n    }\n\n    // We set these up in startup.js.\n    return global.babelworkers.pop();\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<{ transpiledCode: string }> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      // When we find a node_module that already is commonjs we will just get the\n      // dependencies from the file and return the same code. We get the dependencies\n      // with a regex since commonjs modules just have `require` and regex is MUCH\n      // faster than generating an AST from the code.\n      if (\n        (loaderContext.options.simpleRequire ||\n          path.startsWith('/node_modules')) &&\n        !shouldTranspile(code, path)\n      ) {\n        regexGetRequireStatements(code).forEach(dependency => {\n          if (dependency.isGlob) {\n            loaderContext.addDependenciesInDirectory(dependency.path);\n          } else {\n            loaderContext.addDependency(dependency.path);\n          }\n        });\n\n        resolve({\n          transpiledCode: code,\n        });\n        return;\n      }\n\n      const configs = loaderContext.options.configurations;\n\n      const foundConfig = configs.babel && configs.babel.parsed;\n\n      const loaderOptions = loaderContext.options || {};\n\n      const dependencies =\n        (configs.package &&\n          configs.package.parsed &&\n          configs.package.parsed.dependencies) ||\n        {};\n\n      const devDependencies =\n        (configs.package &&\n          configs.package.parsed &&\n          configs.package.parsed.devDependencies) ||\n        {};\n\n      const isV7 =\n        loaderContext.options.isV7 || isBabel7(dependencies, devDependencies);\n\n      const hasMacros = Object.keys(dependencies).some(\n        d => d.indexOf('macro') > -1\n      );\n\n      const babelConfig = getBabelConfig(\n        foundConfig || (loaderOptions as any).config,\n        loaderOptions,\n        path,\n        isV7\n      );\n\n      this.queueTask(\n        {\n          code,\n          config: babelConfig,\n          path,\n          loaderOptions,\n          babelTranspilerOptions:\n            configs &&\n            configs.babelTranspiler &&\n            configs.babelTranspiler.parsed,\n          sandboxOptions: configs && configs.sandbox && configs.sandbox.parsed,\n          version: isV7 ? 7 : 6,\n          hasMacros,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n\n  async getTranspilerContext(manager: Manager): Promise<any> {\n    return new Promise(async resolve => {\n      const baseConfig = await super.getTranspilerContext(manager);\n\n      const babelTranspilerOptions =\n        manager.configurations &&\n        manager.configurations.babelTranspiler &&\n        manager.configurations.babelTranspiler.parsed;\n\n      this.queueTask(\n        {\n          type: 'get-babel-context',\n          babelTranspilerOptions,\n        },\n        'babelContext',\n        // @ts-ignore\n        {},\n        (err, data) => {\n          const { version, availablePlugins, availablePresets } = data;\n\n          resolve({\n            ...baseConfig,\n            babelVersion: version,\n            availablePlugins,\n            availablePresets,\n            babelTranspilerOptions,\n          });\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new BabelTranspiler();\n\nexport { BabelTranspiler };\n\nexport default transpiler;\n","import Transpiler from '..';\n\nclass JSONTranspiler extends Transpiler {\n  doTranspilation(code: string) {\n    const result = `\n      module.exports = JSON.parse(${JSON.stringify(code || '')})\n    `;\n\n    return Promise.resolve({\n      transpiledCode: result,\n    });\n  }\n}\n\nconst transpiler = new JSONTranspiler('json-loader');\n\nexport { JSONTranspiler };\n\nexport default transpiler;\n","import Transpiler from '..';\n\nclass RawTranspiler extends Transpiler {\n  constructor() {\n    super('raw-loader');\n  }\n\n  doTranspilation(code: string) {\n    return Promise.resolve({\n      transpiledCode: `\n      module.exports = ${JSON.stringify(code)};`,\n    });\n  }\n}\n\nconst transpiler = new RawTranspiler();\n\nexport { RawTranspiler };\n\nexport default transpiler;\n","import Transpiler from '..';\nimport { LoaderContext } from '../../transpiled-module';\n\nclass SVGRTranspiler extends Transpiler {\n  async doTranspilation(code: string, loaderContext: LoaderContext) {\n    const { svgrTransform } = await import('./transpiler');\n    // We follow CRA behaviour, so the code with the component is not the default\n    // export, this forces that.\n\n    const codeIsHttp = loaderContext._module.module.code.startsWith('http');\n    const state = {\n      webpack: {\n        previousExport: `\"${\n          codeIsHttp\n            ? loaderContext._module.module.code\n            : loaderContext._module.module.path\n        }\"`,\n      },\n    };\n\n    let downloadedCode = code;\n\n    if (code.startsWith('http')) {\n      await fetch(code)\n        .then(res => res.text())\n        .then(r => {\n          downloadedCode = r;\n        });\n    }\n\n    const result = await svgrTransform(downloadedCode, state);\n\n    return {\n      transpiledCode: result,\n    };\n  }\n}\n\nconst transpiler = new SVGRTranspiler('svgr-loader');\n\nexport { SVGRTranspiler };\n\nexport default transpiler;\n","// @ts-ignore\n// import SassWorker from 'worker-loader?publicPath=/&name=sass-transpiler.[hash:8].worker.js!./worker';\nimport SassWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=sass-transpiler.[hash:8].worker.js!./worker';\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass SassTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('sass-loader', SassWorker, 1, { hasFS: true });\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    const indentedSyntax =\n      loaderContext.options.indentedSyntax == null\n        ? loaderContext.path.endsWith('.sass')\n        : true;\n\n    return new Promise((resolve, reject) => {\n      if (code === '' || code == null) {\n        resolve({ transpiledCode: '' });\n        return;\n      }\n\n      this.queueTask(\n        {\n          code,\n          path: loaderContext.path,\n          indentedSyntax,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new SassTranspiler();\n\nexport { SassTranspiler };\n\nexport default transpiler;\n","import { isBabel7 } from '@codesandbox/common/lib/utils/is-babel-7';\n\nimport Preset from '..';\n\nimport stylesTranspiler from '../../transpilers/style';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport svgrTranspiler from '../../transpilers/svgr';\nimport sassTranspiler from '../../transpilers/sass';\n\nexport default function initialize() {\n  let v2Initialized = false;\n  const preset = new Preset(\n    'create-react-app',\n    ['web.js', 'js', 'json', 'web.jsx', 'jsx', 'ts', 'tsx'],\n    {\n      // Directly match react-native to react-native-web.\n      // Attempt to use react-native internals shouldn't work on web.\n      'react-native$': 'react-native-web',\n      // Alias core react-native internals to react-native-web equivalents\n      'react-native/Libraries/EventEmitter/RCTDeviceEventEmitter$':\n        'react-native-web/dist/vendor/react-native/NativeEventEmitter/RCTDeviceEventEmitter',\n      'react-native/Libraries/vendor/emitter/EventEmitter$':\n        'react-native-web/dist/vendor/react-native/emitter/EventEmitter',\n      'react-native/Libraries/vendor/emitter/EventSubscriptionVendor$':\n        'react-native-web/dist/vendor/react-native/emitter/EventSubscriptionVendor',\n      'react-native/Libraries/EventEmitter/NativeEventEmitter$':\n        'react-native-web/dist/vendor/react-native/NativeEventEmitter',\n      // Alias core react-native asset management internals to unimodule equivalents.\n      'react-native/Libraries/Image/AssetSourceResolver$':\n        'expo-asset/build/AssetSourceResolver',\n      'react-native/Libraries/Image/assetPathUtils$':\n        'expo-asset/build/Image/assetPathUtils',\n      'react-native/Libraries/Image/resolveAssetSource$':\n        'expo-asset/build/resolveAssetSource',\n    },\n    {\n      hasDotEnv: true,\n      setup: manager => {\n        const { configurations } = manager;\n\n        if (\n          isBabel7(\n            configurations &&\n              configurations.package &&\n              configurations.package.parsed &&\n              configurations.package.parsed.dependencies,\n\n            configurations &&\n              configurations.package &&\n              configurations.package.parsed &&\n              configurations.package.parsed.devDependencies\n          ) &&\n          !v2Initialized\n        ) {\n          const babelOptions = {\n            isV7: true,\n            compileNodeModulesWithEnv: true,\n            config: {\n              plugins: [\n                '@babel/plugin-transform-react-jsx-source',\n                'transform-flow-strip-types',\n                'transform-destructuring',\n                'babel-plugin-macros',\n                ['proposal-class-properties', { loose: true }],\n                ['proposal-object-rest-spread', { useBuiltIns: true }],\n                [\n                  'transform-runtime',\n                  {\n                    corejs: false,\n                    helpers: true,\n                    regenerator: true,\n                  },\n                ],\n                'syntax-dynamic-import',\n              ],\n              presets: [\n                [\n                  'env',\n                  {\n                    // We want Create React App to be IE 9 compatible until React itself\n                    // no longer works with IE 9\n                    targets: {\n                      ie: 9,\n                    },\n                    // Users cannot override this behavior because this Babel\n                    // configuration is highly tuned for ES5 support\n                    ignoreBrowserslistConfig: true,\n                    // If users import all core-js they're probably not concerned with\n                    // bundle size. We shouldn't rely on magic to try and shrink it.\n                    useBuiltIns: false,\n                    // Do not transform modules to CJS\n                    modules: false,\n                  },\n                ],\n                'react',\n                'typescript',\n              ],\n            },\n          };\n          preset.registerTranspiler(\n            module =>\n              /\\.(t|j)sx?$/.test(module.path) && !module.path.endsWith('.d.ts'),\n            [\n              {\n                transpiler: babelTranspiler,\n                options: {\n                  ...babelOptions,\n                  config: {\n                    ...babelOptions.config,\n                    plugins: [\n                      ['proposal-decorators', { legacy: true }],\n                      ...babelOptions.config.plugins,\n                    ],\n                  },\n                },\n              },\n            ],\n            true\n          );\n          preset.registerTranspiler(\n            module => /\\.svg$/.test(module.path),\n            [\n              { transpiler: svgrTranspiler },\n              {\n                transpiler: babelTranspiler,\n                options: babelOptions,\n              },\n            ],\n            true\n          );\n          preset.registerTranspiler(\n            module => /\\.s[c|a]ss$/.test(module.path),\n            [{ transpiler: sassTranspiler }, { transpiler: stylesTranspiler }],\n            true\n          );\n          preset.registerTranspiler(\n            module => /\\.module\\.s[c|a]ss$/.test(module.path),\n            [\n              { transpiler: sassTranspiler },\n              { transpiler: stylesTranspiler, options: { module: true } },\n            ],\n            true\n          );\n          preset.registerTranspiler(\n            module => /\\.module\\.css$/.test(module.path),\n            [{ transpiler: stylesTranspiler, options: { module: true } }],\n            true\n          );\n          v2Initialized = true;\n        }\n      },\n      preEvaluate: manager => {\n        if (!manager.webpackHMR) {\n          try {\n            const { children } = document.body;\n            // Do unmounting for react\n            if (\n              manager.manifest &&\n              manager.manifest.dependencies.find(n => n.name === 'react-dom')\n            ) {\n              const reactDOMModule = manager.resolveModule('react-dom', '');\n              const reactDOM = manager.evaluateModule(reactDOMModule);\n\n              reactDOM.unmountComponentAtNode(document.body);\n\n              for (let i = 0; i < children.length; i += 1) {\n                if (children[i].tagName === 'DIV') {\n                  reactDOM.unmountComponentAtNode(children[i]);\n                }\n              }\n            }\n          } catch (e) {\n            /* don't do anything with this error */\n\n            if (process.env.NODE_ENV === 'development') {\n              console.error('Problem while cleaning up');\n              console.error(e);\n            }\n          }\n        }\n      },\n    }\n  );\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import { ParsedConfigurationFiles } from '@codesandbox/common/lib/templates/template';\n\nexport function getDependenciesFromConfig(\n  configurations: ParsedConfigurationFiles\n) {\n  if (\n    configurations &&\n    configurations.package &&\n    configurations.package.parsed\n  ) {\n    return {\n      ...configurations.package.parsed.devDependencies,\n      ...configurations.package.parsed.dependencies,\n    };\n  }\n\n  return {};\n}\n","/* eslint-disable import/default */\n// @ts-ignore\n// import TypeScriptWorker from 'worker-loader?publicPath=/&name=typescript-transpiler.[hash:8].worker.js!./typescript-worker';\nimport TypeScriptWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=typescript-transpiler.[hash:8].worker.js!./typescript-worker';\n/* eslint-enable import/default */\nimport { getDependenciesFromConfig } from 'sandbox/eval/utils/get-dependencies';\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass TypeScriptTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('ts-loader', TypeScriptWorker, 3);\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      let foundConfig = null;\n      let typescriptVersion = '3.4.1';\n      if (\n        loaderContext.options.configurations &&\n        loaderContext.options.configurations.typescript &&\n        loaderContext.options.configurations.typescript.parsed\n      ) {\n        foundConfig = loaderContext.options.configurations.typescript.parsed;\n      }\n\n      const dependencies = getDependenciesFromConfig(\n        loaderContext.options.configurations\n      );\n      if (dependencies && dependencies.typescript) {\n        typescriptVersion = dependencies.typescript;\n      }\n\n      this.queueTask(\n        {\n          code,\n          path,\n          config: foundConfig,\n          typescriptVersion,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new TypeScriptTranspiler();\n\nexport { TypeScriptTranspiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n/* eslint-disable import/no-named-as-default-member */\n/* eslint-disable import/no-named-as-default */\n// @ts-ignore\n//import StylusWorker from 'worker-loader?publicPath=/&name=stylus-transpiler.[hash:8].worker.js!./stylus-worker';\nimport StylusWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=stylus-transpiler.[hash:8].worker.js!./stylus-worker';\n/* eslint-enable import/default */\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass StylusTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('stylus-loader', StylusWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new StylusTranspiler();\n\nexport { StylusTranspiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n// @ts-ignore\n//import LessWorker from 'worker-loader?publicPath=/&name=less-transpiler.[hash:8].worker.js!./less-worker';\nimport LessWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=less-transpiler.[hash:8].worker.js!./less-worker';\n/* eslint-enable import/default */\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass LessTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('less-loader', LessWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const modules = loaderContext.getModules();\n\n      const lessModules = modules.filter(m => /\\.[css|less]$/.test(m.path));\n      const files = lessModules.reduce(\n        (interMediateFiles, module) => ({\n          ...interMediateFiles,\n          [module.path]: module.code,\n        }),\n        {}\n      );\n\n      const { path } = loaderContext;\n      files[path] = code;\n\n      this.queueTask(\n        {\n          code,\n          files,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new LessTranspiler();\n\nexport { LessTranspiler };\n\nexport default transpiler;\n","import Transpiler from '..';\n\nclass NoopTranspiler extends Transpiler {\n  constructor() {\n    super('noop-loader');\n  }\n\n  doTranspilation(code: string) {\n    return Promise.resolve({\n      transpiledCode: code || '',\n    });\n  }\n}\n\nconst transpiler = new NoopTranspiler();\n\nexport { NoopTranspiler };\n\nexport default transpiler;\n","import Transpiler, { TranspilerResult } from '..';\nimport { LoaderContext } from '../../transpiled-module';\n\n/**\n * Just fetches a file from the interwebs and converts it to a blob\n *\n * @class BinaryTranspiler\n * @extends {Transpiler}\n */\nclass BinaryTranspiler extends Transpiler {\n  constructor() {\n    super('binary-loader');\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return fetch(code)\n      .then(res => res.blob())\n      .then(blob => ({ transpiledCode: blob }));\n  }\n}\n\nconst transpiler = new BinaryTranspiler();\n\nexport { BinaryTranspiler };\n\nexport default transpiler;\n","import Transpiler from '..';\nimport { LoaderContext } from '../../transpiled-module';\n\n// This is the most advanced compiler, I wanted to get it working in sync first,\n// but will eventually move to async.\n\nclass VueTranspiler extends Transpiler {\n  constructor() {\n    super('vue-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(/* webpackChunkName: 'vue-loader' */ './loader').then(\n      loader => {\n        const transpiledCode = loader.default(code, loaderContext);\n\n        return Promise.resolve({ transpiledCode });\n      }\n    );\n  }\n}\n\nconst transpiler = new VueTranspiler();\n\nexport { VueTranspiler };\n\nexport default transpiler;\n","import Transpiler from '../..';\nimport { LoaderContext } from '../../../transpiled-module';\n\nclass VueTemplateTranspiler extends Transpiler {\n  constructor() {\n    super('vue-template-compiler');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(\n      /* webpackChunkName: 'vue-template-compiler' */ './loader'\n    ).then(loader => {\n      const transpiledCode = loader.default(code, loaderContext);\n\n      return Promise.resolve({ transpiledCode });\n    });\n  }\n}\n\nconst transpiler = new VueTemplateTranspiler();\n\nexport { VueTemplateTranspiler };\n\nexport default transpiler;\n","import Transpiler from '../..';\nimport { LoaderContext } from '../../../transpiled-module';\n\nclass VueStyleCompiler extends Transpiler {\n  constructor() {\n    super('vue-style-compiler');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(/* webpackChunkName: 'vue-style-compiler' */ './loader').then(\n      loader => loader.default(code, loaderContext)\n    );\n  }\n}\n\nconst transpiler = new VueStyleCompiler();\n\nexport { VueStyleCompiler };\n\nexport default transpiler;\n","import Transpiler from '../..';\nimport { LoaderContext } from '../../../transpiled-module';\n\nclass VueSelector extends Transpiler {\n  constructor() {\n    super('vue-selector');\n  }\n\n  doTranspilation(content: string, loaderContext: LoaderContext) {\n    return import(/* webpackChunkName: 'vue-selector' */ './loader').then(\n      loader => loader.default(content, loaderContext)\n    );\n  }\n}\n\nconst transpiler = new VueSelector();\n\nexport { VueSelector };\n\nexport default transpiler;\n","import Transpiler from '../..';\nimport { LoaderContext } from '../../../transpiled-module';\n\nimport loader from './loader';\n\nclass VueStyleLoader extends Transpiler {\n  constructor() {\n    super('vue-style-loader');\n  }\n\n  doTranspilation(content: string, loaderContext: LoaderContext) {\n    const transpiledCode = loader(content, loaderContext);\n\n    return Promise.resolve({ transpiledCode });\n  }\n}\n\nconst transpiler = new VueStyleLoader();\n\nexport { VueStyleLoader };\n\nexport default transpiler;\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\nimport hash from 'hash-sum';\n\nimport addStylesClientRaw from '!raw-loader!./addStylesClient';\nimport listToStylesRaw from '!raw-loader!./listToStyles';\n\nimport loaderUtils from '../../utils/loader-utils';\n\nconst addStylesClientPath = '/node_modules/vue-style-loader/addStylesClient.js';\nconst listToStylesPath = '/node_modules/vue-style-loader/listToStyles.js';\n\nexport default function(content: string, loaderContext) {\n  const isServer = false;\n  const isProduction = false;\n\n  loaderContext.emitModule(\n    addStylesClientPath,\n    addStylesClientRaw,\n    '/',\n    false,\n    false\n  );\n  loaderContext.emitModule(\n    listToStylesPath,\n    listToStylesRaw,\n    '/',\n    false,\n    false\n  );\n\n  const request = loaderUtils.stringifyRequest(\n    loaderContext,\n    loaderContext._module.query.replace('vue-style-loader!', '') +\n      '!' +\n      loaderContext.path\n  );\n\n  const id = JSON.stringify(hash(request));\n  loaderContext.addDependency(JSON.parse(request));\n\n  const shared = [\n    '// style-loader: Adds some css to the DOM by adding a <style> tag',\n    '',\n    '// load the styles',\n    `var content = require(${request})`,\n    // content list format is [id, css, media, sourceMap]\n    \"if(typeof content === 'string') content = [[module.id, content, '']];\",\n    'if(content.locals) module.exports = content.locals;',\n  ];\n\n  if (!isServer) {\n    // on the client: dynamic inject + hot-reload\n    let code = [\n      '// add the styles to the DOM',\n      'var update = require(\"' +\n        addStylesClientPath +\n        '\")(' +\n        id +\n        ', content, ' +\n        isProduction +\n        ');',\n    ];\n    if (!isProduction) {\n      code = code.concat([\n        '// Hot Module Replacement',\n        'if(module.hot) {',\n        ' // When the styles change, update the <style> tags',\n        ' if(!content.locals) {',\n        '   module.hot.accept(' + request + ', function() {',\n        '     var newContent = require(' + request + ');',\n        \"     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\",\n        '     update(newContent);',\n        '   });',\n        ' }',\n        ' // When the module is disposed, remove the <style> tags',\n        ' module.hot.dispose(function() { update(); });',\n        '}',\n      ]);\n    }\n    return shared.concat(code).join('\\n');\n  }\n\n  return undefined;\n}\n","import Transpiler from '../..';\nimport { LoaderContext } from '../../../transpiled-module';\n\n// This is the most advanced compiler, I wanted to get it working in sync first,\n// but will eventually move to async.\n\nclass CSSTranspiler extends Transpiler {\n  constructor() {\n    super('css-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(/* webpackChunkName: 'css-loader' */ './loader').then(\n      loader => loader.default(code, loaderContext)\n    );\n  }\n}\n\nconst transpiler = new CSSTranspiler();\n\nexport { CSSTranspiler };\n\nexport default transpiler;\n","import Transpiler, { TranspilerResult } from '..';\n\nclass Base64Transpiler extends Transpiler {\n  constructor() {\n    super('base64-loader');\n  }\n\n  doTranspilation(code: string) {\n    return new Promise<TranspilerResult>(resolve => {\n      const reader = new FileReader();\n      // @ts-ignore\n      reader.readAsDataURL(code);\n\n      reader.onloadend = function() {\n        const base64data = reader.result;\n        resolve({\n          transpiledCode: `module.exports = \"${base64data.toString()}\"`,\n        });\n      };\n    });\n  }\n}\n\nconst transpiler = new Base64Transpiler();\n\nexport { Base64Transpiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n// @ts-ignore\n// import PugWorker from 'worker-loader?publicPath=/&name=pug-transpiler.[hash:8].worker.js!./pug-worker';\nimport PugWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=pug-transpiler.[hash:8].worker.js!./pug-worker';\n/* eslint-enable import/default */\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass PugTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('pug-loader', PugWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new PugTranspiler();\n\nexport { PugTranspiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n// @ts-ignore\n//import CoffeeWorker from 'worker-loader?publicPath=/&name=coffee-transpiler.[hash:8].worker.js!./coffee-worker';\nimport CoffeeWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=coffee-transpiler.[hash:8].worker.js!./coffee-worker';\n/* eslint-enable import/default */\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass CoffeeTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('coffee-loader', CoffeeWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new CoffeeTranspiler();\n\nexport { CoffeeTranspiler };\n\nexport default transpiler;\n","import { dispatch, actions } from 'codesandbox-api';\n\nimport type Manager from '../../manager';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport noopTranspiler from '../../transpilers/noop';\nimport binaryTranspiler from '../../transpilers/binary';\nimport vueTranspiler from '../../transpilers/vue';\nimport vueTemplateTranspiler from '../../transpilers/vue/template-compiler';\nimport vueStyleTranspiler from '../../transpilers/vue/style-compiler';\nimport vueSelector from '../../transpilers/vue/selector';\nimport vueStyleLoader from '../../transpilers/vue/style-loader';\nimport cssLoader from '../../transpilers/vue/css-loader';\nimport base64Transpiler from '../../transpilers/base64';\nimport pugTranspiler from '../../transpilers/pug';\nimport coffeeTranspiler from '../../transpilers/coffee';\n\nimport Preset from '..';\n\nconst getFileNameFromVm = vm => {\n  if (vm) {\n    const options =\n      typeof vm === 'function' && vm.cid != null\n        ? vm.options\n        : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm || {};\n\n    return options.__file;\n  }\n  return undefined;\n};\n\nexport default function initialize() {\n  const vuePreset = new Preset(\n    'vue-cli',\n    ['vue', 'json', 'js', 'ts'],\n    {\n      '@': '{{sandboxRoot}}/src',\n      vue$: 'vue/dist/vue.common.js',\n    },\n    {\n      setup: async (manager: Manager) => {\n        try {\n          const vueModule = manager.resolveTranspiledModule('vue', '/');\n\n          if (!vueModule.source) {\n            await vueModule.transpile(manager);\n          }\n          const Vue = vueModule.evaluate(manager);\n\n          if (Vue) {\n            Vue.config.warnHandler = (msg, vm, trace) => {\n              console.error('[Vue warn]: ' + msg + trace);\n\n              const file = getFileNameFromVm(vm);\n\n              dispatch(\n                actions.correction.show(msg, {\n                  line: 1,\n                  column: 1,\n                  path: file,\n                  severity: 'warning',\n                  source: 'Vue',\n                })\n              );\n            };\n          }\n        } catch (e) {\n          /* ignore */\n        }\n      },\n    }\n  );\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    config: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    config: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    config: {},\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    const styles = {\n      css: [],\n      scss: [sassWithConfig],\n      sass: [sassWithConfig],\n      less: [lessWithConfig],\n      styl: [stylusWithConfig],\n    };\n\n    return Object.keys(styles).forEach(type => {\n      vuePreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  vuePreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: typescriptTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.vue$/.test(module.path), [\n    { transpiler: vueTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.coffee$/.test(module.path), [\n    { transpiler: coffeeTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n\n  registerStyleTranspilers();\n\n  vuePreset.registerTranspiler(() => false, [\n    { transpiler: vueTemplateTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => false, [\n    { transpiler: vueStyleTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: vueSelector }]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: vueStyleLoader }]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: cssLoader }]);\n\n  vuePreset.registerTranspiler(module => /\\.png$/.test(module.path), [\n    { transpiler: binaryTranspiler },\n    { transpiler: base64Transpiler },\n  ]);\n  vuePreset.registerTranspiler(module => /!noop/.test(module.path), [\n    { transpiler: noopTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n  vuePreset.registerTranspiler(module => /\\.pug$/.test(module.path), [\n    { transpiler: pugTranspiler },\n  ]);\n\n  return vuePreset;\n}\n","// @flow\nimport { NoopTranspiler } from '../../../transpilers/noop';\n\n/**\n * This transpiler actually does nothing but return the code that was given,\n * this happens since our code is already in the browser, we don't need to\n * dynamically load it\n *\n * @class AsyncTranspiler\n * @extends {NoopTranspiler}\n */\nclass AsyncTranspiler extends NoopTranspiler {\n  constructor() {\n    super();\n\n    this.name = 'async';\n  }\n}\n\nconst transpiler = new AsyncTranspiler();\n\nexport { AsyncTranspiler };\n\nexport default transpiler;\n","import babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\n\nimport asyncTranspiler from './transpilers/async';\n\nimport Preset from '..';\n\nexport default function initialize() {\n  const preactPreset = new Preset(\n    'preact-cli',\n    ['js', 'jsx', 'ts', 'tsx', 'json', 'less', 'scss', 'sass', 'styl', 'css'],\n    {\n      preact$: 'preact',\n      // preact-compat aliases for supporting React dependencies:\n      react: 'preact-compat',\n      'react-dom': 'preact-compat',\n      'create-react-class': 'preact-compat/lib/create-react-class',\n      'react-addons-css-transition-group': 'preact-css-transition-group',\n    }\n  );\n\n  preactPreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n    },\n  ]);\n\n  // For these routes we need to enable css modules\n  const cssModulesPaths = [\n    '/src/components',\n    '/components',\n    '/src/routes',\n    '/routes',\n  ];\n\n  const cssModulesRegex = extension =>\n    new RegExp(`^(${cssModulesPaths.join('|')})\\\\/.*\\\\.${extension}$`);\n\n  const cssTypes = {\n    css: [],\n    's[a|c]ss': [{ transpiler: sassTranspiler }],\n    less: [{ transpiler: lessTranspiler }],\n    styl: [{ transpiler: stylusTranspiler }],\n  };\n\n  Object.keys(cssTypes).forEach(cssType => {\n    preactPreset.registerTranspiler(\n      module => cssModulesRegex(cssType).test(module.path),\n      [\n        ...cssTypes[cssType],\n        { transpiler: stylesTranspiler, options: { module: true } },\n      ]\n    );\n\n    preactPreset.registerTranspiler(\n      module => new RegExp(`\\\\.${cssType}$`).test(module.path),\n      [...cssTypes[cssType], { transpiler: stylesTranspiler }]\n    );\n  });\n\n  preactPreset.registerTranspiler(module => /\\.json/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  // Support for !async statements\n  preactPreset.registerTranspiler(\n    () => false /* never load without explicit statement */,\n    [{ transpiler: asyncTranspiler }]\n  );\n\n  preactPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preactPreset;\n}\n","/* eslint-disable import/default */\n// @ts-ignore\n// import SvelteWorker from 'worker-loader?publicPath=/&name=svelte-transpiler.[hash:8].worker.js!./svelte-worker';\nimport SvelteWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=svelte-transpiler.[hash:8].worker.js!./svelte-worker';\n/* eslint-enable import/default */\n\nimport semver from 'semver';\n\nimport WorkerTranspiler from '../worker-transpiler';\nimport { LoaderContext } from '../../transpiled-module';\nimport { TranspilerResult } from '..';\n\nclass SvelteTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('svelte-loader', SvelteWorker, 2);\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    const packageJSON = loaderContext.options.configurations.package;\n    const svelte =\n      (packageJSON &&\n        packageJSON.parsed &&\n        packageJSON.parsed.devDependencies &&\n        packageJSON.parsed.devDependencies.svelte &&\n        semver.coerce(packageJSON.parsed.devDependencies.svelte)) ||\n      semver.coerce(packageJSON.parsed.dependencies.svelte);\n\n    return new Promise<TranspilerResult>((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n          version: (svelte || {}).version,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new SvelteTranspiler();\n\nexport { SvelteTranspiler };\n\nexport default transpiler;\n","import babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport svelteTranspiler from '../../transpilers/svelte';\n\nimport Preset from '..';\n\nconst babelOptions = {\n  isV7: true,\n  config: {\n    presets: [],\n    plugins: [],\n    parserOpts: {\n      plugins: ['dynamicImport', 'objectRestSpread'],\n    },\n  },\n};\n\nexport default function initialize() {\n  const sveltePreset = new Preset('svelte', ['js', 'jsx', 'svelte'], {});\n\n  sveltePreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler, options: babelOptions },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.svelte$/.test(module.path), [\n    { transpiler: svelteTranspiler },\n    { transpiler: babelTranspiler, options: babelOptions },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.html$/.test(module.path), [\n    { transpiler: svelteTranspiler },\n    { transpiler: babelTranspiler, options: babelOptions },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.json/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  sveltePreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return sveltePreset;\n}\n","/* eslint-disable */\nimport Transpiler from '../';\nimport { LoaderContext } from '../../transpiled-module';\n\n// using: regex, capture groups, and capture group variables.\nconst templateUrlRegex = /templateUrl\\s*:(\\s*['\"`](.*?)['\"`]\\s*([,}]))/gm;\nconst stylesRegex = /styleUrls *:(\\s*\\[[^\\]]*?\\])/g;\nconst stringRegex = /(['`\"])((?:[^\\\\]\\\\\\1|.)*?)\\1/g;\n\nfunction replaceStringsWithRequires(string, extensionConfig, addDependency) {\n  return string.replace(stringRegex, (match, quote, url) => {\n    if (url.charAt(0) !== '.') {\n      // eslint-disable-next-line\n      url = './' + url;\n    }\n\n    const urlParts = url.split('.');\n    const extension = urlParts[urlParts.length - 1];\n    const transpilers = extensionConfig[extension] || [];\n\n    const finalUrl = `!raw-loader!${transpilers\n      .map(t => t.transpiler.name)\n      .join('!')}!${url}`;\n\n    addDependency(finalUrl, { isAbsolute: false });\n    return \"require('\" + finalUrl + \"')\";\n  });\n}\n\n/**\n * Converts Angular statements to css/html to require statements. Taken from\n * https://github.com/TheLarkInn/angular2-template-loader/blob/master/index.js\n *\n * @class Angular2Transpiler\n * @extends {Transpiler}\n */\nclass Angular2Transpiler extends Transpiler {\n  constructor() {\n    super('binary-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    const styleProperty = 'styles';\n    const templateProperty = 'template';\n\n    const newSource = code\n      .replace(templateUrlRegex, (match, url) => {\n        // replace: templateUrl: './path/to/template.html'\n        // with: template: require('./path/to/template.html')\n        // or: templateUrl: require('./path/to/template.html')\n        // if `keepUrl` query parameter is set to true.\n\n        return (\n          templateProperty +\n          ':' +\n          replaceStringsWithRequires(\n            url,\n            loaderContext.options.preTranspilers,\n            loaderContext.addDependency\n          )\n        );\n      })\n      .replace(stylesRegex, (match, urls) => {\n        // replace: stylesUrl: ['./foo.css', \"./baz.css\", \"./index.component.css\"]\n        // with: styles: [require('./foo.css'), require(\"./baz.css\"), require(\"./index.component.css\")]\n        // or: styleUrls: [require('./foo.css'), require(\"./baz.css\"), require(\"./index.component.css\")]\n        // if `keepUrl` query parameter is set to true.\n        return (\n          styleProperty +\n          ':' +\n          replaceStringsWithRequires(\n            urls,\n            loaderContext.options.preTranspilers,\n            loaderContext.addDependency\n          )\n        );\n      });\n\n    return Promise.resolve({\n      transpiledCode: newSource,\n    });\n  }\n}\n\nconst transpiler = new Angular2Transpiler();\n\nexport { Angular2Transpiler };\n\nexport default transpiler;\n","// @flow\nimport { join, absolute } from '@codesandbox/common/lib/utils/path';\nimport Preset from '..';\n\nimport angular2Transpiler from '../../transpilers/angular2-template';\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\n\nlet polyfillsLoaded = false;\n\nasync function addAngularJSONPolyfills(manager) {\n  const { parsed } = manager.configurations['angular-config'];\n\n  const { defaultProject } = parsed;\n  const project = parsed.projects[defaultProject];\n  const { build } = project.architect;\n\n  if (build.options) {\n    if (project.root && build.options.polyfill) {\n      const polyfillLocation = absolute(\n        join(project.root, build.options.polyfill)\n      );\n      const polyfills = manager.resolveModule(polyfillLocation, '/');\n\n      await manager.transpileModules(polyfills);\n      manager.evaluateModule(polyfills);\n    }\n  }\n}\n\nasync function addAngularCLIPolyfills(manager) {\n  const { parsed } = manager.configurations['angular-cli'];\n  if (parsed.apps && parsed.apps[0]) {\n    const app = parsed.apps[0];\n\n    if (app.root && app.polyfills) {\n      const polyfillLocation = absolute(join(app.root, app.polyfills));\n      const polyfills = manager.resolveModule(polyfillLocation, '/');\n\n      await manager.transpileModules(polyfills);\n      manager.evaluateModule(polyfills);\n    }\n  }\n}\n\nasync function addAngularJSONResources(manager) {\n  const { parsed } = manager.configurations['angular-config'];\n\n  const { defaultProject } = parsed;\n  const project = parsed.projects[defaultProject];\n  const { build } = project.architect;\n\n  if (build.options) {\n    const { styles = [], scripts = [] } = build.options;\n\n    /* eslint-disable no-await-in-loop */\n    for (let i = 0; i < styles.length; i++) {\n      const p = styles[i];\n\n      const finalPath = absolute(join(project.root, p.input || p));\n\n      const tModule = await manager.resolveTranspiledModuleAsync(\n        finalPath,\n        null\n      );\n\n      await tModule.transpile(manager);\n      tModule.setIsEntry(true);\n      tModule.evaluate(manager);\n    }\n\n    const scriptTModules = await Promise.all(\n      scripts.map(async p => {\n        const finalPath = absolute(join(project.root, p));\n        const tModule = await manager.resolveTranspiledModuleAsync(\n          finalPath,\n          null\n        );\n        tModule.setIsEntry(true);\n        return tModule.transpile(manager);\n      })\n    );\n\n    scriptTModules.forEach(t => {\n      t.evaluate(manager, { asUMD: true });\n    });\n  }\n}\n\nasync function addAngularCLIResources(manager) {\n  const { parsed } = manager.configurations['angular-cli'];\n  if (parsed.apps && parsed.apps[0]) {\n    const app = parsed.apps[0];\n\n    const { styles = [], scripts = [] } = app;\n\n    /* eslint-disable no-await-in-loop */\n    for (let i = 0; i < styles.length; i++) {\n      const p = styles[i];\n      const finalPath = absolute(join(app.root || 'src', p.input || p));\n\n      const tModule = await manager.resolveTranspiledModuleAsync(\n        finalPath,\n        null\n      );\n\n      await tModule.transpile(manager);\n      tModule.setIsEntry(true);\n      tModule.evaluate(manager);\n    }\n    /* eslint-enable no-await-in-loop */\n\n    const scriptTModules = await Promise.all(\n      scripts.map(async p => {\n        const finalPath = absolute(join(app.root || 'src', p));\n        const tModule = await manager.resolveTranspiledModuleAsync(\n          finalPath,\n          null\n        );\n        tModule.setIsEntry(true);\n        return tModule.transpile(manager);\n      })\n    );\n\n    scriptTModules.forEach(t => {\n      t.evaluate(manager, { asUMD: true });\n    });\n\n    if (app.environmentSource && app.environments && app.environments.dev) {\n      manager.preset.setAdditionalAliases({\n        [app.environmentSource]: app.environments.dev,\n      });\n    }\n  }\n}\n\nexport default function initialize() {\n  const preset = new Preset(\n    'angular-cli',\n    ['web.ts', 'ts', 'json', 'web.tsx', 'tsx', 'js'],\n    {},\n    {\n      setup: async manager => {\n        if (!polyfillsLoaded) {\n          const zone = manager.resolveModule('zone.js', '/');\n          await manager.transpileModules(zone);\n          manager.evaluateModule(zone);\n\n          if (!manager.configurations['angular-config'].generated) {\n            await addAngularJSONPolyfills(manager);\n          } else {\n            await addAngularCLIPolyfills(manager);\n          }\n\n          polyfillsLoaded = true;\n        }\n\n        if (!manager.configurations['angular-config'].generated) {\n          await addAngularJSONResources(manager);\n        } else {\n          await addAngularCLIResources(manager);\n        }\n      },\n    }\n  );\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n  const styles = {\n    css: [],\n    scss: [sassWithConfig],\n    sass: [sassWithConfig],\n    less: [lessWithConfig],\n    styl: [stylusWithConfig],\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    return Object.keys(styles).forEach(type => {\n      preset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  registerStyleTranspilers();\n\n  preset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: angular2Transpiler, options: { preTranspilers: styles } },\n    { transpiler: typescriptTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.js$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","// @flow\n// eslint-disable-next-line\n//import HTMLWorker from 'worker-loader?publicPath=/&name=parcel-html-transpiler.[hash:8].worker.js!./html-worker';\nimport HTMLWorker from 'worker-loader?publicPath=/proxy/static/courses/js/codesandbox-apps/eval/&name=parcel-html-transpiler.[hash:8].worker.js!./html-worker';\nimport type { LoaderContext } from '../../../transpiled-module';\nimport WorkerTranspiler from '../../../transpilers/worker-transpiler';\n\nclass HTMLTranspiler extends WorkerTranspiler {\n  constructor() {\n    super('html-loader', HTMLWorker, 1);\n\n    this.HMREnabled = false;\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext): Promise<null> {\n    return new Promise((resolve, reject) => {\n      this.queueTask(\n        {\n          code,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new HTMLTranspiler();\n\nexport { HTMLTranspiler };\n\nexport default transpiler;\n","import { basename, dirname, join } from 'path';\nimport stripANSI from 'strip-ansi';\n\nimport Transpiler from '..';\nimport { LoaderContext } from '../../transpiled-module';\nimport { Module } from '../../entities/module';\n\ntype ReasonModule = Module & {\n  moduleName: string;\n};\n\nfunction addScript(src) {\n  return new Promise(resolve => {\n    const s = document.createElement('script');\n    s.setAttribute('src', src);\n    document.body.appendChild(s);\n\n    s.onload = () => {\n      resolve();\n    };\n  });\n}\n\nconst IGNORED_DEPENDENCIES = ['ReactDOMRe', 'ReasonReact'];\n\nfunction getModuleName(path: string) {\n  const moduleParts = basename(path).split('.');\n  moduleParts.pop();\n\n  const unCapitalizedModuleName = moduleParts.join('.');\n  return (\n    unCapitalizedModuleName[0].toUpperCase() + unCapitalizedModuleName.slice(1)\n  );\n}\n\nconst cachedDependencies = new Map();\nconst global = window as any;\n\nfunction getDependencyList(\n  modules: Array<ReasonModule>,\n  list: Set<ReasonModule>,\n  module: ReasonModule\n) {\n  const cache = cachedDependencies.get(module.path);\n\n  const listFunction = module.path.endsWith('.re')\n    ? global.ocaml.reason_list_dependencies\n    : global.ocaml.list_dependencies;\n\n  const deps =\n    cache ||\n    listFunction(module.code)\n      .filter(x => IGNORED_DEPENDENCIES.indexOf(x) === -1)\n      .filter(x => !list.has(x));\n\n  if (!cache) {\n    // Didn't get it from the cache\n    deps.shift(); // Remove the first 0 value\n  }\n\n  if (module.path.startsWith('/node_modules')) {\n    cachedDependencies.set(module.path, deps);\n  }\n\n  deps.forEach(dep => {\n    const foundModule = modules.find(\n      x => x.moduleName === dep && !x.path.endsWith('.rei')\n    );\n\n    if (foundModule) {\n      getDependencyList(modules, list, foundModule);\n    }\n  });\n\n  list.add(module);\n}\n\nclass ReasonTranspiler extends Transpiler {\n  worker: Worker;\n\n  constructor() {\n    super('reason-loader');\n  }\n\n  async doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<{ transpiledCode: string }> {\n    if (!global.ocaml) {\n      await addScript(\n        'https://cdn.jsdelivr.net/gh/jaredly/reason-react@more-docs/docs/bucklescript.js'\n      );\n      await addScript('https://reason.surge.sh/bucklescript-deps.js');\n      await addScript('https://unpkg.com/reason@3.3.4/refmt.js');\n    }\n\n    const reasonModules = loaderContext\n      .getModules()\n      .filter(\n        x =>\n          x.path.endsWith('.re') ||\n          x.path.endsWith('.rei') ||\n          x.path.endsWith('.ml')\n      )\n      .map(x => ({\n        ...x,\n        moduleName: getModuleName(x.path),\n      }));\n\n    const mainReasonModule: ReasonModule = reasonModules.find(\n      m => m.path === loaderContext._module.module.path\n    );\n\n    const modulesToAdd: Set<ReasonModule> = new Set();\n    getDependencyList(reasonModules, modulesToAdd, mainReasonModule);\n\n    modulesToAdd.forEach(m => {\n      if (m.path !== loaderContext._module.module.path) {\n        loaderContext.addTranspilationDependency(m.path, {});\n      }\n    });\n\n    const newCode = Array.from(modulesToAdd)\n      .map(x => {\n        const usedCode = x.path.endsWith('.re')\n          ? x.code\n          : global.printRE(global.parseML(x.code));\n\n        const { moduleName } = x;\n\n        const typesPath = join(\n          dirname(x.path),\n          basename(x.path, '.re') + '.rei'\n        );\n\n        const typesModule = reasonModules.find(\n          module => module.path === typesPath\n        );\n\n        let reasonCode = `module ${moduleName}`;\n\n        if (typesModule) {\n          reasonCode += `: {\\n${typesModule.code}\\n}`;\n        }\n\n        reasonCode += ` = {\n#1 ${moduleName}\n${usedCode}\n};`;\n\n        return reasonCode;\n      })\n      .join('\\n\\n');\n\n    const {\n      // eslint-disable-next-line camelcase\n      js_code,\n      js_error_msg: errorMessage,\n      row,\n      column,\n      text,\n    } = global.ocaml.reason_compile_super_errors(newCode);\n\n    if (errorMessage) {\n      const error = new Error(stripANSI(text));\n\n      error.name = 'Reason Compile Error';\n      // @ts-ignore\n      error.fileName = loaderContext._module.module.path;\n      // @ts-ignore\n      error.lineNumber = row + 1;\n      // @ts-ignore\n      error.columnNumber = column;\n      return Promise.reject(error);\n    }\n\n    return Promise.resolve({\n      transpiledCode: js_code,\n    });\n  }\n}\n\nconst transpiler = new ReasonTranspiler();\n\nexport { ReasonTranspiler };\n\nexport default transpiler;\n","// @flow\nimport { dispatch } from 'codesandbox-api';\nimport { StyleTranspiler } from '../../../transpilers/style';\nimport { type LoaderContext } from '../../../transpiled-module';\nimport insertCss from '../../../transpilers/style/utils/insert-css';\nimport toDefinition from '../../../transpilers/style/utils/to-definition';\nimport getModules from '../../../transpilers/style/get-modules';\n\nconst getStyleId = id => id + '-css';\n\nclass DojoStyleTranspiler extends StyleTranspiler {\n  async doTranspilation(code: string, loaderContext: LoaderContext) {\n    const id = getStyleId(loaderContext._module.getId());\n    const { path } = loaderContext;\n    const modules = loaderContext.getModules();\n    let result = modules.find(module => module.path === `${path}.js`);\n    if (result) {\n      return { transpiledCode: `${insertCss(id, code)}\\n${result.code}` };\n    }\n    const { code: packageJson } = modules.find(\n      module => module.path === '/package.json'\n    );\n    const { name: packageName } = JSON.parse(packageJson);\n    const [, baseName] = /\\/([^/.]*)[^/]*$/.exec(path);\n    const key = `${packageName}/${baseName}`;\n    const { css, exportTokens } = await getModules(code, loaderContext);\n    result = insertCss(id, css);\n    result += `\\nmodule.exports=${JSON.stringify({\n      ' _key': key,\n      ...exportTokens,\n    })};`;\n    dispatch({ type: 'add-extra-lib', path, code: toDefinition(exportTokens) });\n    return { transpiledCode: result };\n  }\n}\n\nconst transpiler = new DojoStyleTranspiler();\n\nexport { DojoStyleTranspiler as StyleTranspiler };\n\nexport default transpiler;\n","import type { default as Manager } from '../../manager';\nimport rawTranspiler from '../../transpilers/raw';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\n\nimport Preset from '..';\n\nconst transpilerMap = {\n  'codesandbox:raw': rawTranspiler,\n  'codesandbox:json': jsonTranspiler,\n  'codesandbox:babel': babelTranspiler,\n};\n\nasync function registerTranspilers(\n  manager: Manager,\n  preset: Preset,\n  transpilerConfig\n) {\n  const savedTranspilers = {};\n  const configModule = manager.resolveTranspiledModule(\n    '/.codesandbox/template.json',\n    '/'\n  );\n  configModule.setIsEntry(true);\n\n  const initializers = await Promise.all(\n    Object.keys(transpilerConfig).map(async expression => {\n      const transpilers = transpilerConfig[expression];\n\n      const evaluatedTranspilers = await Promise.all(\n        transpilers.map(async t => {\n          if (savedTranspilers[t]) {\n            return savedTranspilers[t];\n          }\n\n          if (t.startsWith('codesandbox:')) {\n            const transpiler = transpilerMap[t];\n\n            if (!transpiler) {\n              throw new Error(\n                `Could not register custom transpiler: ${t} is unknown to Sandpack.`\n              );\n            }\n\n            return { transpiler };\n          }\n\n          const tModule = manager.resolveTranspiledModule(\n            t,\n            '/.codesandbox/template.json'\n          );\n\n          if (tModule.shouldTranspile()) {\n            tModule.initiators.add(configModule);\n            configModule.dependencies.add(tModule);\n\n            await tModule.transpile(manager);\n          }\n\n          const transpiler = tModule.compilation\n            ? tModule.compilation.exports\n            : tModule.evaluate(manager);\n\n          savedTranspilers[t] = transpiler;\n\n          return {\n            transpiler,\n          };\n        })\n      );\n\n      return () => {\n        const regex = new RegExp(expression);\n        preset.registerTranspiler(\n          module => regex.test(module.path),\n          evaluatedTranspilers\n        );\n      };\n    })\n  );\n\n  preset.resetTranspilers();\n\n  initializers.forEach(x => x());\n}\n\nexport default function initialize() {\n  let initialized = false;\n  const customPreset = new Preset('custom', undefined, undefined, {\n    setup: async (manager: Manager, updatedModules) => {\n      if (updatedModules.some(m => m.module.path.startsWith('/.codesandbox'))) {\n        initialized = false;\n        manager.clearCompiledCache();\n        manager.clearCache();\n      }\n\n      if (!initialized) {\n        // eslint-disable-next-line no-console\n        console.log('Initializing custom template');\n        customPreset.resetTranspilers();\n        // Our JS/JSON transpiler to transpile the transpilers\n        customPreset.registerTranspiler(m => /\\.jsx?$/.test(m.path), [\n          { transpiler: babelTranspiler },\n        ]);\n\n        customPreset.registerTranspiler(m => /\\.json$/.test(m.path), [\n          { transpiler: jsonTranspiler },\n        ]);\n\n        const customConfig =\n          manager.configurations.customTemplate &&\n          manager.configurations.customTemplate.parsed;\n        if (!customConfig) {\n          throw new Error('No configuration specified for the custom template');\n        }\n\n        const { sandpack } = customConfig;\n\n        if (sandpack) {\n          customPreset.defaultAliases = sandpack.defaultAliases || [];\n\n          if (sandpack.transpilers) {\n            await registerTranspilers(\n              manager,\n              customPreset,\n              sandpack.transpilers\n            );\n          }\n        }\n\n        customPreset.registerTranspiler(() => true, [\n          { transpiler: rawTranspiler },\n        ]);\n        initialized = true;\n      }\n    },\n  });\n\n  return customPreset;\n}\n","// @ts-check\nimport {\n  react,\n  vue,\n  parcel,\n  svelte,\n  preact,\n  reactTs,\n  angular,\n  cxjs,\n  babel,\n  dojo,\n  custom,\n  reason,\n} from '@codesandbox/common/lib/templates';\n\nimport reactPreset from './presets/create-react-app';\nimport reactTsPreset from './presets/create-react-app-typescript';\nimport vuePreset from './presets/vue-cli';\nimport preactPreset from './presets/preact-cli';\nimport sveltePreset from './presets/svelte';\nimport angularPreset from './presets/angular-cli';\nimport parcelPreset from './presets/parcel';\nimport babelPreset from './presets/babel-repl';\nimport cxjsPreset from './presets/cxjs';\nimport reasonPreset from './presets/reason';\nimport dojoPreset from './presets/dojo';\nimport customPreset from './presets/custom';\n\nexport default function getPreset(template: string) {\n  switch (template) {\n    case react.name:\n      return reactPreset();\n    case reactTs.name:\n      return reactTsPreset();\n    case reason.name:\n      return reasonPreset();\n    case vue.name:\n      return vuePreset();\n    case preact.name:\n      return preactPreset();\n    case svelte.name:\n      return sveltePreset();\n    case angular.name:\n      return angularPreset();\n    case parcel.name:\n      return parcelPreset();\n    case babel.name:\n      return babelPreset();\n    case cxjs.name:\n      return cxjsPreset();\n    case dojo.name:\n      return dojoPreset();\n    case custom.name:\n      return customPreset();\n    default:\n      return reactPreset();\n  }\n}\n","import Preset from '..';\n\nimport stylesTranspiler from '../../transpilers/style';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport babelTranspiler from '../../transpilers/babel';\n\nexport default function initialize() {\n  const preset = new Preset('create-react-app-typescript', [\n    'web.ts',\n    'ts',\n    'json',\n    'web.tsx',\n    'tsx',\n    'js',\n  ]);\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  const babelOptions = {\n    isV7: true,\n    compileNodeModulesWithEnv: true,\n    config: {\n      plugins: [\n        'transform-flow-strip-types',\n        'transform-destructuring',\n        'babel-plugin-macros',\n        ['proposal-decorators', { legacy: true }],\n        ['proposal-class-properties', { loose: true }],\n        ['proposal-object-rest-spread', { useBuiltIns: true }],\n        [\n          'transform-runtime',\n          {\n            corejs: false,\n            helpers: true,\n            regenerator: true,\n          },\n        ],\n        'syntax-dynamic-import',\n      ],\n      presets: [\n        [\n          'env',\n          {\n            // We want Create React App to be IE 9 compatible until React itself\n            // no longer works with IE 9\n            targets: {\n              ie: 9,\n            },\n            // Users cannot override this behavior because this Babel\n            // configuration is highly tuned for ES5 support\n            ignoreBrowserslistConfig: true,\n            // If users import all core-js they're probably not concerned with\n            // bundle size. We shouldn't rely on magic to try and shrink it.\n            useBuiltIns: false,\n            // Do not transform modules to CJS\n            modules: false,\n          },\n        ],\n        'react',\n        'typescript',\n      ],\n    },\n  };\n  preset.registerTranspiler(\n    module => /\\.(t|j)sx?$/.test(module.path) && !module.path.endsWith('.d.ts'),\n    [\n      {\n        transpiler: babelTranspiler,\n        options: babelOptions,\n      },\n    ],\n    true\n  );\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import Preset from '..';\n\nimport stylesTranspiler from '../../transpilers/style';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport reasonTranspiler from '../../transpilers/reason';\n\nimport reasonRemap from './reason-remap';\n\nexport default function initialize() {\n  const preset = new Preset(\n    'reason',\n    ['web.js', 'js', 're', 'json', 'web.jsx', 'jsx'],\n    reasonRemap,\n    { hasDotEnv: true }\n  );\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.re$/.test(module.path), [\n    { transpiler: reasonTranspiler },\n    { transpiler: babelTranspiler, options: { simpleRequire: true } },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport tsTranspiler from '../../transpilers/typescript';\nimport vueTranspiler from '../../transpilers/vue';\nimport vueTemplateTranspiler from '../../transpilers/vue/template-compiler';\nimport vueStyleTranspiler from '../../transpilers/vue/style-compiler';\nimport vueSelector from '../../transpilers/vue/selector';\nimport vueStyleLoader from '../../transpilers/vue/style-loader';\nimport cssLoader from '../../transpilers/vue/css-loader';\nimport htmlTranspiler from './transpilers/html-transpiler';\nimport pugTranspiler from '../../transpilers/pug';\nimport coffeeTranspiler from '../../transpilers/coffee';\nimport noopTranspiler from '../../transpilers/noop';\n\nimport Preset from '..';\n\nexport default function initialize() {\n  const parcelPreset = new Preset(\n    'parcel',\n    [\n      'js',\n      'jsx',\n      'ts',\n      'tsx',\n      'json',\n      'less',\n      'scss',\n      'sass',\n      'styl',\n      'css',\n      'vue',\n    ],\n    {},\n    {\n      htmlDisabled: true,\n      setup: manager => {\n        const packageJSON = manager.configurations.package;\n\n        if (packageJSON && packageJSON.parsed && packageJSON.parsed.alias) {\n          manager.preset.setAdditionalAliases(packageJSON.parsed.alias);\n        }\n      },\n    }\n  );\n\n  parcelPreset.registerTranspiler(module => /\\.coffee$/.test(module.path), [\n    { transpiler: coffeeTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        dynamicCSSModules: true,\n      },\n    },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: tsTranspiler },\n    {\n      transpiler: babelTranspiler,\n      options: {\n        dynamicCSSModules: true,\n      },\n    },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.pug$/.test(module.path), [\n    { transpiler: pugTranspiler },\n    { transpiler: htmlTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.html$/.test(module.path), [\n    { transpiler: htmlTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  // VUE START\n  parcelPreset.registerTranspiler(module => /\\.vue$/.test(module.path), [\n    { transpiler: vueTranspiler },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: vueTemplateTranspiler },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: vueStyleTranspiler },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [{ transpiler: vueSelector }]);\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: vueStyleLoader },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [{ transpiler: cssLoader }]);\n  // VUE END\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n  const styles = {\n    css: [],\n    scss: [sassWithConfig],\n    sass: [sassWithConfig],\n    less: [lessWithConfig],\n    styl: [stylusWithConfig],\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    return Object.keys(styles).forEach(type => {\n      parcelPreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  registerStyleTranspilers();\n\n  parcelPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: noopTranspiler },\n  ]);\n\n  return parcelPreset;\n}\n","import babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\n\nimport Preset from '..';\n\nexport default function initialize() {\n  const babelPreset = new Preset(\n    'babel-repl',\n    ['js', 'jsx', 'ts', 'tsx', 'json'],\n    {},\n    {}\n  );\n\n  babelPreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        disableCodeSandboxPlugins: true,\n      },\n    },\n  ]);\n\n  babelPreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  babelPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return babelPreset;\n}\n","import babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport tsTranspiler from '../../transpilers/typescript';\n\nimport Preset from '..';\n\nexport default function initialize() {\n  const cxjsPreset = new Preset(\n    'cxjs',\n    ['js', 'jsx', 'ts', 'tsx', 'json', 'less', 'scss', 'sass', 'styl', 'css'],\n    {},\n    {}\n  );\n\n  cxjsPreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        dynamicCSSModules: true,\n        compileNodeModulesWithEnv: true,\n      },\n    },\n  ]);\n\n  cxjsPreset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: tsTranspiler },\n  ]);\n\n  cxjsPreset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  cxjsPreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n  const styles = {\n    css: [],\n    scss: [sassWithConfig],\n    sass: [sassWithConfig],\n    less: [lessWithConfig],\n    styl: [stylusWithConfig],\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    return Object.keys(styles).forEach(type => {\n      cxjsPreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  registerStyleTranspilers();\n\n  cxjsPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return cxjsPreset;\n}\n","import { join, absolute } from '@codesandbox/common/lib/utils/path';\nimport Preset from '..';\n\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport rawTranspiler from '../../transpilers/raw';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport dojoStylesTranspiler from './transpilers/style';\nimport babelTranspiler from '../../transpilers/babel';\n\nexport default function initialize() {\n  const preset = new Preset(\n    '@dojo/cli-create-app',\n    ['ts', 'tsx', 'js', 'json'],\n    {},\n    {\n      setup: async manager => {\n        const stylesPath = absolute(join('src', 'main.css'));\n\n        try {\n          const tModule = await manager.resolveTranspiledModuleAsync(\n            stylesPath,\n            null\n          );\n          await tModule.transpile(manager);\n          tModule.setIsEntry(true);\n          tModule.evaluate(manager);\n        } catch (e) {\n          if (e.type === 'module-not-found') {\n            // Do nothing\n          } else {\n            throw e;\n          }\n        }\n      },\n    }\n  );\n\n  preset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: typescriptTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        isV7: true,\n        config: {\n          parserOpts: {\n            plugins: ['objectRestSpread'],\n          },\n        },\n      },\n    },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.m\\.css$/.test(module.path), [\n    { transpiler: dojoStylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","// Babel bug workaround (https://github.com/babel/babel/issues/8061)\nconst ErrorClass = Error;\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nexport default class ModuleError extends ErrorClass {\n  constructor(module, err) {\n    super();\n\n    this.name = 'ModuleError';\n    this.path = err.fileName || module.module.path;\n    this.message =\n      err && typeof err === 'object' && err.message ? err.message : err;\n    this.error = err;\n    this.stack = err.stack;\n  }\n}\n","import TranspiledModule from '../transpiled-module';\nimport { WarningStructure } from '../transpilers/utils/worker-warning-handler';\n\nexport default class ModuleWarning extends Error {\n  constructor(module: TranspiledModule, warning: WarningStructure) {\n    super();\n\n    this.name = 'ModuleWarning';\n    this.path = warning.fileName || module.module.path;\n    this.message = warning.message;\n    this.warning = warning.message;\n    this.lineNumber = warning.lineNumber;\n    this.columnNumber = warning.columnNumber;\n    this.severity = warning.severity;\n    this.source = warning.source;\n  }\n\n  serialize(): WarningStructure {\n    return {\n      name: 'ModuleWarning',\n      message: this.message,\n      fileName: this.path,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      source: this.source,\n      severity: this.severity,\n    };\n  }\n\n  path: string;\n  message: string;\n  warning: string;\n  message: string;\n  severity: 'notice' | 'warning';\n  source: ?string;\n  lineNumber: ?number;\n  columnNumber: ?number;\n}\n","import DependencyNotFoundError from 'sandbox-hooks/errors/dependency-not-found-error';\n\n/**\n * Converts a dependency string to an actual dependency\n *\n * @param {string} dependencyPath\n * @param {Object} externals\n * @returns\n */\nexport default function getDependency(dependencyPath: string) {\n  if (dependencyPath === 'codesandbox-api') {\n    // eslint-disable-next-line\n    return require('codesandbox-api');\n  }\n\n  throw new DependencyNotFoundError(dependencyPath);\n}\n","/* eslint-disable */\n// from https://unpkg.com/process@0.11.10/browser.js\n\nconst process = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nlet cachedSetTimeout;\nlet cachedClearTimeout;\nlet queue = [];\nlet draining = false;\nlet currentQueue;\nlet queueIndex = -1;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n(function() {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    // normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  }\n  // if setTimeout wasn't available but was latter defined\n  if (\n    (cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) &&\n    setTimeout\n  ) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // eslint-disable-line no-shadow\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    // normal enviroments in sane situations\n    return clearTimeout(marker);\n  }\n  // if clearTimeout wasn't available but was latter defined\n  if (\n    (cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) &&\n    clearTimeout\n  ) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // eslint-disable-line no-shadow\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n  // eslint-disable-next-line no-use-before-define\n  const timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n\n  let len = queue.length;\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    drainQueue();\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function() {\n  this.fun.apply(null, this.array);\n};\nprocess.nextTick = function(fun) {\n  const args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (let i = 1; i < arguments.length; i++) {\n      // eslint-disable-next-line prefer-rest-params\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(fun, args));\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function() {\n  return [];\n};\n\nprocess.binding = function() {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function() {\n  return '/';\n};\nprocess.chdir = function() {\n  throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() {\n  return 0;\n};\n\nexport default function build(env) {\n  process.env = { NODE_ENV: 'development', ...env };\n  return process;\n}\n","// @flow\nimport buildProcess from './utils/process';\n\nconst g = typeof window === 'undefined' ? self : window;\nconst requestFrame = (() => {\n  const raf =\n    g.requestAnimationFrame ||\n    g.mozRequestAnimationFrame ||\n    g.webkitRequestAnimationFrame ||\n    function(fn) {\n      return g.setTimeout(fn, 20);\n    };\n  return function(fn) {\n    return raf(fn);\n  };\n})();\n\nconst hasGlobalDeclaration = /^const global/m;\n\n/* eslint-disable no-unused-vars */\nexport default function(\n  code: string,\n  require: Function,\n  module: Object,\n  env: Object = {},\n  globals: Object = {},\n  { asUMD = false }: { asUMD: boolean } = {}\n) {\n  const { exports } = module;\n\n  const global = g;\n  const process = buildProcess(env);\n  g.global = global;\n\n  const allGlobals = {\n    require,\n    module,\n    exports,\n    process,\n    setImmediate: requestFrame,\n    global,\n    ...globals,\n  };\n\n  if (asUMD) {\n    delete allGlobals.module;\n    delete allGlobals.exports;\n    delete allGlobals.global;\n  }\n\n  if (hasGlobalDeclaration.test(code)) {\n    delete allGlobals.global;\n  }\n\n  const allGlobalKeys = Object.keys(allGlobals);\n  const globalsCode = allGlobalKeys.length ? allGlobalKeys.join(', ') : '';\n  const globalsValues = allGlobalKeys.map(k => allGlobals[k]);\n  try {\n    const newCode = `(function evaluate(` + globalsCode + `) {` + code + `\\n})`;\n    // eslint-disable-next-line no-eval\n    (0, eval)(newCode).apply(this, globalsValues);\n\n    return module.exports;\n  } catch (e) {\n    let error = e;\n    if (typeof e === 'string') {\n      error = new Error(e);\n    }\n    error.isEvalError = true;\n\n    throw error;\n  }\n}\n/* eslint-enable no-unused-vars */\n","// @flow\n\nexport default class HMR {\n  callback: ?() => void;\n  disposeHandler: ?(data: Object) => void;\n  data: Object;\n  type: ?'accept' | 'decline';\n  dirty: boolean = false;\n  selfAccepted: boolean = false;\n\n  callDisposeHandler() {\n    if (this.disposeHandler) {\n      this.data = {};\n      this.disposeHandler(this.data);\n      this.disposeHandler = null;\n    }\n  }\n\n  callAcceptCallback() {\n    if (this.callback) {\n      this.callback();\n    }\n  }\n\n  setAcceptCallback(callback?: Function) {\n    this.callback = callback;\n    this.setSelfAccepted(false);\n  }\n\n  setDisposeHandler(callback: Function) {\n    this.disposeHandler = callback;\n  }\n\n  setSelfAccepted(selfAccepted: boolean) {\n    this.selfAccepted = selfAccepted;\n    if (selfAccepted) {\n      this.data = {};\n    }\n  }\n\n  setType(type: 'accept' | 'decline') {\n    this.type = type;\n  }\n\n  setDirty(dirty: boolean) {\n    this.dirty = dirty;\n  }\n\n  isDirty() {\n    return this.dirty;\n  }\n\n  /**\n   * Returns whether this module should reset the compilation of its parents\n   */\n  isHot() {\n    return this.type === 'accept';\n  }\n\n  isDeclined(isEntry: boolean) {\n    if (this.type === 'decline') {\n      return true;\n    }\n\n    return !this.isHot() && isEntry;\n  }\n}\n","export const splitQueryFromPath = (path: string) => {\n  const queryPath = path.split('!');\n  // pop() mutates queryPath, queryPath is now just the loaders\n  const modulePath = queryPath.pop();\n\n  return {\n    queryPath: queryPath.join('!'),\n    modulePath,\n  };\n};\n","// eslint-disable-next-line max-classes-per-file\nimport { flattenDeep } from 'lodash-es';\n\nimport { actions, dispatch } from 'codesandbox-api';\nimport _debug from '@codesandbox/common/lib/utils/debug';\n\nimport hashsum from 'hash-sum';\n\nimport * as pathUtils from '@codesandbox/common/lib/utils/path';\n\nimport { Module } from './entities/module';\nimport { SourceMap } from './transpilers/utils/get-source-map';\nimport ModuleError from './errors/module-error';\nimport ModuleWarning from './errors/module-warning';\n\nimport { WarningStructure } from './transpilers/utils/worker-warning-handler';\n\nimport resolveDependency from './loaders/dependency-resolver';\nimport evaluate from './loaders/eval';\n\nimport Manager, { HMRStatus } from './manager';\nimport HMR from './hmr';\nimport { splitQueryFromPath } from './utils/query-path';\n\ndeclare const BrowserFS: any;\n\nconst debug = _debug('cs:compiler:transpiled-module');\n\nexport type ChildModule = Module & {\n  parent: Module;\n};\n\nclass ModuleSource {\n  fileName: string;\n  compiledCode: string;\n  sourceMap: SourceMap | undefined;\n  sourceEqualsCompiled: boolean;\n\n  constructor(\n    fileName: string,\n    compiledCode: string,\n    sourceMap: SourceMap | undefined,\n    sourceEqualsCompiled = false\n  ) {\n    this.fileName = fileName;\n    this.compiledCode = compiledCode;\n    this.sourceMap = sourceMap;\n    this.sourceEqualsCompiled = sourceEqualsCompiled;\n  }\n}\n\nexport type SerializedTranspiledModule = {\n  module: Module;\n  query: string;\n  source?: ModuleSource;\n  sourceEqualsCompiled: boolean;\n  assets: {\n    [name: string]: ModuleSource;\n  };\n  isEntry: boolean;\n  isTestFile: boolean;\n  childModules: Array<string>;\n  /**\n   * All extra modules emitted by the loader\n   */\n  emittedAssets: Array<ModuleSource>;\n  initiators: Array<string>;\n  dependencies: Array<string>;\n  asyncDependencies: Array<string>;\n  transpilationDependencies: Array<string>;\n  transpilationInitiators: Array<string>;\n  warnings: WarningStructure[];\n};\n\n/* eslint-disable no-use-before-define */\nexport type LoaderContext = {\n  emitWarning: (warning: WarningStructure) => void;\n  emitError: (error: Error) => void;\n  emitModule: (\n    title: string,\n    code: string,\n    currentPath?: string,\n    overwrite?: boolean,\n    isChild?: boolean\n  ) => TranspiledModule;\n  emitFile: (name: string, content: string, sourceMap: SourceMap) => void;\n  options: {\n    context: string;\n    config?: object;\n    [key: string]: any;\n  };\n  webpack: boolean;\n  sourceMap: boolean;\n  target: string;\n  path: string;\n  getModules: () => Array<Module>;\n  addTranspilationDependency: (\n    depPath: string,\n    options?: {\n      isAbsolute?: boolean;\n      isEntry?: boolean;\n    }\n  ) => void;\n  resolveTranspiledModule: (\n    depPath: string,\n    options?: {\n      isAbsolute?: boolean;\n      ignoredExtensions?: Array<string>;\n    }\n  ) => TranspiledModule;\n  resolveTranspiledModuleAsync: (\n    depPath: string,\n    options?: {\n      isAbsolute?: boolean;\n      ignoredExtensions?: Array<string>;\n    }\n  ) => Promise<TranspiledModule>;\n  addDependency: (\n    depPath: string,\n    options?: {\n      isAbsolute?: boolean;\n      isEntry?: boolean;\n    }\n  ) => void;\n  addDependenciesInDirectory: (\n    depPath: string,\n    options?: {\n      isAbsolute?: boolean;\n      isEntry?: boolean;\n    }\n  ) => void;\n  _module: TranspiledModule;\n\n  // Remaining loaders after current loader\n  remainingRequests: string;\n  template: string;\n};\n/* eslint-enable */\n\ntype Compilation = {\n  id: string;\n  exports: any;\n  hot: {\n    accept: Function | ((arg: string | string[], cb: Function) => void);\n    decline: (path: string | Array<string>) => void;\n    dispose: (cb: Function) => void;\n    data: Object;\n    status: () => HMRStatus;\n    addStatusHandler: (cb: (status: HMRStatus) => void) => void;\n    removeStatusHandler: (cb: (status: HMRStatus) => void) => void;\n  };\n};\n\nexport default class TranspiledModule {\n  module: Module;\n  query: string;\n  previousSource: ModuleSource | undefined;\n  source: ModuleSource | undefined;\n  assets: {\n    [name: string]: ModuleSource;\n  };\n\n  isEntry: boolean;\n  childModules: Array<TranspiledModule>;\n  errors: Array<ModuleError>;\n  warnings: Array<ModuleWarning>;\n  /**\n   * All extra modules emitted by the loader\n   */\n  emittedAssets: Array<ModuleSource>;\n  compilation: Compilation | undefined;\n  initiators: Set<TranspiledModule>; // eslint-disable-line no-use-before-define\n  dependencies: Set<TranspiledModule>; // eslint-disable-line no-use-before-define\n  asyncDependencies: Array<Promise<TranspiledModule>>; // eslint-disable-line no-use-before-define\n  transpilationDependencies: Set<TranspiledModule>;\n  transpilationInitiators: Set<TranspiledModule>;\n\n  // Unique identifier\n  hash: string;\n\n  isTestFile: boolean = false;\n\n  /**\n   * Set how this module handles HMR. The default is undefined, which means\n   * that we handle the HMR like CodeSandbox does.\n   */\n  hmrConfig: HMR | undefined;\n\n  hasMissingDependencies: boolean = false;\n\n  /**\n   * Create a new TranspiledModule, a transpiled module is a module that contains\n   * all info for transpilation and compilation. Note that there can be multiple\n   * transpiled modules for 1 module, since a same module can have different loaders\n   * attached using queries.\n   * @param {*} module\n   * @param {*} query A webpack query, eg: \"url-loader?mimetype=image/png\"\n   */\n  constructor(module: Module, query: string = '') {\n    this.module = module;\n    this.query = query;\n    this.errors = [];\n    this.warnings = [];\n    this.childModules = [];\n    this.transpilationDependencies = new Set();\n    this.dependencies = new Set();\n    this.asyncDependencies = [];\n    this.transpilationInitiators = new Set();\n    this.initiators = new Set();\n    this.isEntry = false;\n    this.isTestFile = false;\n\n    this.hash = hashsum(`${this.module.path}:${this.query}`);\n  }\n\n  getId(): string {\n    return `${this.module.path}:${this.query}`;\n  }\n\n  dispose(manager: Manager) {\n    if (this.hmrConfig) {\n      // If this is a hot module we fully reload the application, same as Webpack v2.\n      manager.markHardReload();\n    }\n\n    this.reset();\n\n    // Reset parents\n    this.initiators.forEach(tModule => {\n      tModule.resetTranspilation();\n    });\n\n    // There are no other modules calling this module, so we run a function on\n    // all transpilers that clears side effects if there are any. Example:\n    // Remove CSS styles from the dom.\n    manager.preset.getLoaders(this.module, this.query).forEach(t => {\n      if (t.transpiler.cleanModule) {\n        t.transpiler.cleanModule(this.getLoaderContext(manager, t.options));\n      }\n    });\n    manager.removeTranspiledModule(this);\n  }\n\n  reset() {\n    // We don't reset the compilation if itself and its parents if HMR is\n    // accepted for this module. We only mark it as changed so we can properly\n    // handle the update in the evaluation.\n\n    this.childModules.forEach(m => {\n      m.reset();\n    });\n    this.childModules = [];\n    this.emittedAssets = [];\n    this.resetTranspilation();\n\n    this.setIsEntry(false);\n    this.setIsTestFile(false);\n  }\n\n  resetTranspilation() {\n    Array.from(this.transpilationInitiators)\n      .filter(t => t.source)\n      .forEach(dep => {\n        dep.resetTranspilation();\n      });\n\n    this.previousSource = this.source;\n    this.source = null;\n\n    this.errors = [];\n    this.warnings = [];\n\n    Array.from(this.dependencies).forEach(t => {\n      t.initiators.delete(this);\n    });\n    // Don't do it for transpilation dependencies, since those cannot be traced back since we also reset transpilation of them.\n\n    this.dependencies.clear();\n    this.transpilationDependencies.clear();\n    this.asyncDependencies = [];\n  }\n\n  resetCompilation() {\n    if (this.hmrConfig && this.hmrConfig.isHot()) {\n      this.hmrConfig.setDirty(true);\n    } else {\n      if (this.compilation) {\n        this.compilation = null;\n      }\n\n      Array.from(this.initiators)\n        .filter(t => t.compilation)\n        .forEach(dep => {\n          dep.resetCompilation();\n        });\n\n      Array.from(this.transpilationInitiators)\n        .filter(t => t.compilation)\n        .forEach(dep => {\n          dep.resetCompilation();\n        });\n\n      // If this is an entry we want all direct entries to be reset as well.\n      // Entries generally have side effects\n      if (this.isEntry) {\n        Array.from(this.dependencies)\n          .filter(t => t.compilation && t.isEntry)\n          .forEach(dep => {\n            dep.resetCompilation();\n          });\n      }\n    }\n  }\n\n  /**\n   * Determines if this is a module that should be transpiled if updated. If this\n   * is a transpilationDependency that's updated then it should not get transpiled, but the parent should.\n   */\n  shouldTranspile(): boolean {\n    return (\n      !this.source &&\n      !this.isTestFile &&\n      !(this.initiators.size === 0 && this.transpilationInitiators.size > 0)\n    );\n  }\n\n  addDependency(\n    manager: Manager,\n    depPath: string,\n    options: {\n      isAbsolute?: boolean;\n      isEntry?: boolean;\n    } = {},\n    isTranspilationDep: boolean = false\n  ) {\n    if (depPath.startsWith('codesandbox-api')) {\n      return;\n    }\n\n    try {\n      const tModule = manager.resolveTranspiledModule(\n        depPath,\n        options && options.isAbsolute ? '/' : this.module.path\n      );\n\n      if (isTranspilationDep) {\n        this.transpilationDependencies.add(tModule);\n        tModule.transpilationInitiators.add(this);\n      } else {\n        this.dependencies.add(tModule);\n        tModule.initiators.add(this);\n      }\n\n      if (options.isEntry) {\n        tModule.setIsEntry(true);\n      }\n    } catch (e) {\n      if (e.type === 'module-not-found' && e.isDependency) {\n        const { queryPath } = splitQueryFromPath(depPath);\n        this.asyncDependencies.push(\n          manager.downloadDependency(e.path, this, queryPath)\n        );\n      } else {\n        // When a custom file resolver is given to the manager we will try\n        // to resolve using this file resolver. If that fails we will still\n        // mark the dependency as having missing deps.\n        if (manager.fileResolver) {\n          this.asyncDependencies.push(\n            // eslint-disable-next-line\n            new Promise(async resolve => {\n              try {\n                const tModule = await manager.resolveTranspiledModule(\n                  depPath,\n                  options && options.isAbsolute ? '/' : this.module.path,\n                  undefined,\n                  true\n                );\n\n                if (isTranspilationDep) {\n                  this.transpilationDependencies.add(tModule);\n                  tModule.transpilationInitiators.add(this);\n                } else {\n                  this.dependencies.add(tModule);\n                  tModule.initiators.add(this);\n                }\n\n                if (options.isEntry) {\n                  tModule.setIsEntry(true);\n                }\n                resolve(tModule);\n              } catch (err) {\n                if (process.env.NODE_ENV === 'development') {\n                  console.error(\n                    'Problem while trying to fetch file from custom fileResolver'\n                  );\n                  console.error(err);\n                }\n\n                this.hasMissingDependencies = true;\n              }\n            })\n          );\n          return;\n        }\n\n        // Don't throw the error, we want to throw this error during evaluation\n        // so we get the correct line as error\n        // ... Thank you so much for this younger Ives, you saved me here.\n        if (process.env.NODE_ENV === 'development') {\n          console.error(e);\n        }\n\n        this.hasMissingDependencies = true;\n      }\n    }\n  }\n\n  update(module: Module): TranspiledModule {\n    if (this.module.path !== module.path || this.module.code !== module.code) {\n      this.module = module;\n      this.resetTranspilation();\n    }\n\n    return this;\n  }\n\n  createSourceForAsset = (\n    name: string,\n    content: string,\n    sourceMap: SourceMap\n  ) => new ModuleSource(name, content, sourceMap);\n\n  getLoaderContext(\n    manager: Manager,\n    transpilerOptions: Object = {}\n  ): LoaderContext {\n    return {\n      emitWarning: warning => {\n        this.warnings.push(new ModuleWarning(this, warning));\n      },\n      emitError: error => {\n        this.errors.push(new ModuleError(this, error));\n      },\n      emitModule: (\n        path: string,\n        code: string,\n        directoryPath: string = pathUtils.dirname(this.module.path),\n        overwrite = true,\n        isChild = true\n      ) => {\n        const queryPath = path.split('!');\n        // pop() mutates queryPath, queryPath is now just the loaders\n        const modulePath = queryPath.pop();\n\n        const moduleCopy: ChildModule = {\n          path: pathUtils.join(directoryPath, modulePath),\n          parent: this.module,\n          code,\n        };\n\n        // $FlowIssue\n        let transpiledModule: TranspiledModule;\n        if (!overwrite) {\n          try {\n            transpiledModule = manager.getTranspiledModule(\n              moduleCopy,\n              queryPath.join('!')\n            );\n\n            transpiledModule.update(moduleCopy);\n          } catch (e) {\n            /* Nothing is here, just continue */\n          }\n        }\n\n        transpiledModule =\n          transpiledModule ||\n          manager.addTranspiledModule(moduleCopy, queryPath.join('!'));\n\n        if (isChild) {\n          this.childModules.push(transpiledModule);\n        }\n        this.dependencies.add(transpiledModule);\n        transpiledModule.initiators.add(this);\n\n        return transpiledModule;\n      },\n      emitFile: (name: string, content: string, sourceMap: SourceMap) => {\n        this.assets[name] = this.createSourceForAsset(name, content, sourceMap);\n      },\n      // Add an explicit transpilation dependency, this is needed for loaders\n      // that include the source of another file by themselves, we need to\n      // force transpilation to rebuild the file\n      addTranspilationDependency: (depPath: string, options) => {\n        this.addDependency(manager, depPath, options, true);\n      },\n      addDependency: async (depPath: string, options = {}) => {\n        this.addDependency(manager, depPath, options);\n      },\n      addDependenciesInDirectory: (folderPath: string, options = {}) => {\n        const tModules = manager.resolveTranspiledModulesInDirectory(\n          folderPath,\n          options && options.isAbsolute ? '/' : this.module.path\n        );\n\n        tModules.forEach(tModule => {\n          this.dependencies.add(tModule);\n          tModule.initiators.add(this);\n\n          if (options.isEntry) {\n            tModule.setIsEntry(true);\n          }\n        });\n      },\n      resolveTranspiledModule: (depPath: string, options = {}) =>\n        manager.resolveTranspiledModule(\n          depPath,\n          options.isAbsolute ? '/' : this.module.path,\n          options.ignoredExtensions\n        ),\n      resolveTranspiledModuleAsync: (depPath: string, options = {}) =>\n        manager.resolveTranspiledModuleAsync(\n          depPath,\n          options.isAbsolute ? null : this,\n          options.ignoredExtensions\n        ),\n      getModules: (): Array<Module> => manager.getModules(),\n      options: {\n        context: pathUtils.dirname(this.module.path),\n        configurations: manager.configurations,\n        ...transpilerOptions,\n      },\n      webpack: true,\n      sourceMap: true,\n      target: 'web',\n      _module: this,\n      path: this.module.path,\n      template: manager.preset.name,\n      remainingRequests: '', // will be filled during transpilation\n    };\n  }\n\n  /**\n   * Mark the transpiled module as entry (or not), this is needed to let the\n   * cleanup know that this module can have no initiators, but is still required.\n   * @param {*} isEntry\n   */\n  setIsEntry(isEntry: boolean) {\n    this.isEntry = isEntry;\n  }\n\n  /**\n   * Mark if this is a test file. If this is a test file we know that we don't\n   * need to do any refresh or fixing when an error is thrown by the module. It's\n   * not a vital module after all.\n   */\n  setIsTestFile(isTestFile: boolean) {\n    this.isTestFile = isTestFile;\n  }\n\n  /**\n   * Transpile the module, it takes in all loaders from the default loaders +\n   * query string and passes the result from loader to loader. During transpilation\n   * dependencies can be added, these dependencies will be transpiled concurrently\n   * after the initial transpilation finished.\n   * @param {*} manager\n   */\n  async transpile(manager: Manager) {\n\n    // console.log(this);\n\n    if (this.source) {\n      return this;\n    }\n\n    if (manager.transpileJobs[this.getId()]) {\n      // Is already being transpiled\n      return this;\n    }\n\n    // eslint-disable-next-line\n    manager.transpileJobs[this.getId()] = true;\n\n    this.hasMissingDependencies = false;\n\n    // Remove this module from the initiators of old deps, so we can populate a\n    // fresh cache\n    this.dependencies.forEach(tModule => {\n      tModule.initiators.delete(this);\n    });\n    this.transpilationDependencies.forEach(tModule => {\n      tModule.transpilationInitiators.delete(this);\n    });\n    this.childModules.forEach(tModule => {\n      tModule.dispose(manager);\n    });\n    this.dependencies.clear();\n    this.transpilationDependencies.clear();\n    this.childModules.length = 0;\n    this.errors = [];\n    this.warnings = [];\n\n    let code = this.module.code || '';\n    let finalSourceMap = null;\n\n    const { requires } = this.module;\n    if (requires != null && this.query === '') {\n      // We now know that this has been transpiled on the server, so we shortcut\n      const loaderContext = this.getLoaderContext(manager, {});\n      // These are precomputed requires, for npm dependencies\n      requires.forEach(r => {\n        if (r.indexOf('glob:') === 0) {\n          const reGlob = r.replace('glob:', '');\n          loaderContext.addDependenciesInDirectory(reGlob);\n        } else {\n          loaderContext.addDependency(r);\n        }\n      });\n\n      // eslint-disable-next-line\n      code = this.module.code;\n    } else {\n      const transpilers = manager.preset.getLoaders(this.module, this.query);\n\n      for (let i = 0; i < transpilers.length; i += 1) {\n        const transpilerConfig = transpilers[i];\n        const loaderContext = this.getLoaderContext(\n          manager,\n          transpilerConfig.options || {}\n        );\n        loaderContext.remainingRequests = transpilers\n          .slice(i + 1)\n          .map(transpiler => transpiler.transpiler.name)\n          .concat([this.module.path])\n          .join('!');\n\n        try {\n          const startTime = Date.now();\n          const {\n            transpiledCode,\n            sourceMap,\n          } = await transpilerConfig.transpiler.transpile(code, loaderContext); // eslint-disable-line no-await-in-loop\n          debug(`Transpiled '${this.getId()}' in ${Date.now() - startTime}ms`);\n\n          if (this.errors.length) {\n            throw this.errors[0];\n          }\n\n          code = transpiledCode;\n          finalSourceMap = sourceMap;\n        } catch (e) {\n          e.fileName = loaderContext.path;\n          e.tModule = this;\n          this.resetTranspilation();\n\n          // Compilation should also be reset, since the code will be different now\n          // we don't have a transpilation.\n          this.resetCompilation();\n          manager.clearCache();\n\n          throw e;\n        }\n      }\n\n      this.logWarnings();\n    }\n\n    const sourceEqualsCompiled = code === this.module.code;\n    const sourceURL = `//# sourceURL=${location.origin}${this.module.path}${\n      this.query ? `?${this.hash}` : ''\n    }`;\n\n    // Add the source of the file by default, this is important for source mapping\n    // errors back to their origin\n    code = `${code}\\n${sourceURL}`;\n\n    this.source = new ModuleSource(\n      this.module.path,\n      code,\n      finalSourceMap,\n      sourceEqualsCompiled\n    );\n\n    if (\n      this.previousSource &&\n      this.previousSource.compiledCode !== this.source.compiledCode\n    ) {\n      const hasHMR = manager.preset\n        .getLoaders(this.module, this.query)\n        .some(t =>\n          t.transpiler.HMREnabled == null ? true : t.transpiler.HMREnabled\n        );\n\n      if (!hasHMR) {\n        manager.markHardReload();\n      } else {\n        this.resetCompilation();\n      }\n    }\n\n    await Promise.all(\n      this.asyncDependencies.map(async p => {\n        try {\n          const tModule = await p;\n\n          this.dependencies.add(tModule);\n          tModule.initiators.add(this);\n        } catch (e) {\n          /* let this handle at evaluation */\n        }\n      })\n    );\n\n    this.asyncDependencies = [];\n\n    await Promise.all(\n      flattenDeep([\n        ...Array.from(this.transpilationInitiators).map(t =>\n          t.transpile(manager)\n        ),\n        ...Array.from(this.dependencies).map(t => t.transpile(manager)),\n      ])\n    );\n\n    return this;\n  }\n\n  logWarnings = () => {\n    if (this.warnings.length) {\n      this.warnings.forEach(warning => {\n        console.warn(warning.message); // eslint-disable-line no-console\n        dispatch(\n          actions.correction.show(warning.message, {\n            line: warning.lineNumber,\n            column: warning.columnNumber,\n            path: warning.path,\n            source: warning.source,\n            severity: warning.severity || 'warning',\n          })\n        );\n      });\n    }\n  };\n\n  evaluate(\n    manager: Manager,\n    {\n      asUMD = false,\n      force = false,\n      testGlobals = false,\n    }: { asUMD?: boolean; force?: boolean; testGlobals?: boolean } = {},\n    initiator?: TranspiledModule\n  ) {\n    if (this.source == null) {\n      if (this.module.path === '/node_modules/empty/index.js') {\n        return {};\n      }\n\n      if (this.module.path.startsWith('/node_modules')) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\n            `[WARN] Sandpack: loading an untranspiled module: ${\n              this.module.path\n            }`\n          );\n        }\n        // This code is probably required as a dynamic require. Since we can\n        // assume that node_modules dynamic requires are only done for node\n        // utilites we will just set the transpiled code according to how\n        // node handles that.\n\n        let code = this.module.path.endsWith('.json')\n          ? `module.exports = JSON.parse(${JSON.stringify(this.module.code)})`\n          : this.module.code;\n\n        code += `\\n//# sourceURL=${location.origin}${this.module.path}${\n          this.query ? `?${this.hash}` : ''\n        }`;\n\n        this.source = new ModuleSource(this.module.path, code, null);\n\n        if (initiator) {\n          initiator.dependencies.add(this);\n          this.initiators.add(initiator);\n        }\n      } else {\n        // This scenario only happens when we are in an inconsistent state, the quickest way to solve\n        // this state is to just hard reload everything.\n        manager.clearCache();\n\n        throw new Error(`${this.module.path} hasn't been transpiled yet.`);\n      }\n    }\n\n    const localModule = this.module;\n\n    if (manager.webpackHMR) {\n      if (!this.compilation) {\n        const shouldReloadPage = this.hmrConfig\n          ? this.hmrConfig.isDeclined(this.isEntry)\n          : this.isEntry && !this.isTestFile;\n\n        if (shouldReloadPage) {\n          if (manager.isFirstLoad) {\n            // We're in a reload loop! Ignore all caches!\n\n            manager.clearCache();\n            manager.deleteAPICache().then(() => {\n              document.location.reload();\n            });\n          } else {\n            document.location.reload();\n          }\n          return {};\n        }\n      } else if (\n        !this.isTestFile &&\n        (!this.hmrConfig || !this.hmrConfig.isDirty())\n      ) {\n        return this.compilation.exports;\n      }\n    } else if (this.compilation && this.compilation.exports && !this.isEntry) {\n      return this.compilation.exports;\n    }\n\n    if (this.hmrConfig) {\n      /* eslint-disable no-param-reassign */\n      manager.setHmrStatus('dispose');\n      // Call module.hot.dispose handler\n      // https://webpack.js.org/api/hot-module-replacement/#dispose-or-adddisposehandler-\n      this.hmrConfig.callDisposeHandler();\n      manager.setHmrStatus('idle');\n      /* eslint-enable */\n    }\n\n    const hotData = this.hmrConfig ? this.hmrConfig.data : undefined;\n\n    this.compilation = this.compilation || {\n      id: this.getId(),\n      exports: {},\n      hot: {\n        accept: (path: string | Array<string>, cb) => {\n          if (\n            typeof path === 'undefined' ||\n            (typeof path !== 'string' || !Array.isArray(path))\n          ) {\n            // Self mark hot\n            this.hmrConfig = this.hmrConfig || new HMR();\n            if (this.hmrConfig) {\n              const { hmrConfig } = this;\n              hmrConfig.setType('accept');\n              hmrConfig.setSelfAccepted(true);\n            }\n          } else {\n            const paths = typeof path === 'string' ? [path] : path;\n\n            paths.forEach(p => {\n              const tModule = manager.resolveTranspiledModule(\n                p,\n                this.module.path\n              );\n\n              tModule.hmrConfig = tModule.hmrConfig || new HMR();\n              const { hmrConfig } = tModule;\n              hmrConfig.setType('accept');\n              hmrConfig.setAcceptCallback(cb);\n            });\n          }\n          manager.enableWebpackHMR();\n        },\n        decline: (path: string | Array<string>) => {\n          if (typeof path === 'undefined') {\n            this.hmrConfig = this.hmrConfig || new HMR();\n            this.hmrConfig.setType('decline');\n          } else {\n            const paths = typeof path === 'string' ? [path] : path;\n\n            paths.forEach(p => {\n              const tModule = manager.resolveTranspiledModule(\n                p,\n                this.module.path\n              );\n              tModule.hmrConfig = tModule.hmrConfig || new HMR();\n              tModule.hmrConfig.setType('decline');\n            });\n          }\n          manager.enableWebpackHMR();\n        },\n        dispose: (cb: Function) => {\n          this.hmrConfig = this.hmrConfig || new HMR();\n\n          this.hmrConfig.setDisposeHandler(cb);\n        },\n        data: hotData,\n        status: () => manager.hmrStatus,\n        addStatusHandler: manager.addStatusHandler,\n        removeStatusHandler: manager.removeStatusHandler,\n      },\n    };\n    this.compilation.hot.data = hotData;\n\n    const transpiledModule = this;\n\n    try {\n      // eslint-disable-next-line no-inner-declarations\n      function require(path: string) {\n        if (path === '') {\n          throw new Error('Cannot import an empty path');\n        }\n\n        const usedPath = manager.getPresetAliasedPath(path);\n        const bfsModule = BrowserFS.BFSRequire(usedPath);\n\n        if (path === 'os') {\n          const os = require('os-browserify');\n          os.homedir = () => '/home/sandbox';\n          return os;\n        }\n\n        if (bfsModule) {\n          return bfsModule;\n        }\n\n        if (path === 'module') {\n          return class NodeModule {\n            filename = undefined;\n            id = undefined;\n            loaded = false;\n\n            static _resolveFilename(toPath: string, module) {\n              if (module.filename == null) {\n                throw new Error('Module has no filename');\n              }\n\n              const m = manager.resolveModule(toPath, module.filename);\n              return m.path;\n            }\n\n            static _nodeModulePaths() {\n              return [];\n            }\n          };\n        }\n\n        // So it must be a dependency\n        if (path.startsWith('codesandbox-api')) {\n          return resolveDependency(path);\n        }\n\n        const requiredTranspiledModule = manager.resolveTranspiledModule(\n          path,\n          localModule.path\n        );\n\n        // Check if this module has been evaluated before, if so return the exports\n        // of that compilation\n        const cache = requiredTranspiledModule.compilation;\n\n        return cache\n          ? cache.exports\n          : manager.evaluateTranspiledModule(\n              requiredTranspiledModule,\n              transpiledModule,\n              { force, testGlobals }\n            );\n      }\n\n      // @ts-ignore\n      require.resolve = function resolve(path: string) {\n        const foundModule = manager.resolveModule(path, localModule.path);\n\n        return foundModule.path;\n      };\n\n      const globals =\n        this.isTestFile || testGlobals\n          ? manager.testRunner.testGlobals(this.module)\n          : {};\n\n      globals.__dirname = pathUtils.dirname(this.module.path);\n      globals.__filename = this.module.path;\n\n      const exports = evaluate(\n        this.source.compiledCode,\n        require,\n        this.compilation,\n        manager.envVariables,\n        globals,\n        { asUMD }\n      );\n\n      /* eslint-disable no-param-reassign */\n      manager.setHmrStatus('apply');\n      const { hmrConfig } = this;\n      if (hmrConfig && hmrConfig.isHot()) {\n        hmrConfig.setDirty(false);\n        hmrConfig.callAcceptCallback();\n      }\n      manager.setHmrStatus('idle');\n      /* eslint-enable */\n\n      return exports;\n    } catch (e) {\n      e.tModule = e.tModule || transpiledModule;\n\n      this.resetCompilation();\n\n      throw e;\n    }\n  }\n\n  postTranspile(manager: Manager) {\n    if (\n      this.initiators.size === 0 &&\n      this.transpilationInitiators.size === 0 &&\n      !this.isEntry &&\n      !manager.isFirstLoad &&\n      // Don't delete stubbed modules, they are here for a reason, most probably\n      // because they are aliased with a browser field\n      !this.module.stubbed\n    ) {\n      // Remove the module from the transpiler if it's not used anymore\n      debug(`Removing '${this.getId()}' from manager.`);\n      this.dispose(manager);\n    }\n  }\n\n  postEvaluate(manager: Manager) {\n    // Question: do we need to disable this for HMR projects?\n    // For non cacheable transpilers we remove the cached evaluation\n    if (\n      manager.preset\n        .getLoaders(this.module, this.query)\n        .some(t =>\n          t.transpiler.cacheable == null ? false : !t.transpiler.cacheable\n        )\n    ) {\n      debug(`Removing '${this.getId()}' cache as it's not cacheable.`);\n      this.compilation = null;\n    }\n  }\n\n  async serialize(\n    optimizeForSize: boolean = true\n  ): Promise<SerializedTranspiledModule> {\n    const sourceEqualsCompiled =\n      this.source && this.source.sourceEqualsCompiled;\n    const serializableObject: SerializedTranspiledModule = {\n      query: this.query,\n      assets: this.assets,\n      module: this.module,\n      emittedAssets: this.emittedAssets,\n      isEntry: this.isEntry,\n      isTestFile: this.isTestFile,\n\n      sourceEqualsCompiled,\n      childModules: this.childModules.map(m => m.getId()),\n      dependencies: Array.from(this.dependencies).map(m => m.getId()),\n      initiators: Array.from(this.initiators).map(m => m.getId()),\n      transpilationDependencies: Array.from(this.transpilationDependencies).map(\n        m => m.getId()\n      ),\n      transpilationInitiators: Array.from(this.transpilationInitiators).map(m =>\n        m.getId()\n      ),\n      asyncDependencies: await Promise.all(\n        Array.from(this.asyncDependencies).map(m => m.then(x => x.getId()))\n      ),\n      warnings: this.warnings.map(war => war.serialize()),\n    };\n\n    if (!sourceEqualsCompiled || !optimizeForSize) {\n      serializableObject.source = this.source;\n    }\n\n    return serializableObject;\n  }\n\n  async load(\n    data: SerializedTranspiledModule,\n    state: { [id: string]: TranspiledModule },\n    manager: Manager\n  ) {\n    this.query = data.query;\n    this.assets = data.assets;\n    this.module = data.module;\n    this.emittedAssets = data.emittedAssets;\n    this.isEntry = data.isEntry;\n    this.isTestFile = data.isTestFile;\n\n    if (data.sourceEqualsCompiled) {\n      this.source = new ModuleSource(\n        this.module.path,\n        this.module.code,\n        null,\n        true\n      );\n    } else {\n      this.source = data.source;\n    }\n\n    const getModule = (depId: string) => {\n      if (state[depId]) {\n        return state[depId];\n      }\n\n      const [path, ...queryParts] = depId.split(':');\n      const query = queryParts.join(':');\n\n      const { module } = manager.transpiledModules[path];\n      return manager.getTranspiledModule(module, query);\n    };\n\n    const loadModule = (\n      depId: string,\n      initiator = false,\n      transpilation = false\n    ) => {\n      const tModule = getModule(depId);\n\n      if (initiator) {\n        if (transpilation) {\n          tModule.transpilationDependencies.add(this);\n        } else {\n          tModule.dependencies.add(this);\n        }\n      } else if (transpilation) {\n        tModule.transpilationInitiators.add(this);\n      } else {\n        tModule.initiators.add(this);\n      }\n\n      return tModule;\n    };\n\n    data.dependencies.forEach((depId: string) => {\n      this.dependencies.add(loadModule(depId));\n    });\n    data.childModules.forEach((depId: string) => {\n      this.childModules.push(loadModule(depId));\n    });\n    data.initiators.forEach((depId: string) => {\n      this.initiators.add(loadModule(depId, true));\n    });\n    data.transpilationDependencies.forEach((depId: string) => {\n      this.transpilationDependencies.add(loadModule(depId, false, true));\n    });\n    data.transpilationInitiators.forEach((depId: string) => {\n      this.transpilationInitiators.add(loadModule(depId, true, true));\n    });\n    data.asyncDependencies.forEach((depId: string) => {\n      this.asyncDependencies.push(Promise.resolve(loadModule(depId)));\n    });\n\n    this.warnings =\n      data.warnings.map(war => new ModuleWarning(this, war)) || [];\n    this.logWarnings();\n  }\n}\n","export default function getDependencyName(path: string) {\n  const dependencyParts = path.split('/');\n  let dependencyName = dependencyParts.shift();\n\n  if (path.startsWith('@')) {\n    dependencyName += `/${dependencyParts.shift()}`;\n  }\n  if (dependencyParts[0] && /^\\d/.test(dependencyParts[0])) {\n    // Make sure to include the aliased version if it's part of it\n    dependencyName += `/${dependencyParts.shift()}`;\n  }\n\n  return dependencyName;\n}\n","export function packageFilter(p: Object) {\n  if (!p.main && p.module) {\n    // eslint-disable-next-line\n    p.main = p.module;\n  }\n\n  return p;\n}\n","import * as pathUtils from '@codesandbox/common/lib/utils/path';\nimport { CSB_PKG_PROTOCOL } from '@codesandbox/common/lib/utils/ci';\nimport resolve from 'browser-resolve';\nimport DependencyNotFoundError from 'sandbox-hooks/errors/dependency-not-found-error';\n\nimport delay from 'sandbox/utils/delay';\nimport { Module } from '../entities/module';\nimport Manager from '../manager';\n\nimport getDependencyName from '../utils/get-dependency-name';\nimport { packageFilter } from '../utils/resolve-utils';\nimport TranspiledModule from '../transpiled-module';\n\ntype Meta = {\n  [path: string]: any;\n};\ntype Metas = {\n  [dependencyAndVersion: string]: Meta;\n};\n\ntype Packages = {\n  [path: string]: Promise<Module>;\n};\n\ntype MetaFiles = Array<{\n  path: string;\n  type: 'file' | 'directory';\n  files?: MetaFiles;\n}>;\n\nconst metas: Metas = {};\nexport let combinedMetas: Meta = {}; // eslint-disable-line\nconst normalizedMetas: { [key: string]: Meta } = {};\nconst packages: Packages = {};\n\nfunction normalize(files: MetaFiles, fileObject: Meta = {}, rootPath: string) {\n  for (let i = 0; i < files.length; i += 1) {\n    if (files[i].type === 'file') {\n      const absolutePath = rootPath + files[i].path;\n      fileObject[absolutePath] = true; // eslint-disable-line no-param-reassign\n    }\n\n    if (files[i].files) {\n      normalize(files[i].files, fileObject, rootPath);\n    }\n  }\n\n  return fileObject;\n}\n\nfunction normalizeJSDelivr(files: any, fileObject: Meta = {}, rootPath) {\n  for (let i = 0; i < files.length; i += 1) {\n    const absolutePath = pathUtils.join(rootPath, files[i].name);\n    fileObject[absolutePath] = true; // eslint-disable-line no-param-reassign\n  }\n\n  return fileObject;\n}\n\n/**\n * Converts urls like \"https://github.com/user/repo.git\" to \"user/repo\".\n */\nconst convertGitHubURLToVersion = (version: string) => {\n  const result = version.match(/https:\\/\\/github\\.com\\/(.*)$/);\n  if (result && result[1]) {\n    const repo = result[1];\n    return repo.replace(/\\.git$/, '');\n  }\n\n  return version;\n};\n\nconst urlProtocols = {\n  csbGH: {\n    file: async (name: string, version: string, path: string) =>\n      `${version.replace(/\\/_pkg.tgz$/, '')}${path}`,\n    meta: async (name: string, version: string) =>\n      `${version.replace(/\\/\\.pkg.tgz$/, '')}/_csb-meta.json`,\n    normalizeMeta: normalize,\n  },\n  unpkg: {\n    file: async (name: string, version: string, path: string) =>\n      `https://unpkg.com/${name}@${version}${path}`,\n    meta: async (name: string, version: string) =>\n      `https://unpkg.com/${name}@${version}/?meta`,\n    normalizeMeta: normalize,\n  },\n  jsDelivrNPM: {\n    file: async (name: string, version: string, path: string) =>\n      `https://cdn.jsdelivr.net/npm/${name}@${version}${path}`,\n    meta: async (name: string, version: string) =>\n      `https://data.jsdelivr.com/v1/package/npm/${name}@${version}/flat`,\n    normalizeMeta: normalizeJSDelivr,\n  },\n  jsDelivrGH: {\n    file: async (name: string, version: string, path: string) =>\n      `https://cdn.jsdelivr.net/gh/${convertGitHubURLToVersion(\n        version\n      )}${path}`,\n    meta: async (name: string, version: string) => {\n      // First get latest sha from GitHub API\n      const sha = await fetch(\n        `https://api.github.com/repos/${convertGitHubURLToVersion(\n          version\n        )}/commits/master`\n      )\n        .then(x => x.json())\n        .then(x => x.sha);\n\n      return `https://data.jsdelivr.com/v1/package/gh/${convertGitHubURLToVersion(\n        version\n      )}@${sha}/flat`;\n    },\n    normalizeMeta: normalizeJSDelivr,\n  },\n};\n\nasync function fetchWithRetries(url: string, retries = 6): Promise<Response> {\n  const doFetch = () =>\n    window.fetch(url).then(x => {\n      if (x.ok) {\n        return x;\n      }\n\n      throw new Error(`Could not fetch ${url}`);\n    });\n\n  let lastTryTime = 0;\n  for (let i = 0; i < retries; i++) {\n    if (Date.now() - lastTryTime < 3000) {\n      // Ensure that we at least wait 3s before retrying a request to prevent rate limits\n      // eslint-disable-next-line\n      await delay(3000 - (Date.now() - lastTryTime));\n    }\n    try {\n      lastTryTime = Date.now();\n      // eslint-disable-next-line\n      return await doFetch();\n    } catch (e) {\n      console.error(e);\n      if (i === retries - 1) {\n        throw e;\n      }\n    }\n  }\n\n  throw new Error('Could not fetch');\n}\n\nexport function setCombinedMetas(givenCombinedMetas: Meta) {\n  combinedMetas = givenCombinedMetas;\n}\n\nconst getFetchProtocol = (depVersion: string, useFallback = false) => {\n  const isDraftProtocol = CSB_PKG_PROTOCOL.test(depVersion);\n\n  if (isDraftProtocol) {\n    return urlProtocols.csbGH;\n  }\n\n  const isGitHub = /\\//.test(depVersion);\n\n  if (isGitHub) {\n    return urlProtocols.jsDelivrGH;\n  }\n\n  return useFallback ? urlProtocols.jsDelivrNPM : urlProtocols.unpkg;\n};\n\n// Strips the version of a path, eg. test/1.3.0 -> test\nconst ALIAS_REGEX = /\\/\\d*\\.\\d*\\.\\d*.*?(\\/|$)/;\n\nasync function getMeta(\n  name: string,\n  packageJSONPath: string | null,\n  version: string\n) {\n  const nameWithoutAlias = name.replace(ALIAS_REGEX, '');\n  const id = `${packageJSONPath || name}@${version}`;\n  if (metas[id]) {\n    return metas[id];\n  }\n\n  const protocol = getFetchProtocol(version);\n\n  metas[id] = protocol\n    .meta(nameWithoutAlias, version)\n    .then(fetchWithRetries)\n    .then(x => x.json());\n\n  return metas[id];\n}\n\nexport async function downloadDependency(\n  depName: string,\n  depVersion: string,\n  path: string\n): Promise<Module> {\n  const id = depName + depVersion + path;\n  if (packages[id]) {\n    return packages[id];\n  }\n\n  const relativePath = path\n    .replace(\n      new RegExp(\n        `.*${pathUtils.join('/node_modules', depName)}`.replace('/', '\\\\/')\n      ),\n      ''\n    )\n    .replace(/#/g, '%23');\n\n  const nameWithoutAlias = depName.replace(ALIAS_REGEX, '');\n  const protocol = getFetchProtocol(depVersion);\n\n  packages[id] = protocol\n    .file(nameWithoutAlias, depVersion, relativePath)\n    .then(fetchWithRetries)\n    .then(x => x.text())\n    .catch(async () => {\n      const fallbackProtocol = getFetchProtocol(depVersion, true);\n      const fallbackUrl = await fallbackProtocol.file(\n        nameWithoutAlias,\n        depVersion,\n        relativePath\n      );\n\n      return fetchWithRetries(fallbackUrl).then(x => x.text());\n    })\n    .then(x => ({\n      path,\n      code: x,\n      downloaded: true,\n    }));\n\n  return packages[id];\n}\n\nfunction resolvePath(\n  path: string,\n  currentTModule: TranspiledModule,\n  manager: Manager,\n  defaultExtensions: Array<string> = ['js', 'jsx', 'json'],\n  meta = {}\n): Promise<string> {\n  const currentPath = currentTModule.module.path;\n\n  const isFile = (p, c, cb) => {\n    const callback = cb || c;\n\n    callback(null, Boolean(manager.transpiledModules[p]) || Boolean(meta[p]));\n  };\n\n  return new Promise((res, reject) => {\n    resolve(\n      path,\n      {\n        filename: currentPath,\n        extensions: defaultExtensions.map(ext => '.' + ext),\n        packageFilter,\n        moduleDirectory: [\n          'node_modules',\n          manager.envVariables.NODE_PATH,\n        ].filter(Boolean),\n        isFile,\n        readFile: async (p, c, cb) => {\n          const callback = cb || c;\n\n          try {\n            const tModule = manager.resolveTranspiledModule(p, '/');\n            tModule.initiators.add(currentTModule);\n            currentTModule.dependencies.add(tModule);\n            return callback(null, tModule.module.code);\n          } catch (e) {\n            const depPath = p.replace(/.*\\/node_modules\\//, '');\n            const depName = getDependencyName(depPath);\n\n            // To prevent infinite loops we keep track of which dependencies have been requested before.\n            if (!manager.transpiledModules[p] && !meta[p]) {\n              const err = new Error('Could not find ' + p);\n              // @ts-ignore\n              err.code = 'ENOENT';\n\n              return callback(err);\n            }\n\n            // eslint-disable-next-line\n            const subDepVersionVersionInfo = await findDependencyVersion(\n              currentTModule,\n              manager,\n              defaultExtensions,\n              depName\n            );\n\n            if (subDepVersionVersionInfo) {\n              const { version: subDepVersion } = subDepVersionVersionInfo;\n              try {\n                const module = await downloadDependency(\n                  depName,\n                  subDepVersion,\n                  p\n                );\n\n                if (module) {\n                  manager.addModule(module);\n                  const tModule = manager.addTranspiledModule(module, '');\n\n                  tModule.initiators.add(currentTModule);\n                  currentTModule.dependencies.add(tModule);\n\n                  callback(null, module.code);\n                  return null;\n                }\n              } catch (er) {\n                // Let it throw the error\n              }\n            }\n\n            return callback(e);\n          }\n        },\n      },\n      (err, resolvedPath) => {\n        if (err) {\n          return reject(err);\n        }\n\n        return res(resolvedPath);\n      }\n    );\n  });\n}\n\ntype DependencyVersionResult =\n  | {\n      version: string;\n      packageJSONPath: string;\n    }\n  | {\n      version: string;\n      packageJSONPath: null;\n    }\n  | {\n      version: string;\n      name: string | null;\n      packageJSONPath: null;\n    };\n\nasync function findDependencyVersion(\n  currentTModule: TranspiledModule,\n  manager: Manager,\n  defaultExtensions: Array<string> = ['js', 'jsx', 'json'],\n  dependencyName: string\n): Promise<DependencyVersionResult | null> {\n  const { manifest } = manager;\n\n  try {\n    const foundPackageJSONPath = await resolvePath(\n      pathUtils.join(dependencyName, 'package.json'),\n      currentTModule,\n      manager,\n      defaultExtensions\n    );\n\n    // If the dependency is in the root we get it from the manifest, as the manifest\n    // contains all the versions that we really wanted to resolve in the first place.\n    // An example of this is csb.dev packages, the package.json version doesn't say the\n    // actual version, but the semver it relates to. In this case we really want to have\n    // the actual url\n    if (\n      foundPackageJSONPath ===\n      pathUtils.join('/node_modules', dependencyName, 'package.json')\n    ) {\n      const rootDependency = manifest.dependencies.find(\n        dep => dep.name === dependencyName\n      );\n      if (rootDependency) {\n        return {\n          packageJSONPath: foundPackageJSONPath,\n          version: rootDependency.version,\n        };\n      }\n    }\n\n    const packageJSON =\n      manager.transpiledModules[foundPackageJSONPath] &&\n      manager.transpiledModules[foundPackageJSONPath].module.code;\n    const { version } = JSON.parse(packageJSON);\n\n    if (packageJSON !== '//empty.js') {\n      return { packageJSONPath: foundPackageJSONPath, version };\n    }\n  } catch (e) {\n    /* do nothing */\n  }\n\n  let version = null;\n\n  if (manifest.dependencyDependencies[dependencyName]) {\n    version = manifest.dependencyDependencies[dependencyName].resolved;\n  } else {\n    const dep = manifest.dependencies.find(m => m.name === dependencyName);\n\n    if (dep) {\n      // eslint-disable-next-line\n      version = dep.version;\n    }\n  }\n\n  if (version) {\n    return { packageJSONPath: null, version };\n  }\n\n  return null;\n}\n\nexport default async function fetchModule(\n  path: string,\n  currentTModule: TranspiledModule,\n  manager: Manager,\n  defaultExtensions: Array<string> = ['js', 'jsx', 'json']\n): Promise<Module> {\n  const currentPath = currentTModule.module.path;\n  // Get the last part of the path as dependency name for paths like\n  // instantsearch.js/node_modules/lodash/sum.js\n  // In this case we want to get the lodash dependency info\n  const dependencyName = getDependencyName(\n    path.replace(/.*\\/node_modules\\//, '')\n  );\n\n  const versionInfo = await findDependencyVersion(\n    currentTModule,\n    manager,\n    defaultExtensions,\n    dependencyName\n  );\n\n  if (versionInfo === null) {\n    throw new DependencyNotFoundError(path);\n  }\n\n  const { packageJSONPath, version } = versionInfo;\n\n  const meta = await getMeta(dependencyName, packageJSONPath, version);\n\n  const normalizeFunction = getFetchProtocol(version).normalizeMeta;\n  const rootPath = packageJSONPath\n    ? pathUtils.dirname(packageJSONPath)\n    : pathUtils.join('/node_modules', dependencyName);\n  const normalizedCacheKey = dependencyName + rootPath;\n  const normalizedMeta =\n    normalizedMetas[normalizedCacheKey] ||\n    normalizeFunction(meta.files, {}, rootPath);\n  normalizedMetas[normalizedCacheKey] = normalizedMeta;\n  combinedMetas = { ...combinedMetas, ...normalizedMeta };\n\n  const foundPath = await resolvePath(\n    path,\n    currentTModule,\n    manager,\n    defaultExtensions,\n    normalizedMeta\n  );\n\n  if (foundPath === '//empty.js') {\n    // Mark the path of the module as the real module, because during evaluation\n    // we don't have meta to find which modules are browser modules and we still\n    // need to return an empty module for browser modules.\n    const isDependency = /^(\\w|@\\w)/.test(path);\n\n    return {\n      path: isDependency\n        ? pathUtils.join('/node_modules', path)\n        : pathUtils.join(currentPath, path),\n      code: 'module.exports = {};',\n      requires: [],\n      stubbed: true,\n    };\n  }\n\n  return downloadDependency(dependencyName, version, foundPath);\n}\n","export default {\n  assert: 'assert/assert.js',\n  buffer: 'buffer/index.js',\n  child_process: null,\n  cluster: null,\n  console: 'console-browserify/index.js',\n  constants: 'constants-browserify/constants.json',\n  crypto: 'crypto-browserify/index.js',\n  dgram: null,\n  dns: null,\n  domain: 'domain-browser/index.js',\n  events: 'events/events.js',\n  fs: null,\n  http: 'stream-http/index.js',\n  https: 'https-browserify/index.js',\n  module: null,\n  net: null,\n  os: 'os-browserify/browser.js',\n  path: 'path-browserify/index.js',\n  punycode: 'punycode/punycode.js',\n  process: 'process/browser.js',\n  querystring: 'querystring-es3/index.js',\n  readline: null,\n  repl: null,\n  stream: 'stream-browserify/index.js',\n  _stream_duplex: 'readable-stream/duplex.js',\n  _stream_passthrough: 'readable-stream/passthrough.js',\n  _stream_readable: 'readable-stream/readable.js',\n  _stream_transform: 'readable-stream/transform.js',\n  _stream_writable: 'readable-stream/writable.js',\n  sys: 'util/util.js',\n  timers: 'timers-browserify/main.js',\n  tls: null,\n  tty: 'tty-browserify/index.js',\n  url: 'url/url.js',\n  util: 'util/util.js',\n  vm: 'vm-browserify/index.js',\n  zlib: 'browserify-zlib/src/index.js',\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/* eslint-disable no-use-before-define, no-restricted-syntax, no-await-in-loop */\n\nimport { getState, dispatch } from 'jest-circus/build/state';\nimport {\n  callAsyncFn,\n  getAllHooksForDescribe,\n  getEachHooksForTest,\n  makeTestResults,\n} from 'jest-circus/build/utils';\nimport { SnapshotState } from 'jest-snapshot';\nimport expect from 'jest-matchers';\n\nimport {\n  TestEntry,\n  TestResults,\n  TestContext,\n  Hook,\n  DescribeBlock,\n} from './types';\n\nconst currentDescribeBlocks = [];\n\nconst run = async (): Promise<TestResults> => {\n  const { rootDescribeBlock } = getState();\n  currentDescribeBlocks.length = 0;\n  dispatch({ name: 'run_start' });\n  await _runTestsForDescribeBlock(rootDescribeBlock);\n  dispatch({ name: 'run_finish' });\n  return makeTestResults(getState().rootDescribeBlock);\n};\n\nconst _setGlobalState = (test: TestEntry) => {\n  const { testPath: currentTestPath } = expect.getState();\n  const [testPath, testName] = test.name.split(':#:');\n\n  // remove root block\n  const [, ...describeBlocks] = [...currentDescribeBlocks];\n  const describeName =\n    describeBlocks.length > 0 ? describeBlocks.join(' ') + ' ' : '';\n\n  const currentTestName = describeName + testName;\n  const update: {\n    // @ts-ignore\n    snapshotState?: SnapshotState;\n    testPath?: string;\n    currentTestName: string;\n  } = { currentTestName };\n  if (testPath == null || currentTestPath !== testPath) {\n    // @ts-ignore\n    update.snapshotState = new SnapshotState(testPath, {\n      expand: true,\n      updateSnapshot: 'none',\n    });\n    update.testPath = testPath;\n  }\n\n  expect.setState(update);\n};\n\nconst _runTestsForDescribeBlock = async (describeBlock: DescribeBlock) => {\n  currentDescribeBlocks.push(describeBlock.name);\n  dispatch({ describeBlock, name: 'run_describe_start' });\n  const { beforeAll, afterAll } = getAllHooksForDescribe(describeBlock);\n\n  for (const hook of beforeAll) {\n    _callHook(hook);\n  }\n  for (const test of describeBlock.tests) {\n    await _runTest(test);\n  }\n  for (const child of describeBlock.children) {\n    await _runTestsForDescribeBlock(child);\n  }\n\n  for (const hook of afterAll) {\n    _callHook(hook);\n  }\n  dispatch({ describeBlock, name: 'run_describe_finish' });\n  currentDescribeBlocks.pop();\n};\n\nconst _runTest = async (test: TestEntry): Promise<void> => {\n  const testContext = Object.create(null);\n\n  const isSkipped =\n    test.mode === 'skip' ||\n    (getState().hasFocusedTests && test.mode !== 'only');\n\n  if (isSkipped) {\n    dispatch({ name: 'test_skip', test });\n    return;\n  }\n\n  const { afterEach, beforeEach } = getEachHooksForTest(test);\n\n  for (const hook of beforeEach) {\n    await _callHook(hook, testContext);\n  }\n\n  await _callTest(test, testContext);\n\n  for (const hook of afterEach) {\n    await _callHook(hook, testContext);\n  }\n};\n\nconst _callHook = (hook: Hook, testContext?: TestContext): Promise<any> => {\n  dispatch({ hook, name: 'hook_start' });\n  const { testTimeout: timeout } = getState();\n  return callAsyncFn(hook.fn, testContext, { isHook: true, timeout })\n    .then(() => dispatch({ hook, name: 'hook_success' }))\n    .catch(error => dispatch({ error, hook, name: 'hook_failure' }));\n};\n\nconst _callTest = async (\n  test: TestEntry,\n  testContext: TestContext\n): Promise<any> => {\n  dispatch({ name: 'test_start', test });\n  const { testTimeout: timeout } = getState();\n\n  if (!test.fn) {\n    throw Error(`Tests with no 'fn' should have 'mode' set to 'skipped'`);\n  }\n  _setGlobalState(test);\n\n  return callAsyncFn(test.fn, testContext, { isHook: false, timeout })\n    .then(() => dispatch({ name: 'test_success', test }))\n    .catch(error => dispatch({ error, name: 'test_failure', test }));\n};\n\nexport default run;\n","import { dispatch, actions, listen } from 'codesandbox-api';\nimport { react, reactTs } from '@codesandbox/common/lib/templates';\nimport { messages } from '@codesandbox/common/lib/utils/jest-lite';\n\nimport expect from 'jest-matchers';\nimport jestMock from 'jest-mock';\nimport jestTestHooks from 'jest-circus';\n\nimport { makeDescribe } from 'jest-circus/build/utils';\nimport path from 'path';\nimport { bind as bindEach } from 'jest-each';\n\nimport {\n  addSerializer,\n  toMatchSnapshot,\n  toThrowErrorMatchingSnapshot,\n} from 'jest-snapshot';\n\nimport {\n  addEventHandler,\n  setState,\n  dispatch as dispatchJest,\n  ROOT_DESCRIBE_BLOCK_NAME,\n} from 'jest-circus/build/state';\nimport { parse } from 'sandbox-hooks/react-error-overlay/utils/parser';\nimport { map } from 'sandbox-hooks/react-error-overlay/utils/mapper';\n\nimport run from './run-circus';\n\nimport Manager from '../manager';\nimport { Module } from '../entities/module';\nimport { Event, TestEntry, DescribeBlock, TestName, TestFn } from './types';\n\nexport { messages };\n\nexpect.extend({\n  toMatchSnapshot,\n  toThrowErrorMatchingSnapshot,\n});\nexpect.addSnapshotSerializer = addSerializer;\n\nfunction addScript(src: string) {\n  return new Promise((resolve, reject) => {\n    const s = document.createElement('script');\n    s.setAttribute('src', src);\n    document.body.appendChild(s);\n    s.onload = () => {\n      resolve();\n    };\n    s.onerror = error => {\n      reject(error);\n    };\n  });\n}\n\nlet jsdomPromise = null;\n/**\n * Load JSDOM while the sandbox loads. Before we run a test we make sure that this has been loaded.\n */\nconst getJSDOM = () => {\n  let jsdomPath = '/static/js/jsdom-4.0.0.min.js';\n  if (\n    navigator.userAgent.indexOf('jsdom') !== -1 &&\n    process.env.NODE_ENV === 'test'\n  ) {\n    jsdomPath = 'file://' + path.resolve('./static/js/jsdom-4.0.0.min.js');\n  }\n\n  jsdomPromise = jsdomPromise || addScript(jsdomPath);\n\n  return jsdomPromise;\n};\n\nfunction resetTestState() {\n  const ROOT_DESCRIBE_BLOCK = makeDescribe(ROOT_DESCRIBE_BLOCK_NAME);\n  const INITIAL_STATE = {\n    currentDescribeBlock: ROOT_DESCRIBE_BLOCK,\n    expand: undefined,\n    hasFocusedTests: false,\n    rootDescribeBlock: ROOT_DESCRIBE_BLOCK,\n    testTimeout: 5000,\n  };\n\n  expect.setState({\n    assertionCalls: 0,\n    expectedAssertionsNumber: null,\n    isExpectingAssertions: false,\n    suppressedErrors: [],\n    testPath: null,\n    currentTestName: null,\n    snapshotState: null,\n  });\n\n  setState(INITIAL_STATE);\n}\n\nexport default class TestRunner {\n  tests: Array<Module>;\n  ranTests: Set<string>;\n  manager: Manager;\n  watching: boolean = true;\n\n  LOCALHOST_URL: string = 'http://localhost';\n\n  dom: any;\n\n  constructor(manager: Manager) {\n    this.manager = manager;\n    this.ranTests = new Set();\n\n    addEventHandler(this.handleMessage);\n    listen(this.handleCodeSandboxMessage);\n\n    this.sendMessage(messages.INITIALIZE);\n  }\n\n  testGlobals(module: Module) {\n    const test = (testName: TestName, fn?: TestFn) =>\n      dispatchJest({\n        fn,\n        name: 'add_test',\n        testName: `${module.path}:#:${testName}`,\n      });\n    const skip = (testName: TestName, fn?: TestFn) =>\n      dispatchJest({\n        fn,\n        mode: 'skip',\n        name: 'add_test',\n        testName: `${module.path}:#:${testName}`,\n      });\n    const only = (testName: TestName, fn: TestFn) => {\n      dispatchJest({\n        fn,\n        mode: 'only',\n        name: 'add_test',\n        testName: `${module.path}:#:${testName}`,\n      });\n    };\n    test.each = bindEach(test);\n    skip.each = bindEach(skip);\n    only.each = bindEach(only);\n\n    test.only = only;\n    test.skip = skip;\n\n    const it = test;\n    const { window: jsdomWindow } = this.dom;\n    const { document: jsdomDocument } = jsdomWindow;\n\n    // Set the modules that are not set on JSDOM\n    jsdomWindow.Date = Date;\n    jsdomWindow.fetch = fetch;\n\n    return {\n      ...jestTestHooks,\n      expect,\n      jest: jestMock,\n      test,\n      it,\n      document: jsdomDocument,\n      window: jsdomWindow,\n      global: jsdomWindow,\n    };\n  }\n\n  static isTest(testPath: string) {\n    const endsWith = [\n      '.test.js',\n      '.test.ts',\n      '.test.tsx',\n      '.spec.js',\n      '.spec.ts',\n      '.spec.tsx',\n    ];\n\n    if (\n      testPath.includes('__tests__') &&\n      (testPath.endsWith('.js') ||\n        testPath.endsWith('.ts') ||\n        testPath.endsWith('.tsx'))\n    ) {\n      return true;\n    }\n\n    return endsWith.filter(ext => testPath.endsWith(ext)).length > 0;\n  }\n\n  findTests(modules: { [path: string]: Module }) {\n    if (this.tests) {\n      this.tests.forEach(t => {\n        if (!modules[t.path]) {\n          // A removed test\n          this.sendMessage(messages.REMOVE_FILE, { path: t.path });\n        }\n      });\n    }\n    this.tests = Object.keys(modules)\n      .filter(TestRunner.isTest)\n      .map(p => modules[p]);\n\n    return this.tests;\n  }\n\n  /* istanbul ignore next */\n  async transpileTests() {\n    return Promise.all(\n      (this.tests || []).map(async t => {\n        const tModule = this.manager.getTranspiledModule(t, '');\n        if (\n          tModule.source &&\n          tModule.compilation &&\n          this.ranTests.has(t.path)\n        ) {\n          // We cached this test, don't run it again. We only run tests of changed\n          // files\n          return null;\n        }\n\n        this.sendMessage(messages.ADD_FILE, { path: t.path });\n        try {\n          await this.manager.transpileModules(t, true);\n\n          if (!tModule.source) {\n            this.ranTests.delete(t.path);\n          }\n\n          return t;\n        } catch (e) {\n          const error = await this.errorToCodeSandbox(e);\n          this.ranTests.delete(t.path);\n          this.sendMessage(messages.FILE_ERROR, { path: t.path, error });\n\n          return null;\n        }\n      })\n    );\n  }\n\n  sendMessage(event: string, message: any = {}) {\n    dispatch({\n      type: 'test',\n      event,\n      ...message,\n    });\n  }\n\n  async initJSDOM() {\n    await getJSDOM();\n    const { JSDOM } = (window as any).JSDOM;\n    let url = document.location.origin;\n    if (url === 'null') {\n      url = this.LOCALHOST_URL;\n    }\n\n    this.dom = new JSDOM('<!DOCTYPE html>', {\n      pretendToBeVisual: true,\n      url,\n    });\n  }\n\n  /* istanbul ignore next */\n  async runTests(force: boolean = false) {\n    if (!this.watching && !force) {\n      return;\n    }\n\n    await this.initJSDOM();\n\n    this.manager.clearCompiledCache();\n\n    this.sendMessage(messages.TOTAL_TEST_START);\n\n    let testModules: Module[] = [];\n\n    try {\n      if (this.manager.preset.name === react.name) {\n        try {\n          testModules = [\n            this.manager.resolveModule('./src/setupTests.js', '/'),\n          ];\n        } catch (e) {\n          testModules = [\n            this.manager.resolveModule('./src/setupTests.ts', '/'),\n          ];\n        }\n      } else if (this.manager.preset.name === reactTs.name) {\n        testModules = [this.manager.resolveModule('./src/setupTests.ts', '/')];\n      } else if (this.manager.configurations.package) {\n        const { parsed } = this.manager.configurations.package;\n\n        if (parsed && parsed.jest && parsed.jest.setupFilesAfterEnv) {\n          testModules = parsed.jest.setupFilesAfterEnv.map(\n            (setupPath: string) => this.manager.resolveModule(setupPath, '/')\n          );\n        }\n      }\n    } catch (e) {\n      /* ignore */\n    }\n\n    if (testModules.length) {\n      await Promise.all(\n        testModules.map(testSetup =>\n          this.manager.transpileModules(testSetup, true)\n        )\n      );\n    }\n\n    if (this.manager.modules) {\n      this.findTests(this.manager.modules);\n    }\n\n    // $FlowIssue\n    const tests: Array<Module> = (await this.transpileTests()).filter(t => t);\n\n    resetTestState();\n\n    await Promise.all(\n      tests.map(async t => {\n        dispatch(actions.error.clear(t.path, 'jest'));\n\n        try {\n          if (testModules.length) {\n            testModules.forEach(module => {\n              this.manager.evaluateModule(module, {\n                force: true,\n                testGlobals: true,\n              });\n            });\n          }\n\n          this.manager.evaluateModule(t, {\n            force: true,\n            testGlobals: true,\n          });\n          this.ranTests.add(t.path);\n        } catch (e) {\n          this.ranTests.delete(t.path);\n          const error = await this.errorToCodeSandbox(e);\n          this.sendMessage(messages.FILE_ERROR, { path: t.path, error });\n        }\n      })\n    );\n\n    await run();\n\n    setTimeout(() => {\n      this.sendMessage(messages.TOTAL_TEST_END);\n    });\n  }\n\n  async errorToCodeSandbox(\n    error: Error & {\n      matcherResult?: boolean;\n    }\n  ) {\n    const parsedError = parse(error);\n    const mappedErrors = await map(parsedError);\n\n    return {\n      name: error.name,\n      message: error.message,\n      stack: error.stack,\n      matcherResult: Boolean(error.matcherResult),\n      mappedErrors,\n    };\n  }\n\n  getDescribeBlocks(test: TestEntry) {\n    let t: TestEntry | DescribeBlock | undefined = test;\n    const blocks = [];\n\n    while (t.parent != null) {\n      blocks.push(t.parent.name);\n\n      t = t.parent;\n    }\n\n    // Remove ROOT_DESCRIBE_BLOCK\n    blocks.pop();\n\n    return blocks.reverse();\n  }\n\n  async testToCodeSandbox(test: TestEntry) {\n    const [testPath, name] = test.name.split(':#:');\n\n    const errors = await Promise.all(test.errors.map(this.errorToCodeSandbox));\n\n    return {\n      name,\n      path: testPath,\n      duration: test.duration,\n      status: test.status || 'running',\n      errors,\n      blocks: this.getDescribeBlocks(test),\n    };\n  }\n\n  handleMessage = async (message: Event) => {\n    switch (message.name) {\n      case 'test_start': {\n        const test = await this.testToCodeSandbox(message.test);\n\n        return this.sendMessage(messages.TEST_START, {\n          test,\n        });\n      }\n      case 'test_failure':\n      case 'test_success': {\n        const { suppressedErrors } = expect.getState();\n\n        if (suppressedErrors && suppressedErrors.length) {\n          /* eslint-disable no-param-reassign */\n          message.test.errors = suppressedErrors;\n          message.test.status = 'fail';\n          /* eslint-enable no-param-reassign */\n          expect.setState({ suppressedErrors: [] });\n        }\n        const test = await this.testToCodeSandbox(message.test);\n\n        if (test.errors) {\n          test.errors.forEach(err => {\n            if (err.mappedErrors) {\n              const { mappedErrors } = err;\n              const mappedError = mappedErrors[0];\n\n              dispatch(\n                actions.error.show(err.name || 'Jest Error', err.message, {\n                  line: mappedError._originalLineNumber,\n                  column: mappedError._originalColumnNumber,\n                  path: test.path,\n                  payload: {},\n                  source: 'jest',\n                })\n              );\n            }\n          });\n        }\n        try {\n          return this.sendMessage(messages.TEST_END, {\n            test,\n          });\n        } catch (e) {\n          const error = await this.errorToCodeSandbox(e);\n          return this.sendMessage(messages.FILE_ERROR, {\n            path: test.path,\n            error,\n          });\n        }\n      }\n      case 'start_describe_definition': {\n        return this.sendMessage(messages.DESCRIBE_START, {\n          blockName: message.blockName,\n        });\n      }\n      case 'finish_describe_definition': {\n        return this.sendMessage(messages.DESCRIBE_END);\n      }\n      case 'add_test': {\n        const [testPath, testName] = message.testName.split(':#:');\n        return this.sendMessage(messages.ADD_TEST, {\n          testName,\n          path: testPath,\n        });\n      }\n      default: {\n        return null;\n      }\n    }\n  };\n\n  handleCodeSandboxMessage = (message: any) => {\n    switch (message.type) {\n      case 'set-test-watching':\n        this.watching = message.watching;\n        if (message.watching === true) {\n          this.ranTests.clear();\n          this.runTests(true);\n        }\n        break;\n      case 'run-all-tests':\n        this.ranTests.clear();\n        this.runTests(true);\n        break;\n      case 'run-tests': {\n        const testPath = message.path;\n\n        this.ranTests.delete(testPath);\n        this.runTests();\n        break;\n      }\n    }\n  };\n\n  // We stub this, because old versions of CodeSandbox still needs this\n  reportError = () => {};\n}\n","export default (dependencies: Object) =>\n  Object.keys(dependencies)\n    .sort()\n    .map(name => encodeURIComponent(`${name}@${dependencies[name]}`))\n    .join('+');\n","// Responsible for consuming and syncing with the server/local cache\nimport localforage from 'localforage';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport Manager from './manager';\n\nimport { SCRIPT_VERSION } from '..';\n\nconst debug = _debug('cs:compiler:cache');\n\nconst host = process.env.CODESANDBOX_HOST;\n\nconst MAX_CACHE_SIZE = 1024 * 1024 * 7;\nlet APICacheUsed = false;\n\ntry {\n  localforage.config({\n    name: 'CodeSandboxApp',\n    storeName: 'sandboxes', // Should be alphanumeric, with underscores.\n    description:\n      'Cached transpilations of the sandboxes, for faster initialization time.',\n  });\n\n  // Prewarm store\n  localforage.keys();\n} catch (e) {\n  console.warn('Problems initializing IndexedDB store.');\n  console.warn(e);\n}\n\nfunction shouldSaveOnlineCache(firstRun: boolean, changes: number) {\n  if (!firstRun || changes > 0) {\n    return false;\n  }\n\n  if (!(window as any).__SANDBOX_DATA__) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function clearIndexedDBCache() {\n  return localforage.clear();\n}\n\nexport async function saveCache(\n  sandboxId: string,\n  managerModuleToTranspile: any,\n  manager: Manager,\n  changes: number,\n  firstRun: boolean\n) {\n  if (!sandboxId) {\n    return Promise.resolve(false);\n  }\n\n  const managerState = {\n    ...(await manager.serialize({\n      entryPath: managerModuleToTranspile\n        ? managerModuleToTranspile.path\n        : null,\n      optimizeForSize: true,\n    })),\n  };\n\n  try {\n    if (process.env.NODE_ENV === 'development') {\n      debug(\n        'Saving cache of ' +\n          (JSON.stringify(managerState).length / 1024).toFixed(2) +\n          'kb to indexedDB'\n      );\n    }\n    await localforage.setItem(manager.id, managerState);\n  } catch (e) {\n    if (process.env.NODE_ENV === 'development') {\n      console.error(e);\n    }\n    manager.clearCache();\n  }\n\n  if (shouldSaveOnlineCache(firstRun, changes) && SCRIPT_VERSION) {\n    const stringifiedManagerState = JSON.stringify(managerState);\n\n    if (stringifiedManagerState.length > MAX_CACHE_SIZE) {\n      return Promise.resolve(false);\n    }\n\n    debug(\n      'Saving cache of ' +\n        (stringifiedManagerState.length / 1024).toFixed(2) +\n        'kb to CodeSandbox API'\n    );\n\n    return window\n      .fetch(`${host}/api/v1/sandboxes/${sandboxId}/cache`, {\n        method: 'POST',\n        body: JSON.stringify({\n          version: SCRIPT_VERSION,\n          data: stringifiedManagerState,\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n      .then(x => x.json())\n      .catch(e => {\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Something went wrong while saving cache.');\n          console.error(e);\n        }\n      });\n  }\n\n  return Promise.resolve(false);\n}\n\nexport function deleteAPICache(sandboxId: string): Promise<any> {\n  if (APICacheUsed) {\n    debug('Deleting cache of API');\n    return window\n      .fetch(`${host}/api/v1/sandboxes/${sandboxId}/cache`, {\n        method: 'DELETE',\n        body: JSON.stringify({\n          version: SCRIPT_VERSION,\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n      .then(x => x.json())\n      .catch(e => {\n        console.error('Something went wrong while deleting cache.');\n        console.error(e);\n      });\n  }\n\n  return Promise.resolve(false);\n}\n\nfunction findCacheToUse(cache1, cache2) {\n  if (!cache1 && !cache2) {\n    return null;\n  }\n\n  if (cache1 && !cache2) {\n    return cache1;\n  }\n\n  if (cache2 && !cache1) {\n    return cache2;\n  }\n\n  return cache2.timestamp > cache1.timestamp ? cache2 : cache1;\n}\n\nexport function ignoreNextCache() {\n  try {\n    localStorage.setItem('ignoreCache', 'true');\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\nexport async function consumeCache(manager: Manager) {\n  try {\n    const shouldIgnoreCache = localStorage.getItem('ignoreCache');\n    if (shouldIgnoreCache) {\n      localStorage.removeItem('ignoreCache');\n\n      return false;\n    }\n\n    const cacheData = (window as any).__SANDBOX_DATA__;\n    const localData = await localforage.getItem(manager.id);\n\n    const cache = findCacheToUse(cacheData && cacheData.data, localData);\n    if (cache) {\n      const version = SCRIPT_VERSION;\n\n      if (cache.version === version) {\n        if (cache === localData) {\n          APICacheUsed = false;\n        } else {\n          APICacheUsed = true;\n        }\n\n        debug(\n          `Loading cache from ${cache === localData ? 'localStorage' : 'API'}`,\n          cache\n        );\n\n        await manager.load(cache);\n\n        return true;\n      }\n    }\n\n    return false;\n  } catch (e) {\n    console.warn('Problems consuming cache');\n    console.warn(e);\n\n    return false;\n  }\n}\n","import { flattenDeep, uniq, values } from 'lodash-es';\nimport { Protocol } from 'codesandbox-api';\nimport resolve from 'browser-resolve';\n\nimport * as pathUtils from '@codesandbox/common/lib/utils/path';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { getGlobal } from '@codesandbox/common/lib/utils/global';\nimport { ParsedConfigurationFiles } from '@codesandbox/common/lib/templates/template';\nimport DependencyNotFoundError from 'sandbox-hooks/errors/dependency-not-found-error';\nimport ModuleNotFoundError from 'sandbox-hooks/errors/module-not-found-error';\n\nimport { Module } from './entities/module';\nimport TranspiledModule, {\n  ChildModule,\n  SerializedTranspiledModule,\n} from './transpiled-module';\nimport Preset from './presets';\nimport { SCRIPT_VERSION } from '..';\nimport fetchModule, {\n  setCombinedMetas,\n  combinedMetas,\n} from './npm/fetch-npm-module';\nimport coreLibraries from './npm/get-core-libraries';\nimport getDependencyName from './utils/get-dependency-name';\nimport TestRunner from './tests/jest-lite';\nimport dependenciesToQuery from '../npm/dependencies-to-query';\nimport { packageFilter } from './utils/resolve-utils';\n\nimport { ignoreNextCache, deleteAPICache, clearIndexedDBCache } from './cache';\nimport { shouldTranspile } from './transpilers/babel/check';\nimport { splitQueryFromPath } from './utils/query-path';\n\ndeclare const BrowserFS: any;\n\ntype Externals = {\n  [name: string]: string;\n};\n\nexport type ModuleObject = {\n  [path: string]: Module;\n};\n\nexport type Manifest = {\n  contents: {\n    [path: string]: { content: string; requires: Array<string> };\n  };\n  dependencies: Array<{ name: string; version: string }>;\n  dependencyDependencies: {\n    [name: string]: {\n      semver: string;\n      resolved: string;\n      parents: string[];\n    };\n  };\n  dependencyAliases: {\n    [name: string]: {\n      [depName: string]: string;\n    };\n  };\n};\n\ninterface IFileResolver {\n  protocol: Protocol;\n  isFile: (path: string) => Promise<boolean>;\n  readFile: (path: string) => Promise<string>;\n}\n\nconst NODE_LIBS = ['dgram', 'net', 'tls', 'fs', 'module', 'child_process'];\n// For these dependencies we don't want to follow along with the `browser` field\nconst SKIPPED_BROWSER_FIELD_DEPENDENCIES = ['babel-core', '@babel/core'].reduce(\n  (result, next) => ({\n    ...result,\n    [`/node_modules/${next}/package.json`]: true,\n  }),\n  {}\n);\nconst SHIMMED_MODULE: Module = {\n  path: pathUtils.join('/node_modules', 'empty', 'index.js'),\n  code: `// empty`,\n  requires: [],\n};\n\nconst getShimmedModuleFromPath = (currentPath: string, path: string) => ({\n  ...SHIMMED_MODULE,\n  path: pathUtils.join(pathUtils.dirname(currentPath), path),\n});\nconst debug = _debug('cs:compiler:manager');\n\nexport type HMRStatus = 'idle' | 'check' | 'apply' | 'fail' | 'dispose';\ntype Stage = 'transpilation' | 'evaluation';\n\ntype TManagerOptions = {\n  /**\n   * Whether the parent window has its own file resolver that can be used by the manager to resolve files\n   */\n  hasFileResolver: boolean;\n};\n\nexport default class Manager {\n  id: string;\n  transpiledModules: {\n    [path: string]: {\n      module: Module;\n      tModules: {\n        [query: string]: TranspiledModule;\n      };\n    };\n  };\n\n  envVariables: { [envName: string]: string } = {};\n  preset: Preset;\n  externals: Externals;\n  modules: ModuleObject;\n  manifest: Manifest;\n  dependencies: Object;\n  webpackHMR: boolean;\n  hardReload: boolean;\n  hmrStatus: HMRStatus = 'idle';\n  hmrStatusChangeListeners: Set<(status: HMRStatus) => void>;\n  testRunner: TestRunner;\n  isFirstLoad: boolean;\n\n  fileResolver: IFileResolver | undefined;\n\n  // List of modules that are being transpiled, to prevent duplicate jobs.\n  transpileJobs: { [transpiledModuleId: string]: true };\n  transpiledModulesByHash: { [hash: string]: TranspiledModule };\n\n  // All paths are resolved at least twice: during transpilation and evaluation.\n  // We can improve performance by almost 2x in this scenario if we cache the lookups\n  cachedPaths: { [path: string]: { [path: string]: string } };\n\n  configurations: ParsedConfigurationFiles;\n\n  stage: Stage;\n\n  constructor(\n    id: string,\n    preset: Preset,\n    modules: { [path: string]: Module },\n    options: TManagerOptions,\n    cb?: Function\n  ) {\n    this.id = id;\n    this.preset = preset;\n    this.transpiledModules = {};\n    this.cachedPaths = {};\n    this.transpileJobs = {};\n    this.webpackHMR = false;\n    this.hardReload = false;\n    this.hmrStatus = 'idle';\n    this.hmrStatusChangeListeners = new Set();\n    this.isFirstLoad = true;\n    this.transpiledModulesByHash = {};\n    this.configurations = {};\n    this.stage = 'transpilation';\n\n    this.modules = modules;\n    Object.keys(modules).forEach(k => this.addModule(modules[k]));\n    this.testRunner = new TestRunner(this);\n\n    getGlobal().manager = this;\n    if (process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.log(this);\n    }\n\n    BrowserFS.configure(\n      {\n        fs: 'CodeSandboxFS',\n        options: {\n          manager: this.bfsWrapper,\n        },\n      },\n      () => {\n        if (cb) {\n          cb();\n        }\n      }\n    );\n\n    if (options.hasFileResolver) {\n      this.setupFileResolver();\n    }\n  }\n\n  setupFileResolver() {\n    const protocol = new Protocol('file-resolver', () => true, window.parent);\n    this.fileResolver = {\n      protocol,\n      isFile: (path: string) =>\n        protocol.sendMessage<boolean>({ m: 'isFile', p: path }),\n      readFile: (path: string) =>\n        protocol.sendMessage<string>({ m: 'readFile', p: path }),\n    };\n  }\n\n  bfsWrapper = {\n    getTranspiledModules: () => this.transpiledModules,\n    addModule: (module: Module) => {\n      this.addModule(module);\n    },\n    removeModule: (module: Module) => {\n      this.removeModule(module);\n    },\n    moveModule: (module: Module, newPath: string) => {\n      this.moveModule(module, newPath);\n    },\n    updateModule: (module: Module) => {\n      this.updateModule(module);\n    },\n  };\n\n  resetAllModules() {\n    this.getTranspiledModules().forEach(t => {\n      t.resetTranspilation();\n      t.resetCompilation();\n    });\n  }\n\n  // Hoist these 2 functions to the top, since they get executed A LOT\n  isFile = (p: string, cb: Function | undefined, c: Function) => {\n    const callback = c || cb;\n    const hasCallback = typeof callback === 'function';\n\n    let returnValue;\n    if (this.stage === 'transpilation') {\n      // In transpilation phase we can afford to download the file if not found,\n      // because we're async. That's why we also include the meta here.\n      returnValue = this.transpiledModules[p] || combinedMetas[p];\n    } else {\n      returnValue = this.transpiledModules[p];\n    }\n\n    if (returnValue == null && hasCallback && this.fileResolver) {\n      return this.fileResolver.isFile(p).then(bool => {\n        callback(null, Boolean(bool));\n      });\n    }\n\n    return hasCallback\n      ? callback(null, Boolean(returnValue))\n      : Boolean(returnValue);\n  };\n\n  readFileSync = (p: string, cb: Function | undefined, c?: Function) => {\n    const callback = c || cb;\n    const hasCallback = typeof callback === 'function';\n\n    if (this.transpiledModules[p]) {\n      const { code } = this.transpiledModules[p].module;\n\n      return hasCallback ? callback(null, code) : code;\n    }\n    if (hasCallback && this.fileResolver) {\n      return this.fileResolver.readFile(p).then(code => {\n        this.addModule({ code, path: p });\n\n        callback(code);\n      });\n    }\n\n    const err = new Error('Could not find ' + p);\n    // @ts-ignore\n    err.code = 'ENOENT';\n\n    if (hasCallback) {\n      return callback(err);\n    }\n    throw err;\n  };\n\n  setStage = (stage: Stage) => {\n    this.stage = stage;\n  };\n\n  setManifest(manifest?: Manifest) {\n    this.manifest = manifest || {\n      contents: {},\n      dependencies: [],\n      dependencyDependencies: {},\n      dependencyAliases: {},\n    };\n\n    Object.keys(this.manifest.contents).forEach(path => {\n      const module: Module = {\n        path,\n        code: this.manifest.contents[path].content,\n      };\n\n      if (SKIPPED_BROWSER_FIELD_DEPENDENCIES[path]) {\n        const pJsonCode = JSON.parse(this.manifest.contents[path].content);\n        // eslint-disable-next-line\n        delete pJsonCode.browser;\n        module.code = JSON.stringify(pJsonCode, null, 2);\n      }\n\n      // Check if module syntax, only transpile when that's NOT the case\n      // TODO move this check to the packager\n      if (!shouldTranspile(module.code, path)) {\n        module.requires = this.manifest.contents[path].requires;\n      }\n\n      this.addModule(module);\n    });\n    debug(`Loaded manifest.`);\n  }\n\n  evaluateModule(\n    module: Module,\n    { force, testGlobals }: { force?: boolean; testGlobals?: boolean } = {\n      force: false,\n      testGlobals: false,\n    }\n  ) {\n    if (this.hardReload && !this.isFirstLoad) {\n      // Do a hard reload\n      document.location.reload();\n      return {};\n    }\n\n    // Evaluate the *changed* HMR modules first\n    this.getTranspiledModules()\n      .filter(t => t.hmrConfig && t.hmrConfig.isDirty())\n      .forEach(t => t.evaluate(this));\n\n    const transpiledModule = this.getTranspiledModule(module);\n\n    if (force && transpiledModule.compilation) {\n      transpiledModule.compilation = null;\n    }\n\n    try {\n      const exports = this.evaluateTranspiledModule(\n        transpiledModule,\n        undefined,\n        { force, testGlobals }\n      );\n\n      this.setHmrStatus('idle');\n\n      return exports;\n    } finally {\n      // Run post evaluate\n      this.getTranspiledModules().forEach(t => t.postEvaluate(this));\n    }\n  }\n\n  evaluateTranspiledModule(\n    transpiledModule: TranspiledModule,\n    initiator?: TranspiledModule,\n    {\n      force = false,\n      testGlobals = false,\n    }: { force?: boolean; testGlobals?: boolean } = {}\n  ) {\n    if (force && transpiledModule.compilation) {\n      transpiledModule.compilation = null;\n    }\n\n    return transpiledModule.evaluate(this, { force, testGlobals }, initiator);\n  }\n\n  addModule(module: Module) {\n    this.transpiledModules[module.path] = this.transpiledModules[\n      module.path\n    ] || { module, tModules: {} };\n  }\n\n  addTranspiledModule(module: Module, query: string = ''): TranspiledModule {\n    if (!this.transpiledModules[module.path]) {\n      this.addModule(module);\n    }\n    this.transpiledModules[module.path].module = module;\n\n    const transpiledModule = new TranspiledModule(module, query);\n    this.transpiledModules[module.path].tModules[query] = transpiledModule;\n    this.transpiledModulesByHash[transpiledModule.hash] = transpiledModule;\n\n    return transpiledModule;\n  }\n\n  getTranspiledModuleByHash(hash: string) {\n    return this.transpiledModulesByHash[hash];\n  }\n\n  /**\n   * Get Transpiled Module from the registry, if there is no transpiled module\n   * in the registry it will create a new one.\n   *\n   * @param {Module} module\n   * @param {string} query A webpack like syntax (!url-loader)\n   */\n  getTranspiledModule(module: Module, query: string = ''): TranspiledModule {\n    const moduleObject = this.transpiledModules[module.path];\n    if (!moduleObject) {\n      this.addModule(module);\n    }\n\n    let transpiledModule = this.transpiledModules[module.path].tModules[query];\n\n    if (!transpiledModule) {\n      transpiledModule = this.addTranspiledModule(module, query);\n    }\n\n    return transpiledModule;\n  }\n\n  /**\n   * One module can have multiple transpiled modules, because modules can be\n   * required in different ways. For example, require(`babel-loader!./Test.vue`) isn't\n   * the same as require(`./Test.vue`).\n   *\n   * This will return all transpiled modules, with different configurations associated one module.\n   * @param {*} module\n   */\n  getTranspiledModulesByModule(module: Module): Array<TranspiledModule> {\n    return this.transpiledModules[module.path]\n      ? values(this.transpiledModules[module.path].tModules)\n      : [];\n  }\n\n  getTranspiledModules() {\n    return values(this.transpiledModulesByHash);\n  }\n\n  removeTranspiledModule(tModule: TranspiledModule) {\n    delete this.transpiledModulesByHash[tModule.hash];\n    delete this.transpiledModules[tModule.module.path].tModules[tModule.query];\n  }\n\n  removeModule(module: Module) {\n    // Reset all cached paths because file structure changed\n    this.cachedPaths = {};\n\n    const existingModule = this.transpiledModules[module.path];\n\n    values(existingModule.tModules).forEach(m => {\n      m.dispose(this);\n      this.removeTranspiledModule(m);\n    });\n\n    delete this.transpiledModules[module.path];\n  }\n\n  moveModule(module: Module, newPath: string) {\n    this.removeModule(module);\n    this.addModule({ ...module, path: newPath });\n  }\n\n  setEnvironmentVariables() {\n    if (this.transpiledModules['/.env'] && this.preset.hasDotEnv) {\n      const envCode = this.transpiledModules['/.env'].module.code;\n\n      this.envVariables = {};\n      try {\n        envCode.split('\\n').forEach(envLine => {\n          const [name, ...val] = envLine.split('=');\n\n          this.envVariables[name] = val.join('=');\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  /**\n   * Will transpile this module and all eventual children (requires) that go with it\n   * @param {*} entry\n   */\n  async transpileModules(entry: Module, isTestFile: boolean = false) {\n    this.setHmrStatus('check');\n    this.setEnvironmentVariables();\n    const transpiledModule = this.getTranspiledModule(entry);\n\n    transpiledModule.setIsEntry(true);\n    transpiledModule.setIsTestFile(isTestFile);\n    \n    // console.log(transpiledModule);\n\n    const result = await transpiledModule.transpile(this);\n    this.getTranspiledModules().forEach(t => t.postTranspile(this));\n    \n    // console.log(result);\n\n    return result;\n  }\n\n  verifyTreeTranspiled() {\n    return Promise.all(\n      this.getTranspiledModules()\n        .filter(tModule => tModule.shouldTranspile())\n        .map(tModule => tModule.transpile(this))\n    );\n  }\n\n  clearCompiledCache() {\n    this.getTranspiledModules().map(tModule => tModule.resetCompilation());\n  }\n\n  getModules(): Array<Module | ChildModule> {\n    return values(this.transpiledModules).map(t => t.module);\n  }\n\n  /**\n   * The packager returns a list of dependencies that require a different path\n   * of their subdependencies.\n   *\n   * An example:\n   * if react requires lodash v3, and react-dom requires lodash v4. We add them\n   * both to the bundle, and rewrite paths for lodash v3 to `lodash/3.0.0/`. Then\n   * we specify that when react resolves `lodash` it should resolve `lodash/3.0.0`.\n   *\n   * @param {string} path\n   * @param {string} currentPath\n   * @returns\n   * @memberof Manager\n   */\n  getAliasedDependencyPath(path: string, currentPath: string) {\n    const isDependency = /^(\\w|@\\w)/.test(path);\n\n    if (!isDependency) {\n      return path;\n    }\n\n    const isCurrentPathDependency = currentPath.startsWith('/node_modules');\n    if (!isCurrentPathDependency) {\n      return path;\n    }\n\n    const dependencyName = getDependencyName(path);\n    const previousDependencyName = getDependencyName(\n      currentPath.replace('/node_modules/', '')\n    );\n\n    if (\n      this.manifest.dependencyAliases[previousDependencyName] &&\n      this.manifest.dependencyAliases[previousDependencyName][dependencyName]\n    ) {\n      const aliasedDependencyName = this.manifest.dependencyAliases[\n        previousDependencyName\n      ][dependencyName];\n\n      return path.replace(dependencyName, aliasedDependencyName);\n    }\n\n    return path;\n  }\n\n  /**\n   * Set the manager to use Webpack HMR, this changes how modules are hot reloaded\n   * and how the manager cleans up the website.\n   *\n   * @memberof Manager\n   */\n  enableWebpackHMR() {\n    this.webpackHMR = true;\n  }\n\n  getPresetAliasedPath(path: string) {\n    return this.preset\n      .getAliasedPath(path)\n      .replace(/.*\\{\\{sandboxRoot\\}\\}/, '');\n  }\n\n  getModuleDirectories() {\n    const baseTSCompilerConfig = [\n      this.configurations.typescript,\n      this.configurations.jsconfig,\n    ].find(config => config && config.generated !== true);\n\n    const baseUrl =\n      baseTSCompilerConfig &&\n      baseTSCompilerConfig.parsed &&\n      baseTSCompilerConfig.parsed.compilerOptions &&\n      baseTSCompilerConfig.parsed.compilerOptions.baseUrl;\n\n    return ['node_modules', baseUrl, this.envVariables.NODE_PATH].filter(\n      Boolean\n    );\n  }\n\n  // ALWAYS KEEP THIS METHOD IN SYNC WITH SYNC VERSION\n  async resolveModuleAsync(\n    path: string,\n    currentPath: string,\n    defaultExtensions = ['js', 'jsx', 'json']\n  ): Promise<Module> {\n    return new Promise(promiseResolve => {\n\n      const dirredPath = pathUtils.dirname(currentPath);\n      if (this.cachedPaths[dirredPath] === undefined) {\n        this.cachedPaths[dirredPath] = {};\n      }\n\n      const cachedPath = this.cachedPaths[dirredPath][path];\n\n      let resolvedPath;\n\n      if (cachedPath) {\n        resolvedPath = cachedPath;\n      } else {\n        const presetAliasedPath = this.getPresetAliasedPath(path);\n\n        const aliasedPath = this.getAliasedDependencyPath(\n          presetAliasedPath,\n          currentPath\n        );\n\n        const shimmedPath = coreLibraries[aliasedPath] || aliasedPath;\n\n\n        if (NODE_LIBS.indexOf(shimmedPath) > -1) {\n          this.cachedPaths[dirredPath][path] = shimmedPath;\n          promiseResolve(getShimmedModuleFromPath(currentPath, path));\n          return;\n        }\n\n        try {\n          resolve(\n            shimmedPath,\n            {\n              filename: currentPath,\n              extensions: defaultExtensions.map(ext => '.' + ext),\n              isFile: this.isFile,\n              readFileSync: this.readFileSync,\n              packageFilter,\n              moduleDirectory: this.getModuleDirectories(),\n            },\n            (err, foundPath) => {\n              if (err) {\n                throw err;\n              }\n\n              this.cachedPaths[dirredPath][path] = foundPath;\n\n              if (foundPath === '//empty.js') {\n                promiseResolve(getShimmedModuleFromPath(currentPath, path));\n                return;\n              }\n\n              if (!this.transpiledModules[foundPath]) {\n                this.readFileSync(foundPath, code => {\n                  this.addModule({ path: foundPath, code });\n                  promiseResolve(this.transpiledModules[foundPath].module);\n                });\n              } else {\n                promiseResolve(this.transpiledModules[foundPath].module);\n              }\n            }\n          );\n        } catch (e) {\n          if (\n            this.cachedPaths[dirredPath] &&\n            this.cachedPaths[dirredPath][path]\n          ) {\n            delete this.cachedPaths[dirredPath][path];\n          }\n\n          let connectedPath = shimmedPath;\n          if (connectedPath.indexOf('/node_modules') !== 0) {\n            connectedPath = /^(\\w|@\\w)/.test(shimmedPath)\n              ? pathUtils.join('/node_modules', shimmedPath)\n              : pathUtils.join(pathUtils.dirname(currentPath), shimmedPath);\n          }\n\n          const isDependency = connectedPath.includes('/node_modules/');\n\n          connectedPath = connectedPath.replace('/node_modules/', '');\n\n          if (!isDependency) {\n            throw new ModuleNotFoundError(shimmedPath, false, currentPath);\n          }\n\n          const dependencyName = getDependencyName(connectedPath);\n\n          if (\n            this.manifest.dependencies.find(d => d.name === dependencyName) ||\n            this.manifest.dependencyDependencies[dependencyName]\n          ) {\n            throw new ModuleNotFoundError(connectedPath, true, currentPath);\n          } else {\n            throw new DependencyNotFoundError(connectedPath, currentPath);\n          }\n        }\n      }\n      promiseResolve(this.transpiledModules[resolvedPath].module);\n    });\n  }\n\n  // ALWAYS KEEP THIS METHOD IN SYNC WITH ASYNC VERSION\n  resolveModule(\n    path: string,\n    currentPath: string,\n    defaultExtensions: Array<string> = ['js', 'jsx', 'json']\n  ): Module {\n    const dirredPath = pathUtils.dirname(currentPath);\n    if (this.cachedPaths[dirredPath] === undefined) {\n      this.cachedPaths[dirredPath] = {};\n    }\n\n    const cachedPath = this.cachedPaths[dirredPath][path];\n\n    let resolvedPath;\n\n    if (cachedPath && this.transpiledModules[cachedPath]) {\n      resolvedPath = cachedPath;\n    } else {\n      const presetAliasedPath = this.getPresetAliasedPath(path);\n\n      const aliasedPath = this.getAliasedDependencyPath(\n        presetAliasedPath,\n        currentPath\n      );\n      const shimmedPath = coreLibraries[aliasedPath] || aliasedPath;\n\n      if (NODE_LIBS.indexOf(shimmedPath) > -1) {\n        this.cachedPaths[dirredPath][path] = shimmedPath;\n        return getShimmedModuleFromPath(currentPath, path);\n      }\n\n      try {\n        resolvedPath = resolve.sync(shimmedPath, {\n          filename: currentPath,\n          extensions: defaultExtensions.map(ext => '.' + ext),\n          isFile: this.isFile,\n          readFileSync: this.readFileSync,\n          packageFilter,\n          moduleDirectory: this.getModuleDirectories(),\n        });\n\n        this.cachedPaths[dirredPath][path] = resolvedPath;\n\n        if (resolvedPath === '//empty.js') {\n          return getShimmedModuleFromPath(currentPath, path);\n        }\n\n        if (!this.transpiledModules[resolvedPath]) {\n          throw new Error(`Could not find '${resolvedPath}' in local files.`);\n        }\n      } catch (e) {\n        // MAKE SURE TO SYNC THIS WITH ASYNC VERSION\n        if (\n          this.cachedPaths[dirredPath] &&\n          this.cachedPaths[dirredPath][path]\n        ) {\n          delete this.cachedPaths[dirredPath][path];\n        }\n\n        let connectedPath = shimmedPath;\n        if (connectedPath.indexOf('/node_modules') !== 0) {\n          connectedPath = /^(\\w|@\\w)/.test(shimmedPath)\n            ? pathUtils.join('/node_modules', shimmedPath)\n            : pathUtils.join(pathUtils.dirname(currentPath), shimmedPath);\n        }\n\n        const isDependency = connectedPath.includes('/node_modules/');\n\n        connectedPath = connectedPath.replace('/node_modules/', '');\n\n        if (!isDependency) {\n          throw new ModuleNotFoundError(shimmedPath, false, currentPath);\n        }\n\n        const dependencyName = getDependencyName(connectedPath);\n\n        // TODO: fix the stack hack\n        if (\n          this.manifest.dependencies.find(d => d.name === dependencyName) ||\n          this.manifest.dependencyDependencies[dependencyName]\n        ) {\n          throw new ModuleNotFoundError(connectedPath, true, currentPath);\n        } else {\n          throw new DependencyNotFoundError(connectedPath, currentPath);\n        }\n      }\n    }\n\n    if (resolvedPath === '//empty.js') {\n      return getShimmedModuleFromPath(currentPath, path);\n    }\n\n    return this.transpiledModules[resolvedPath].module;\n  }\n\n  downloadDependency(\n    path: string,\n    currentTModule: TranspiledModule,\n    query: string = '',\n    ignoredExtensions: Array<string> = this.preset.ignoredExtensions\n  ): Promise<TranspiledModule> {\n    return fetchModule(path, currentTModule, this, ignoredExtensions).then(\n      module => this.getTranspiledModule(module, query)\n    );\n  }\n\n  updateModule(m: Module) {\n    this.transpiledModules[m.path].module = m;\n    return this.getTranspiledModulesByModule(m).map(tModule => {\n      tModule.update(m);\n\n      return tModule;\n    });\n  }\n\n  resolveTranspiledModuleAsync = async (\n    path: string,\n    currentTModule?: TranspiledModule,\n    ignoredExtensions?: Array<string>\n  ): Promise<TranspiledModule> => {\n    const tModule =\n      currentTModule || this.getTranspiledModule(this.modules['/package.json']); // Get arbitrary file from root\n    try {\n      return Promise.resolve(\n        this.resolveTranspiledModule(\n          path,\n          tModule.module.path,\n          ignoredExtensions\n        )\n      );\n    } catch (e) {\n      if (e.type === 'module-not-found' && e.isDependency) {\n        const { queryPath } = splitQueryFromPath(path);\n        return this.downloadDependency(\n          e.path,\n          tModule,\n          queryPath,\n          ignoredExtensions\n        );\n      }\n\n      throw e;\n    }\n  };\n\n  setHmrStatus = (status: HMRStatus) => {\n    this.hmrStatusChangeListeners.forEach(v => {\n      v(status);\n    });\n    this.hmrStatus = status;\n  };\n\n  addStatusHandler = (cb: (status: HMRStatus) => void) => {\n    this.hmrStatusChangeListeners.add(cb);\n  };\n\n  removeStatusHandler = (cb: (status: HMRStatus) => void) => {\n    this.hmrStatusChangeListeners.delete(cb);\n  };\n\n  /**\n   * Resolve the transpiled module from the path, note that the path can actually\n   * include loaders. That's why we're focussing on first extracting this query\n   * @param {*} path\n   * @param {*} currentPath\n   */\n  resolveTranspiledModule(\n    path: string,\n    currentPath: string,\n    ignoredExtensions: string[],\n    async: true\n  ): Promise<TranspiledModule>;\n\n  resolveTranspiledModule(\n    path: string,\n    currentPath: string,\n    ignoredExtensions?: string[],\n    async?: false\n  ): TranspiledModule;\n\n  resolveTranspiledModule(\n    path: string,\n    currentPath: string,\n    ignoredExtensions?: string[],\n    async?: boolean\n  ): Promise<TranspiledModule> | TranspiledModule {\n    if (path.startsWith('webpack:')) {\n      throw new Error('Cannot resolve webpack path');\n    }\n\n    const { queryPath, modulePath } = splitQueryFromPath(path);\n\n    if (async) {\n      return this.resolveModuleAsync(\n        modulePath,\n        currentPath,\n        ignoredExtensions || this.preset.ignoredExtensions\n      ).then(module => this.getTranspiledModule(module, queryPath));\n    }\n\n    const module = this.resolveModule(\n      modulePath,\n      currentPath,\n      ignoredExtensions || this.preset.ignoredExtensions\n    );\n\n    return this.getTranspiledModule(module, queryPath);\n  }\n\n  resolveTranspiledModulesInDirectory(\n    path: string,\n    currentPath: string\n  ): Array<TranspiledModule> {\n    const { queryPath, modulePath } = splitQueryFromPath(path);\n\n    const joinedPath = pathUtils.join(\n      pathUtils.dirname(currentPath),\n      modulePath\n    );\n\n    return Object.keys(this.transpiledModules)\n      .filter(p => p.startsWith(joinedPath))\n      .map(m =>\n        this.getTranspiledModule(this.transpiledModules[m].module, queryPath)\n      );\n  }\n\n  updateConfigurations(configurations: ParsedConfigurationFiles) {\n    const configsUpdated = this.configurations\n      ? JSON.stringify(configurations) !== JSON.stringify(this.configurations)\n      : false;\n\n    if (configsUpdated) {\n      this.resetAllModules();\n    }\n\n    this.configurations = configurations;\n  }\n\n  /**\n   * Find all changed, added and deleted modules. Update trees and\n   * delete caches accordingly\n   */\n  async updateData(modules: {\n    [path: string]: Module;\n  }): Promise<Array<TranspiledModule>> {\n    this.transpileJobs = {};\n    this.hardReload = false;\n    this.isFirstLoad = false;\n\n    this.modules = modules;\n\n    const addedModules: Array<Module> = [];\n    const updatedModules: Array<Module> = [];\n\n    Object.keys(modules).forEach(k => {\n      const module: Module = modules[k];\n      const mirrorModule = this.transpiledModules[k];\n\n      if (!mirrorModule) {\n        // File structure changed, reset cached paths\n        this.cachedPaths = {};\n        addedModules.push(module);\n      } else if (mirrorModule.module.code !== module.code) {\n        // File structure changed, reset cached paths\n        this.cachedPaths = {};\n        updatedModules.push(module);\n      }\n    });\n\n    this.getModules().forEach(m => {\n      if (\n        !m.path.startsWith('/node_modules') &&\n        m.path !== '/var/task/node_modules/browser-resolve/empty.js' &&\n        !modules[m.path] &&\n        !(m as ChildModule).parent // not an emitted module\n      ) {\n        this.removeModule(m);\n      }\n    });\n\n    addedModules.forEach(m => {\n      this.addTranspiledModule(m);\n    });\n\n    const modulesToUpdate: Array<Module> = uniq([\n      ...addedModules,\n      ...updatedModules,\n    ]);\n\n    // We eagerly transpile changed files,\n    // this way we don't have to traverse the whole\n    // dependency graph each time a file changes\n    const tModulesToUpdate = modulesToUpdate.map(m => this.updateModule(m));\n\n    if (tModulesToUpdate.length > 0 && this.configurations.sandbox) {\n      this.hardReload = this.configurations.sandbox.parsed.hardReloadOnChange;\n    }\n\n    const modulesWithWErrors = this.getTranspiledModules().filter(t => {\n      if (t.hasMissingDependencies) {\n        t.resetTranspilation();\n      }\n      return t.errors.length > 0 || t.hasMissingDependencies;\n    });\n    const flattenedTModulesToUpdate = (flattenDeep([\n      tModulesToUpdate,\n      modulesWithWErrors,\n    ]) as unknown) as TranspiledModule[];\n\n    const allModulesToUpdate = uniq(flattenedTModulesToUpdate);\n    const transpiledModulesToUpdate = allModulesToUpdate.filter(\n      m => !m.isTestFile\n    );\n\n    // Reset test files, but don't transpile. We want to do that in the test runner\n    // so we can catch any errors\n    allModulesToUpdate\n      .filter(m => m.isTestFile)\n      .forEach(m => {\n        m.resetTranspilation();\n      });\n\n    debug(\n      `Generated update diff, updating ${\n        transpiledModulesToUpdate.length\n      } modules.`,\n      transpiledModulesToUpdate\n    );\n\n    const transpilationResults = await Promise.all(transpiledModulesToUpdate\n      .map(tModule => {\n        if (tModule.shouldTranspile()) {\n          return tModule.transpile(this);\n        }\n\n        return Promise.resolve(false);\n      })\n      .filter(Boolean) as Array<Promise<TranspiledModule>>);\n\n    return transpilationResults;\n  }\n\n  /**\n   * Mark that the next evaluation should first have a location.reload() before\n   * continuing\n   */\n  markHardReload() {\n    this.setHmrStatus('fail');\n    this.hardReload = true;\n  }\n\n  async serialize(\n    {\n      entryPath,\n      optimizeForSize,\n    }: { entryPath?: string; optimizeForSize: boolean } = {\n      optimizeForSize: true,\n    }\n  ) {\n    const serializedTModules: { [id: string]: SerializedTranspiledModule } = {};\n\n    await Promise.all(\n      Object.keys(this.transpiledModules).map(path =>\n        Promise.all(\n          Object.keys(this.transpiledModules[path].tModules).map(\n            async query => {\n              const tModule = this.transpiledModules[path].tModules[query];\n\n              if (\n                !this.manifest.contents[tModule.module.path] ||\n                (tModule.module.path.endsWith('.js') &&\n                  tModule.module.requires == null) ||\n                tModule.module.downloaded\n              ) {\n                // Only save modules that are not precomputed\n                serializedTModules[tModule.getId()] = await tModule.serialize(\n                  optimizeForSize\n                );\n              }\n            }\n          )\n        )\n      )\n    );\n\n    const dependenciesQuery = this.getDependencyQuery();\n\n    const meta = {};\n    Object.keys(combinedMetas || {}).forEach(p => {\n      const dir = pathUtils.dirname(p.replace('/node_modules', ''));\n      meta[dir] = meta[dir] || [];\n      meta[dir].push(pathUtils.basename(p));\n    });\n\n    return {\n      transpiledModules: serializedTModules,\n      cachedPaths: this.cachedPaths,\n      version: SCRIPT_VERSION,\n      timestamp: new Date().getTime(),\n      configurations: this.configurations,\n      entry: entryPath,\n      meta,\n      dependenciesQuery,\n    };\n  }\n\n  getDependencyQuery() {\n    if (!this.manifest || !this.manifest.dependencies) {\n      return '';\n    }\n\n    const normalizedDependencies = {};\n\n    this.manifest.dependencies.forEach(dep => {\n      normalizedDependencies[dep.name] = dep.version;\n    });\n\n    return dependenciesToQuery(normalizedDependencies);\n  }\n\n  async load(data: any) {\n    try {\n      if (data) {\n        this.clearCache();\n        const {\n          transpiledModules: serializedTModules,\n          cachedPaths,\n          version,\n          configurations,\n          dependenciesQuery,\n          meta,\n        }: {\n          transpiledModules: { [id: string]: SerializedTranspiledModule };\n          cachedPaths: { [path: string]: { [path: string]: string } };\n          version: string;\n          timestamp: number;\n          configurations: any;\n          dependenciesQuery: string;\n          meta: any;\n        } = data;\n\n        // Only use the cache if the cached version was cached with the same\n        // version of the compiler and dependencies haven't changed\n        if (\n          version === SCRIPT_VERSION &&\n          dependenciesQuery === this.getDependencyQuery()\n        ) {\n          const newCombinedMetas = {};\n          Object.keys(meta).forEach(dir => {\n            meta[dir].forEach(file => {\n              newCombinedMetas[`/node_modules` + dir + '/' + file] = true;\n            });\n          });\n          setCombinedMetas(newCombinedMetas);\n\n          this.cachedPaths = cachedPaths;\n          this.configurations = configurations;\n\n          const tModules: { [id: string]: TranspiledModule } = {};\n          // First create tModules for all the saved modules, so we have references\n          Object.keys(serializedTModules).forEach(id => {\n            const sTModule = serializedTModules[id];\n\n            const tModule = this.addTranspiledModule(\n              sTModule.module,\n              sTModule.query\n            );\n            tModules[id] = tModule;\n          });\n\n          Object.keys(tModules).forEach(id => {\n            const tModule = tModules[id];\n\n            tModule.load(serializedTModules[id], tModules, this);\n          });\n          debug(`Loaded cache.`);\n        }\n      }\n    } catch (e) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('Problems parsing cache');\n        console.warn(e);\n      }\n    }\n    this.clearCache();\n  }\n\n  dispose() {\n    if (this.preset) {\n      this.preset.transpilers.forEach(t => {\n        if (t.dispose) {\n          t.dispose();\n        }\n      });\n\n      if (this.fileResolver) {\n        this.fileResolver.protocol.dispose();\n      }\n    }\n  }\n\n  deleteAPICache() {\n    ignoreNextCache();\n    return deleteAPICache(this.id);\n  }\n\n  async clearCache() {\n    try {\n      await clearIndexedDBCache();\n    } catch (ex) {\n      if (process.env.NODE_ENV === 'development') {\n        console.error(ex);\n      }\n    }\n  }\n\n  /**\n   * Get information about all transpilers currently registered for this manager\n   */\n  async getTranspilerContext() {\n    const info = {};\n\n    const data = await Promise.all(\n      Array.from(this.preset.transpilers).map(t =>\n        t\n          .getTranspilerContext(this)\n          .then(context => ({ name: t.name, data: context }))\n      )\n    );\n\n    data.forEach(t => {\n      info[t.name] = t.data;\n    });\n\n    return info;\n  }\n}\n","let iframeReference = null;\n\nexport function resetOverlay() {\n  try {\n    window.document.body.removeChild(iframeReference);\n    iframeReference = null;\n  } catch (e) {\n    /* nothing */\n  }\n}\n\nfunction createIframe() {\n  return new Promise(resolve => {\n    if (iframeReference) {\n      resolve(iframeReference);\n    }\n\n    const iframe = document.createElement('iframe');\n\n    iframe.setAttribute(\n      'style',\n      `position: fixed; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: 214748366;`\n    );\n    iframe.setAttribute('id', 'frame');\n\n    iframeReference = iframe;\n\n    document.body.appendChild(iframe);\n\n    if (iframe.contentDocument) {\n      resolve(iframe);\n    } else if (document.getElementById('frame')) {\n      document.getElementById('frame').onload = () => {\n        resolve(iframe);\n      };\n    } else {\n      resolve(iframe);\n    }\n  });\n}\n\nexport async function createOverlay(html: string) {\n  const iframe = await createIframe();\n\n  const isMounted = !!document.getElementById('frame');\n  if (!isMounted) {\n    document.body.appendChild(iframe);\n  }\n\n  iframe.contentDocument.body.innerHTML = html;\n\n  return iframe;\n}\n","// @flow\n// This is the loading screen\nimport loadingHtml from '!raw-loader!./loading-screen.html';\n\nimport { createOverlay, resetOverlay } from './overlay-manager';\n\ntype LoadingScreen = {\n  type: 'loading',\n  text: string,\n};\n\ntype Screen = LoadingScreen;\n\nlet currentScreen: ?Screen = null;\nlet firstLoaded = null;\n\nlet iframeReference = null;\n\nfunction changeText(text: string) {\n  if (iframeReference) {\n    if (\n      iframeReference.contentDocument &&\n      iframeReference.contentDocument.getElementsByClassName('text') &&\n      iframeReference.contentDocument.getElementsByClassName('text').item(0)\n    ) {\n      iframeReference.contentDocument\n        .getElementsByClassName('text')\n        .item(0).textContent = text;\n    }\n  }\n}\n\nexport function resetScreen() {\n  currentScreen = null;\n  iframeReference = null;\n  resetOverlay();\n}\n\nexport default function setScreen(screen: Screen) {\n  if (!iframeReference) {\n    if (!firstLoaded) {\n      // Give the illusion of faster loading by showing the loader screen later\n      firstLoaded = setTimeout(async () => {\n        if (!iframeReference && currentScreen) {\n          iframeReference = await createOverlay(loadingHtml);\n        }\n\n        if (currentScreen) {\n          changeText(currentScreen.text);\n        }\n\n        firstLoaded = null;\n      }, 1000);\n    }\n  } else if (currentScreen) {\n    changeText(currentScreen.text);\n  }\n\n  currentScreen = screen;\n}\n","import { getParameters } from 'codesandbox-import-utils/lib/api/define';\n\nexport default function createOverlay(modules) {\n  const normalized = Object.keys(modules).reduce(\n    (prev, next) => ({\n      ...prev,\n      [next.replace('/', '')]: {\n        content: modules[next].code,\n        isBinary: false,\n      },\n    }),\n    {}\n  );\n\n  const parameters = getParameters({ files: normalized });\n\n  return new Promise(resolve => {\n    const iframe = document.createElement('iframe');\n\n    iframe.setAttribute(\n      'style',\n      `transition: 0.3s ease background-color; position: fixed; bottom: 8px; right: 8px; height: 40px; width: 196px; background-color: rgba(0, 0, 0, 0.6); border-radius: 4px; border: 0; outline: 0; z-index: 214748366;`\n    );\n    iframe.setAttribute(\n      'onmouseover',\n      \"this.style.backgroundColor='rgba(0, 0, 0, 0.7)';\"\n    );\n    iframe.setAttribute(\n      'onmouseout',\n      \"this.style.backgroundColor='rgba(0, 0, 0, 0.6)';\"\n    );\n\n    iframe.onload = () => {\n      iframe.contentDocument.body.innerHTML = `\n        <form\n          action=\"https://codesandbox.io/api/v1/sandboxes/define\"\n          method=\"POST\"\n          target=\"_blank\"\n          style=\"cursor:pointer;\"\n        >\n        <input\n          type=\"hidden\"\n          name=\"parameters\"\n          value=\"${parameters}\"\n        />\n          <div style=\"display:flex;align-items:center\" onclick=\"javascript:document.forms[0].submit();\">\n            <svg style=\"width:24px;height:24px;margin-right:8px;\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"1024px\"\n              height=\"1024px\" viewBox=\"0 0 1024 1024\" enable-background=\"new 0 0 1024 1024\" xml:space=\"preserve\">\n              <g id=\"Layer_1\">\n                <polyline\n                  fill=\"#FFFFFF\"\n                  points=\"719.001,851 719.001,639.848 902,533.802 902,745.267 719.001,851\"\n                />\n                <polyline\n                  fill=\"#FFFFFF\"\n                  points=\"302.082,643.438 122.167,539.135 122.167,747.741 302.082,852.573 302.082,643.438\"\n                />\n                <polyline\n                  fill=\"#FFFFFF\"\n                  points=\"511.982,275.795 694.939,169.633 512.06,63 328.436,169.987 511.982,275.795\"\n                />\n              </g>\n              <g id=\"Layer_2\">\n                <polyline\n                  fill=\"none\"\n                  stroke=\"#FFFFFF\"\n                  stroke-width=\"80\"\n                  stroke-miterlimit=\"10\"\n                  points=\"899,287.833 509,513 509,963\"\n                />\n                <line\n                  fill=\"none\"\n                  stroke=\"#FFFFFF\"\n                  stroke-width=\"80\"\n                  stroke-miterlimit=\"10\"\n                  x1=\"122.167\"\n                  y1=\"289\"\n                  x2=\"511.5\"\n                  y2=\"513\"\n                />\n                <polygon\n                  fill=\"none\"\n                  stroke=\"#FFFFFF\"\n                  stroke-width=\"80\"\n                  stroke-miterlimit=\"10\"\n                  points=\"121,739.083 510.917,963.042 901,738.333 901,288 511,62 121,289\"\n                />\n              </g>\n          </svg>\n          <div style=\"font-size:.875rem; font-weight: 300; color: white; font-family: sans-serif\">Open in CodeSandbox</div>\n        </div>\n      </form>\n      `;\n\n      resolve();\n    };\n\n    document.body.appendChild(iframe);\n  });\n}\n","function getExternalResourcesConcatenation(resources: Array<string>) {\n  return resources.join('');\n}\n/* eslint-disable no-cond-assign */\nfunction clearExternalResources() {\n  let el = null;\n  // eslint-disable-next-line no-cond-assign\n  while ((el = document.getElementById('external-css'))) {\n    el.remove();\n  }\n\n  // eslint-disable-next-line no-cond-assign\n  while ((el = document.getElementById('external-js'))) {\n    el.remove();\n  }\n}\n/* eslint-enable */\n\nfunction addCSS(resource: string) {\n  const head = document.getElementsByTagName('head')[0];\n  const link = document.createElement('link');\n  link.id = 'external-css';\n  link.rel = 'stylesheet';\n  link.type = 'text/css';\n  link.href = resource;\n  link.media = 'all';\n  head.appendChild(link);\n\n  return link;\n}\n\nfunction addJS(resource: string) {\n  const script = document.createElement('script');\n  script.setAttribute('src', resource);\n  script.async = false;\n  script.setAttribute('id', 'external-js');\n  document.head.appendChild(script);\n\n  return script;\n}\n\nfunction addResource(resource: string) {\n  const match = resource.match(/\\.([^.]*)$/);\n\n  const el =\n    (match && match[1] === 'css') || resource.includes('fonts.googleapis')\n      ? addCSS(resource)\n      : addJS(resource);\n\n  return new Promise(r => {\n    el.onload = r;\n    el.onerror = r;\n  });\n}\n\nfunction waitForLoaded() {\n  return new Promise(resolve => {\n    if (document.readyState !== 'complete') {\n      window.addEventListener('load', resolve);\n    } else {\n      resolve();\n    }\n  });\n}\n\nlet cachedExternalResources = '';\n\nexport default async function handleExternalResources(externalResources) {\n  const extResString = getExternalResourcesConcatenation(externalResources);\n  if (extResString !== cachedExternalResources) {\n    clearExternalResources();\n    await Promise.all(externalResources.map(addResource));\n    cachedExternalResources = extResString;\n\n    return waitForLoaded();\n  }\n\n  return Promise.resolve();\n}\n","export const JS = {\n  id: 'js',\n  extension: '.js',\n  condition: '.jsx?$',\n  code: `\nimport React from 'react';\nimport { render } from 'react-dom';\nexport default function(module) {\n  const node = document.createElement('div');\n  document.body.appendChild(node);\n  render(React.createElement(module.default), node);\n}\n`,\n};\n\nexport const HTML = {\n  id: 'html',\n  extension: '.html',\n  condition: '.html$',\n  code: `\nexport default function(module) {\n  document.body.innerHTML = module\n}\n`,\n};\n\nexport default [JS, HTML];\n","// @flow\nimport type { Module } from '../eval/entities/module';\n\nimport { getCurrentManager } from '../compile';\n\nlet cachedBoilerplates = [];\n\nexport async function evalBoilerplates(boilerplates: Array<any>) {\n  cachedBoilerplates = await Promise.all(\n    boilerplates.map(async boilerplate => {\n      const fakeModule: Module = {\n        path: `/boilerplate-${boilerplate.condition}${boilerplate.extension}`,\n        code: boilerplate.code,\n      };\n\n      const manager = getCurrentManager();\n\n      await manager.transpileModules(fakeModule);\n      const module = manager.evaluateModule(fakeModule);\n\n      return { ...boilerplate, module };\n    })\n  );\n}\n\nexport function getBoilerplates(): Array<any> {\n  return cachedBoilerplates;\n}\n\nexport function findBoilerplate(module: Module): any {\n  const boilerplates = getBoilerplates();\n  const boilerplate = boilerplates.find(b => {\n    const regex = new RegExp(b.condition);\n    return regex.test(module.path);\n  });\n\n  if (boilerplate == null) {\n    throw new Error(\n      `No boilerplate found for ${\n        module.path\n      }, you can create one in the future`\n    );\n  }\n\n  return boilerplate;\n}\n","import { actions, dispatch } from 'codesandbox-api';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { getAbsoluteDependencies } from '@codesandbox/common/lib/utils/dependencies';\n\nimport dependenciesToQuery from './dependencies-to-query';\n\nimport delay from '../utils/delay';\nimport setScreen from '../status-screen';\n\ntype Dependencies = {\n  [dependency: string]: string;\n};\n\nconst RETRY_COUNT = 60;\nconst debug = _debug('cs:sandbox:packager');\n\nconst VERSION = 1;\n\nconst BUCKET_URL =\n  process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'test'\n    ? 'https://d1jyvh0kxilfa7.cloudfront.net'\n    : 'https://dev-packager-packages.codesandbox.io';\n\nconst NEW_PACKAGER_URL =\n  'https://aiwi8rnkp5.execute-api.eu-west-1.amazonaws.com/prod/packages';\n\nconst PACKAGER_URL =\n  process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'test'\n    ? 'https://drq28qbjmc.execute-api.eu-west-1.amazonaws.com/prod/packages'\n    : 'https://xi5p9f7czk.execute-api.eu-west-1.amazonaws.com/dev/packages';\n\nfunction warmupPackager(url: string, method = 'GET') {\n  fetch(url, {\n    method,\n  })\n    .then(() => {})\n    .catch(() => {});\n}\n\nfunction callApi(url: string, method = 'GET') {\n  return fetch(url, {\n    method,\n  })\n    .then(async response => {\n      if (!response.ok) {\n        const error = new Error(response.statusText || '' + response.status);\n\n        const message = await response.json();\n\n        // @ts-ignore\n        error.response = message;\n        // @ts-ignore\n        error.statusCode = response.status;\n        return Promise.reject(error);\n      }\n\n      return Promise.resolve(response);\n    })\n    .then(response => response.json());\n}\n\n/**\n * Request the packager, if retries > RETRY_COUNT it will throw if something goes wrong\n * otherwise it will retry again with an incremented retry\n *\n * @param {string} query The dependencies to call\n */\nasync function requestPackager(url, method = 'GET') {\n  let retries = 0;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    debug(`Trying to call packager for ${retries} time`);\n    try {\n      const manifest = await callApi(url, method); // eslint-disable-line no-await-in-loop\n\n      return manifest;\n    } catch (e) {\n      if (e.response && e.statusCode !== 504) {\n        throw new Error(e.response.error);\n      }\n      // 403 status code means the bundler is still bundling\n      if (retries < RETRY_COUNT) {\n        retries += 1;\n        await delay(1000 * 2); // eslint-disable-line no-await-in-loop\n      } else {\n        throw e;\n      }\n    }\n  }\n}\n\nfunction dependenciesToBucketPath(dependencies: Object) {\n  return `v${VERSION}/combinations/${Object.keys(dependencies)\n    .sort()\n    .map(\n      // Paths starting with slashes don't work with cloudfront, even escaped. So we remove the slashes\n      dep =>\n        `${encodeURIComponent(dep.replace('/', '-').replace('@', ''))}@${\n          dependencies[dep]\n        }`\n    )\n    .join('%2B')}.json`;\n}\n\n/**\n * Some dependencies have a space in their version for some reason, this is invalid and we\n * ignore them. This is what yarn does as well.\n */\nfunction removeSpacesFromDependencies(dependencies: Object) {\n  const newDeps = {};\n  Object.keys(dependencies).forEach(depName => {\n    const [version] = dependencies[depName].split(' ');\n    newDeps[depName] = version;\n  });\n  return newDeps;\n}\n\nasync function getDependencies(dependencies: Object) {\n  const absoluteDependencies = await getAbsoluteDependencies(\n    removeSpacesFromDependencies(dependencies)\n  );\n  const dependencyUrl = dependenciesToQuery(absoluteDependencies);\n  const bucketDependencyUrl = dependenciesToBucketPath(absoluteDependencies);\n\n  setScreen({ type: 'loading', text: 'Downloading Dependencies...' });\n  warmupPackager(`${NEW_PACKAGER_URL}/${dependencyUrl}`, 'POST');\n  try {\n    const bucketManifest = await callApi(\n      `${BUCKET_URL}/${bucketDependencyUrl}`\n    );\n    return bucketManifest;\n  } catch (e) {\n    setScreen({ type: 'loading', text: 'Resolving Dependencies...' });\n\n    // The dep has not been generated yet...\n    const { url } = await requestPackager(\n      `${PACKAGER_URL}/${dependencyUrl}`,\n      'POST'\n    );\n\n    setScreen({ type: 'loading', text: 'Downloading Dependencies...' });\n\n    return requestPackager(`${BUCKET_URL}/${url}`);\n  }\n}\n\nexport async function fetchDependencies(\n  npmDependencies: Dependencies,\n  resolutions?: { [key: string]: string }\n) {\n  if (Object.keys(npmDependencies).length !== 0) {\n    // New Packager flow\n\n    try {\n      const result = await getDependencies(npmDependencies);\n      setScreen({ type: 'loading', text: 'Transpiling Modules...' });\n\n      return result;\n    } catch (e) {\n      e.message = `Could not fetch dependencies, please try again in a couple seconds: ${\n        e.message\n      }`;\n      dispatch(actions.notifications.show(e.message, 'error'));\n\n      throw e;\n    }\n  }\n  return false;\n}\n","import minimatch from 'minimatch';\nimport * as semver from 'semver';\n\nimport { ILambdaResponse } from './merge-dependency';\nimport { downloadDependency } from '../eval/npm/fetch-npm-module';\nimport { IParsedResolution } from './resolutions';\n\nfunction getPackageJSON(dep: string, version: string) {\n  return downloadDependency(dep, version, '/package.json').then(m => m.code);\n}\n\nfunction getLatestVersionForSemver(dep: string, version: string) {\n  return getPackageJSON(dep, version).then(p => JSON.parse(p).version);\n}\n\ninterface IPeerDependencyResult {\n  [dep: string]: {\n    semver: string;\n    resolved: string;\n    parents: string[];\n    entries: string[];\n  };\n}\n\nfunction getAbsoluteVersion(\n  originalDep: string,\n  depName: string,\n  depVersion: string,\n  parsedResolutions: { [name: string]: IParsedResolution[] }\n) {\n  // Try getting it from the resolutions field first, if that doesn't work\n  // we try to get the latest version from the semver.\n  const applicableResolutions = parsedResolutions[depName];\n  if (applicableResolutions) {\n    const modulePath = [originalDep, depName].join('/');\n\n    const { range } =\n      applicableResolutions.find(({ globPattern }) =>\n        minimatch(modulePath, globPattern)\n      ) || {};\n\n    if (range) {\n      if (semver.valid(range)) {\n        return getLatestVersionForSemver(depName, range);\n      }\n\n      return range;\n    }\n  }\n\n  return getLatestVersionForSemver(depName, depVersion);\n}\n\nasync function getDependencyDependencies(\n  dep: string,\n  version: string,\n  parsedResolutions: { [name: string]: IParsedResolution[] },\n  peerDependencyResult: IPeerDependencyResult = {}\n): Promise<IPeerDependencyResult> {\n  const packageJSONCode = await getPackageJSON(dep, version);\n  const packageJSON = JSON.parse(packageJSONCode);\n\n  await Promise.all(\n    Object.keys(packageJSON.dependencies || {}).map(async (depName: string) => {\n      const depVersion = packageJSON.dependencies[depName];\n\n      if (peerDependencyResult[depName]) {\n        peerDependencyResult[depName].parents.push(dep);\n        return;\n      }\n\n      const absoluteVersion = await getAbsoluteVersion(\n        dep,\n        depName,\n        depVersion,\n        parsedResolutions\n      );\n\n      // eslint-disable-next-line\n      peerDependencyResult[depName] = {\n        semver: depVersion,\n        resolved: absoluteVersion,\n        parents: [dep],\n        entries: [],\n      };\n\n      await getDependencyDependencies(\n        depName,\n        depVersion,\n        parsedResolutions,\n        peerDependencyResult\n      );\n    })\n  );\n\n  return peerDependencyResult;\n}\n\nexport async function resolveDependencyInfo(\n  dep: string,\n  version: string,\n  parsedResolutions: IParsedResolution[]\n) {\n  const packageJSONCode = await getPackageJSON(dep, version);\n  const packageJSON = JSON.parse(packageJSONCode);\n  const response: ILambdaResponse = {\n    contents: {},\n    dependency: {\n      name: dep,\n      version,\n    },\n    peerDependencies: {},\n    dependencyDependencies: {},\n    dependencyAliases: {},\n  };\n\n  const resolutionsByPackage = {};\n  parsedResolutions.forEach(res => {\n    resolutionsByPackage[res.name] = resolutionsByPackage[res.name] || [];\n    resolutionsByPackage[res.name].push(res);\n  });\n\n  response.peerDependencies = packageJSON.peerDependencies || {};\n  response.dependencyDependencies = await getDependencyDependencies(\n    dep,\n    version,\n    resolutionsByPackage\n  );\n\n  response.contents = {\n    [`/node_modules/${dep}/package.json`]: {\n      content: packageJSONCode,\n    },\n  };\n\n  return response;\n}\n","import { uniq } from 'lodash-es';\nimport * as semver from 'semver';\n\nexport interface ILambdaResponse {\n  contents: {\n    [path: string]: { content: string };\n  };\n  dependency: {\n    name: string;\n    version: string;\n  };\n  peerDependencies: {\n    [dep: string]: string;\n  };\n  dependencyDependencies: {\n    [dep: string]: {\n      semver: string;\n      resolved: string;\n      parents: string[];\n      entries: string[];\n    };\n  };\n  dependencyAliases: {\n    [dep: string]: {\n      [dep: string]: string;\n    };\n  };\n}\n\ninterface IDepDepInfo {\n  semver: string;\n  resolved: string;\n  parents: string[];\n  entries: string[];\n}\n\ninterface IResponse {\n  contents: { [path: string]: { content: string } };\n  dependencies: Array<{ name: string; version: string }>;\n  dependencyAliases: { [dep: string]: { [dep: string]: string } };\n  dependencyDependencies: {\n    [dep: string]: IDepDepInfo;\n  };\n}\n\n/**\n * Compare two sorted string arrays\n *\n * @param {string[]} s1\n * @param {string[]} s2\n * @returns\n */\nfunction isEqual(s1: string[], s2: string[]) {\n  if (s1.length !== s2.length) {\n    return false;\n  }\n\n  for (let i = 0; i < s1.length; i++) {\n    if (s1[i] !== s2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Replaces the start of a key with a new string\n *\n * @param {{ [key: string]: string }} paths\n * @param {string} oldName\n * @param {string} newName\n */\nfunction replacePaths(\n  paths: { [key: string]: any },\n  oldName: string,\n  newName: string\n) {\n  Object.keys(paths).forEach(al => {\n    if (al.startsWith(`${oldName}/`) || al === oldName) {\n      paths[al.replace(oldName, newName)] =\n        typeof paths[al] === 'string'\n          ? paths[al].replace(oldName, newName)\n          : paths[al];\n\n      delete paths[al];\n    }\n  });\n}\n\nfunction replaceDependencyInfo(\n  r: ILambdaResponse,\n  depDepName: string,\n  newDepDep: IDepDepInfo\n) {\n  if (process.env.NODE_ENV === 'development') {\n    // eslint-disable-next-line\n    console.log(\n      'Resolving conflict for ' +\n        depDepName +\n        ' new version: ' +\n        newDepDep.resolved\n    );\n  }\n\n  const newPath = `${depDepName}/${newDepDep.resolved}`;\n\n  replacePaths(\n    r.contents,\n    `/node_modules/${depDepName}`,\n    `/node_modules/${newPath}`\n  );\n\n  r.dependencyDependencies[newPath] = r.dependencyDependencies[depDepName];\n  delete r.dependencyDependencies[depDepName];\n\n  // eslint-disable-next-line\n  for (const n of Object.keys(r.dependencyDependencies)) {\n    r.dependencyDependencies[n].parents = r.dependencyDependencies[\n      n\n    ].parents.map(p => (p === depDepName ? newPath : p));\n  }\n\n  r.dependencyAliases = r.dependencyAliases || {};\n  newDepDep.parents.forEach(p => {\n    r.dependencyAliases[p] = r.dependencyAliases[p] || {};\n    r.dependencyAliases[p][depDepName] = newPath;\n  });\n  replacePaths(r.dependencyAliases, depDepName, newPath);\n}\n\nconst intersects = (v1: string, v2: string) => {\n  try {\n    return semver.intersects(v1, v2);\n  } catch (e) {\n    return false;\n  }\n};\n\nexport function mergeDependencies(responses: ILambdaResponse[]) {\n  // For consistency between requests\n  const sortedResponses = responses.sort((a, b) =>\n    a.dependency.name.localeCompare(b.dependency.name)\n  );\n\n  const response: IResponse = {\n    contents: {},\n    dependencies: sortedResponses.map(r => r.dependency),\n    dependencyAliases: {},\n    dependencyDependencies: {},\n  };\n\n  // eslint-disable-next-line\n  for (const r of sortedResponses) {\n    for (let i = 0; i < Object.keys(r.dependencyDependencies).length; i++) {\n      const depDepName = Object.keys(r.dependencyDependencies)[i];\n\n      const newDepDep = r.dependencyDependencies[depDepName];\n      const rootDependency = response.dependencies.find(\n        d => d.name === depDepName\n      );\n\n      if (\n        rootDependency &&\n        !intersects(rootDependency.version, newDepDep.semver) &&\n        rootDependency.version !== newDepDep.resolved &&\n        rootDependency.name !== r.dependency.name // and this dependency doesn't require an older version of itself\n      ) {\n        // If a root dependency is in conflict with a child dependency, we always\n        // go for the root dependency\n        replaceDependencyInfo(r, depDepName, newDepDep);\n\n        // Start from the beginning, to make sure everything is correct\n        i = -1;\n      } else if (response.dependencyDependencies[depDepName]) {\n        const exDepDep = response.dependencyDependencies[depDepName];\n\n        if (exDepDep.resolved === newDepDep.resolved) {\n          exDepDep.parents = uniq([...exDepDep.parents, ...newDepDep.parents]);\n          exDepDep.entries = uniq([...exDepDep.entries, ...newDepDep.entries]);\n        } else if (\n          intersects(exDepDep.semver, newDepDep.semver) &&\n          isEqual(exDepDep.entries, newDepDep.entries)\n        ) {\n          const replacingDepDep = semver.gt(\n            newDepDep.resolved,\n            exDepDep.resolved\n          )\n            ? newDepDep\n            : exDepDep;\n\n          response.dependencyDependencies[depDepName] = replacingDepDep;\n          response.dependencyDependencies[depDepName].parents = uniq([\n            ...exDepDep.parents,\n            ...newDepDep.parents,\n          ]);\n        } else {\n          replaceDependencyInfo(r, depDepName, newDepDep);\n          // Start from the beginning, to make sure everything is correct\n          i = -1;\n        }\n      } else {\n        response.dependencyDependencies[depDepName] =\n          r.dependencyDependencies[depDepName];\n      }\n    }\n\n    response.dependencyAliases = {\n      ...response.dependencyAliases,\n      ...r.dependencyAliases,\n    };\n    response.contents = { ...response.contents, ...r.contents };\n  }\n\n  return response;\n}\n","/**\n * Parse input strings like `package-1/package-2` to an array of packages\n */\nfunction parsePackagePath(input: string) {\n  return input.match(/(@[^/]+\\/)?([^/]+)/g) || [];\n}\n\nconst WRONG_PATTERNS = /\\/$|\\/{2,}|\\*+$/;\nconst GLOBAL_NESTED_DEP_PATTERN = '**/';\n\nfunction isValidPackagePath(input: string) {\n  return !WRONG_PATTERNS.test(input);\n}\n\nexport interface IParsedResolution {\n  name: string;\n  range: string;\n  globPattern: string;\n  pattern: string;\n}\n\nexport function parsePatternInfo(\n  globPattern: string,\n  range: string\n): IParsedResolution {\n  if (!isValidPackagePath(globPattern)) {\n    console.warn('invalidResolutionName');\n    return null;\n  }\n\n  const directories = parsePackagePath(globPattern);\n  const name = directories.pop();\n\n  // For legacy support of resolutions, replace `name` with `**/name`\n  if (name === globPattern) {\n    // eslint-disable-next-line\n    globPattern = `${GLOBAL_NESTED_DEP_PATTERN}${name}`;\n  }\n\n  return {\n    name,\n    range,\n    globPattern,\n    pattern: `${name}@${range}`,\n  };\n}\n\nexport function parseResolutions(resolutions?: {\n  [name: string]: string;\n}): IParsedResolution[] {\n  if (!resolutions) {\n    return [];\n  }\n\n  const keys = Object.keys(resolutions);\n  return keys.map(key => parsePatternInfo(key, resolutions[key]));\n}\n","import { resolveDependencyInfo } from './resolve-dependency';\nimport { mergeDependencies } from './merge-dependency';\n\nimport { parseResolutions } from './resolutions';\n\nexport async function getDependencyVersions(\n  dependencies: {\n    [depName: string]: string;\n  },\n  resolutions?: { [startGlob: string]: string }\n) {\n  const parsedResolutions = parseResolutions(resolutions);\n\n  const depInfos = await Promise.all(\n    Object.keys(dependencies).map(depName =>\n      resolveDependencyInfo(depName, dependencies[depName], parsedResolutions)\n    )\n  );\n\n  return mergeDependencies(depInfos);\n}\n","import { pickBy } from 'lodash-es';\n\nimport { fetchDependencies } from './fetch-dependencies';\nimport { getDependencyVersions } from '../version-resolving';\nimport dependenciesToQuery from './dependencies-to-query';\n\nimport setScreen from '../status-screen';\n\nlet loadedDependencyCombination: string | null = null;\nlet manifest = null;\n\ntype NPMDependencies = {\n  [dependency: string]: string;\n};\n\n/**\n * If there is a URL to a file we need to fetch the dependencies dynamically, at least\n * for the first version. In the future we might want to consider a hybrid version where\n * we only fetch the dynamic files for dependencies with a url as version. But this is a good\n * start.\n */\nfunction shouldFetchDynamically(dependencies: NPMDependencies) {\n  return Object.keys(dependencies).some(depName =>\n    dependencies[depName].includes('http')\n  );\n}\n\n/**\n * This fetches the manifest and dependencies from the\n * @param {*} dependencies\n */\nexport async function loadDependencies(\n  dependencies: NPMDependencies,\n  { disableExternalConnection = false, resolutions = undefined } = {}\n) {\n  let isNewCombination = false;\n  if (Object.keys(dependencies).length !== 0) {\n    // We filter out all @types, as they are not of any worth to the bundler\n    const dependenciesWithoutTypings = pickBy(\n      dependencies,\n      (val, key) => !(key.includes && key.includes('@types'))\n    );\n\n    const depQuery = dependenciesToQuery(dependenciesWithoutTypings);\n\n    if (loadedDependencyCombination !== depQuery) {\n      isNewCombination = true;\n\n      const fetchDynamically =\n        disableExternalConnection ||\n        shouldFetchDynamically(dependenciesWithoutTypings);\n\n      const fetchFunction = fetchDynamically\n        ? getDependencyVersions\n        : fetchDependencies;\n\n      const data = await fetchFunction(dependenciesWithoutTypings, resolutions);\n\n      // Mark that the last requested url is this\n      loadedDependencyCombination = depQuery;\n      manifest = data;\n\n      setScreen({ type: 'loading', text: 'Transpiling Modules...' });\n    }\n  } else {\n    manifest = null;\n  }\n\n  return { manifest, isNewCombination };\n}\n","import { dispatch, reattach, clearErrorTransformers } from 'codesandbox-api';\nimport { flatten } from 'lodash';\nimport { absolute } from '@codesandbox/common/lib/utils/path';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport parseConfigurations from '@codesandbox/common/lib/templates/configuration/parse';\nimport initializeErrorTransformers from 'sandbox-hooks/errors/transformers';\nimport { inject, unmount } from 'sandbox-hooks/react-error-overlay/overlay';\nimport { isBabel7 } from '@codesandbox/common/lib/utils/is-babel-7';\nimport { ParsedConfigurationFiles } from '@codesandbox/common/lib/templates/template';\nimport getDefinition, {\n  TemplateType,\n} from '@codesandbox/common/lib/templates/index';\n\nimport getPreset from './eval';\nimport Manager, { Manifest } from './eval/manager';\n\nimport { resetScreen } from './status-screen';\n\nimport createCodeSandboxOverlay from './codesandbox-overlay';\nimport handleExternalResources from './external-resources';\n\nimport defaultBoilerplates from './boilerplates/default-boilerplates';\n\nimport {\n  getBoilerplates,\n  evalBoilerplates,\n  findBoilerplate,\n} from './boilerplates'; // eslint-disable-line\n\nimport { loadDependencies } from './npm';\nimport { consumeCache, saveCache, deleteAPICache } from './eval/cache';\n\nimport { showRunOnClick } from './status-screen/run-on-click';\nimport { Module } from './eval/entities/module';\nimport TranspiledModule from './eval/transpiled-module';\n\nlet initializedResizeListener = false;\nlet manager: Manager | null = null;\nlet actionsEnabled = false;\n\nconst debug = _debug('cs:compiler');\n\nexport function areActionsEnabled() {\n  return actionsEnabled;\n}\n\nexport function getCurrentManager(): Manager | null {\n  return manager;\n}\n\nexport function getHTMLParts(html: string) {\n  if (html.includes('<body>')) {\n    const bodyMatcher = /<body>([\\s\\S]*)<\\/body>/m;\n    const headMatcher = /<head>([\\s\\S]*)<\\/head>/m;\n\n    const headMatch = html.match(headMatcher);\n    const bodyMatch = html.match(bodyMatcher);\n    const head = headMatch && headMatch[1] ? headMatch[1] : '';\n    const body = bodyMatch && bodyMatch[1] ? bodyMatch[1] : html;\n\n    return { body, head };\n  }\n\n  return { head: '', body: html };\n}\n\nfunction sendTestCount(\n  givenManager: Manager,\n  modules: { [path: string]: Module }\n) {\n  const { testRunner } = givenManager;\n  const tests = testRunner.findTests(modules);\n\n  dispatch({\n    type: 'test',\n    event: 'test_count',\n    count: tests.length,\n  });\n}\n\nlet firstLoad = true;\nlet hadError = false;\nlet lastHeadHTML = null;\nlet lastBodyHTML = null;\nlet lastHeight = 0;\nlet changedModuleCount = 0;\n\nconst DEPENDENCY_ALIASES = {\n  '@vue/cli-plugin-babel': '@vue/babel-preset-app',\n};\n\n// TODO make devDependencies lazy loaded by the packager\nconst WHITELISTED_DEV_DEPENDENCIES = [\n  'redux-devtools',\n  'redux-devtools-dock-monitor',\n  'redux-devtools-log-monitor',\n  'redux-logger',\n  'enzyme',\n  'react-addons-test-utils',\n  'react-test-renderer',\n  'identity-obj-proxy',\n];\n\nconst BABEL_DEPENDENCIES = [\n  'babel-preset-env',\n  'babel-preset-latest',\n  'babel-preset-es2015',\n  'babel-preset-es2015-loose',\n  'babel-preset-es2016',\n  'babel-preset-es2017',\n  'babel-preset-react',\n  'babel-preset-stage-0',\n  'babel-preset-stage-1',\n  'babel-preset-stage-2',\n  'babel-preset-stage-3',\n];\n\n// Dependencies that we actually don't need, we will replace this by a dynamic\n// system in the future\nconst PREINSTALLED_DEPENDENCIES = [\n  'node-libs-browser',\n  'react-scripts',\n  'react-scripts-ts',\n  'parcel-bundler',\n  'babel-plugin-check-es2015-constants',\n  'babel-plugin-external-helpers',\n  'babel-plugin-inline-replace-variables',\n  'babel-plugin-syntax-async-functions',\n  'babel-plugin-syntax-async-generators',\n  'babel-plugin-syntax-class-constructor-call',\n  'babel-plugin-syntax-class-properties',\n  'babel-plugin-syntax-decorators',\n  'babel-plugin-syntax-do-expressions',\n  'babel-plugin-syntax-exponentiation-operator',\n  'babel-plugin-syntax-export-extensions',\n  'babel-plugin-syntax-flow',\n  'babel-plugin-syntax-function-bind',\n  'babel-plugin-syntax-function-sent',\n  'babel-plugin-syntax-jsx',\n  'babel-plugin-syntax-object-rest-spread',\n  'babel-plugin-syntax-trailing-function-commas',\n  'babel-plugin-transform-async-functions',\n  'babel-plugin-transform-async-to-generator',\n  'babel-plugin-transform-async-to-module-method',\n  'babel-plugin-transform-class-constructor-call',\n  'babel-plugin-transform-class-properties',\n  'babel-plugin-transform-decorators',\n  'babel-plugin-transform-decorators-legacy',\n  'babel-plugin-transform-do-expressions',\n  'babel-plugin-transform-es2015-arrow-functions',\n  'babel-plugin-transform-es2015-block-scoped-functions',\n  'babel-plugin-transform-es2015-block-scoping',\n  'babel-plugin-transform-es2015-classes',\n  'babel-plugin-transform-es2015-computed-properties',\n  'babel-plugin-transform-es2015-destructuring',\n  'babel-plugin-transform-es2015-duplicate-keys',\n  'babel-plugin-transform-es2015-for-of',\n  'babel-plugin-transform-es2015-function-name',\n  'babel-plugin-transform-es2015-instanceof',\n  'babel-plugin-transform-es2015-literals',\n  'babel-plugin-transform-es2015-modules-amd',\n  'babel-plugin-transform-es2015-modules-commonjs',\n  'babel-plugin-transform-es2015-modules-systemjs',\n  'babel-plugin-transform-es2015-modules-umd',\n  'babel-plugin-transform-es2015-object-super',\n  'babel-plugin-transform-es2015-parameters',\n  'babel-plugin-transform-es2015-shorthand-properties',\n  'babel-plugin-transform-es2015-spread',\n  'babel-plugin-transform-es2015-sticky-regex',\n  'babel-plugin-transform-es2015-template-literals',\n  'babel-plugin-transform-es2015-typeof-symbol',\n  'babel-plugin-transform-es2015-unicode-regex',\n  'babel-plugin-transform-es3-member-expression-literals',\n  'babel-plugin-transform-es3-property-literals',\n  'babel-plugin-transform-es5-property-mutators',\n  'babel-plugin-transform-eval',\n  'babel-plugin-transform-exponentiation-operator',\n  'babel-plugin-transform-export-extensions',\n  'babel-plugin-transform-flow-comments',\n  'babel-plugin-transform-flow-strip-types',\n  'babel-plugin-transform-function-bind',\n  'babel-plugin-transform-jscript',\n  'babel-plugin-transform-object-assign',\n  'babel-plugin-transform-object-rest-spread',\n  'babel-plugin-transform-object-set-prototype-of-to-assign',\n  'babel-plugin-transform-proto-to-assign',\n  'babel-plugin-transform-react-constant-elements',\n  'babel-plugin-transform-react-display-name',\n  'babel-plugin-transform-react-inline-elements',\n  'babel-plugin-transform-react-jsx',\n  'babel-plugin-transform-react-jsx-compat',\n  'babel-plugin-transform-react-jsx-self',\n  'babel-plugin-transform-react-jsx-source',\n  'babel-plugin-transform-regenerator',\n  'babel-plugin-transform-runtime',\n  'babel-plugin-transform-strict-mode',\n  'babel-plugin-undeclared-variables-check',\n  'babel-plugin-dynamic-import-node',\n  'babel-plugin-detective',\n  'babel-plugin-transform-prevent-infinite-loops',\n  'babel-plugin-transform-vue-jsx',\n  'flow-bin',\n  ...BABEL_DEPENDENCIES,\n];\n\nfunction getDependencies(parsedPackage, templateDefinition, configurations) {\n  const {\n    dependencies: d = {},\n    peerDependencies = {},\n    devDependencies = {},\n  } = parsedPackage;\n\n  let returnedDependencies = { ...peerDependencies };\n\n  const foundWhitelistedDevDependencies = [...WHITELISTED_DEV_DEPENDENCIES];\n\n  // Add all babel plugins/presets to whitelisted dependencies\n  if (configurations && configurations.babel && configurations.babel.parsed) {\n    flatten(configurations.babel.parsed.presets || [])\n      .filter(p => typeof p === 'string')\n      .forEach((p: string) => {\n        const [first, ...parts] = p.split('/');\n        const prefixedName = p.startsWith('@')\n          ? first + '/babel-preset-' + parts.join('/')\n          : `babel-preset-${p}`;\n\n        foundWhitelistedDevDependencies.push(p);\n        foundWhitelistedDevDependencies.push(prefixedName);\n      });\n\n    flatten(configurations.babel.parsed.plugins || [])\n      .filter(p => typeof p === 'string')\n      .forEach((p: string) => {\n        const [first, ...parts] = p.split('/');\n        const prefixedName = p.startsWith('@')\n          ? first + '/babel-plugin-' + parts.join('/')\n          : `babel-plugin-${p}`;\n\n        foundWhitelistedDevDependencies.push(p);\n        foundWhitelistedDevDependencies.push(prefixedName);\n      });\n  }\n\n  Object.keys(d).forEach(dep => {\n    const usedDep = DEPENDENCY_ALIASES[dep] || dep;\n\n    if (dep === 'reason-react') {\n      return; // is replaced\n    }\n\n    returnedDependencies[usedDep] = d[dep];\n  });\n\n  Object.keys(devDependencies).forEach(dep => {\n    const usedDep = DEPENDENCY_ALIASES[dep] || dep;\n\n    if (foundWhitelistedDevDependencies.indexOf(usedDep) > -1) {\n      if (\n        usedDep === '@vue/babel-preset-app' &&\n        devDependencies[dep].startsWith('^3')\n      ) {\n        // Native modules got added in 3.7.0, we need to hardcode to latest\n        // working version of the babel plugin as a fix. https://twitter.com/notphanan/status/1122475053633941509\n        returnedDependencies[usedDep] = '3.6.0';\n        return;\n      }\n\n      returnedDependencies[usedDep] = devDependencies[dep];\n    }\n  });\n\n  const sandpackConfig =\n    (configurations.customTemplate &&\n      configurations.customTemplate.parsed &&\n      configurations.customTemplate.parsed.sandpack) ||\n    {};\n\n  const preinstalledDependencies =\n    sandpackConfig.preInstalledDependencies == null\n      ? PREINSTALLED_DEPENDENCIES\n      : sandpackConfig.preInstalledDependencies;\n\n  if (templateDefinition.name === 'reason') {\n    returnedDependencies = {\n      ...returnedDependencies,\n      '@jaredly/bs-core': '3.0.0-alpha.2',\n      '@jaredly/reason-react': '0.3.4',\n    };\n  }\n\n  // Always include this, because most sandboxes need this with babel6 and the\n  // packager will only include the package.json for it.\n  if (isBabel7(d, devDependencies)) {\n    returnedDependencies['@babel/runtime'] =\n      returnedDependencies['@babel/runtime'] || '7.3.1';\n  } else {\n    returnedDependencies['babel-runtime'] =\n      returnedDependencies['babel-runtime'] || '6.26.0';\n  }\n\n  // This is used for cache busting\n  returnedDependencies.csbbust = '1.0.0';\n\n  preinstalledDependencies.forEach(dep => {\n    if (returnedDependencies[dep]) {\n      delete returnedDependencies[dep];\n    }\n  });\n\n  return returnedDependencies;\n}\n\nasync function updateManager(\n  sandboxId: string,\n  template: TemplateType,\n  managerModules,\n  manifest: Manifest,\n  configurations: ParsedConfigurationFiles,\n  isNewCombination: boolean,\n  hasFileResolver: boolean\n): Promise<TranspiledModule[]> {\n  let newManager = false;\n  if (!manager || manager.id !== sandboxId) {\n    newManager = true;\n    manager = new Manager(sandboxId, getPreset(template), managerModules, {\n      hasFileResolver,\n    });\n  }\n\n  if (isNewCombination || newManager) {\n    manager.setManifest(manifest);\n  }\n\n  if (firstLoad && newManager) {\n    // We save the state of transpiled modules, and load it here again. Gives\n    // faster initial loads.\n    await consumeCache(manager);\n  }\n\n  manager.updateConfigurations(configurations);\n  await manager.preset.setup(manager);\n  return manager.updateData(managerModules).then(x => {\n    changedModuleCount = x.length;\n    return x;\n  });\n}\n\nfunction getDocumentHeight() {\n  const { body } = document;\n  const html = document.documentElement;\n\n  return Math.max(\n    body.scrollHeight,\n    body.offsetHeight,\n    html.clientHeight,\n    html.scrollHeight,\n    html.offsetHeight\n  );\n}\n\nfunction sendResize() {\n  const height = getDocumentHeight();\n\n  if (lastHeight !== height) {\n    if (document.body) {\n      dispatch({\n        type: 'resize',\n        height,\n      });\n    }\n  }\n\n  lastHeight = height;\n}\n\nfunction initializeResizeListener() {\n  setInterval(sendResize, 5000);\n\n  initializedResizeListener = true;\n}\n\nfunction overrideDocumentClose() {\n  const oldClose = window.document.close;\n\n  window.document.close = function close(...args) {\n    try {\n      oldClose.call(document, args);\n    } finally {\n      inject();\n      reattach();\n    }\n  };\n}\n\noverrideDocumentClose();\n\ninject();\n\ninterface CompileOptions {\n  sandboxId: string;\n  modules: { [path: string]: Module };\n  externalResources: string[];\n  hasActions?: boolean;\n  isModuleView?: boolean;\n  template: TemplateType;\n  entry: string;\n  showOpenInCodeSandbox?: boolean;\n  skipEval?: boolean;\n  hasFileResolver?: boolean;\n  disableDependencyPreprocessing?: boolean;\n}\n\nasync function compile({\n  sandboxId,\n  modules,\n  externalResources,\n  hasActions,\n  isModuleView = false,\n  template,\n  entry,\n  showOpenInCodeSandbox = false,\n  skipEval = false,\n  hasFileResolver = false,\n  disableDependencyPreprocessing = false,\n}: CompileOptions) {\n  dispatch({\n    type: 'start',\n  });\n\n  // console.trace();\n\n  const startTime = Date.now();\n  try {\n    inject();\n    clearErrorTransformers();\n    initializeErrorTransformers();\n    unmount(manager && manager.webpackHMR ? true : hadError);\n  } catch (e) {\n    console.error(e);\n  }\n\n  hadError = false;\n\n  actionsEnabled = hasActions;\n\n  let managerModuleToTranspile = null;\n  try {\n    const templateDefinition = getDefinition(template);\n    const configurations = parseConfigurations(\n      template,\n      templateDefinition.configurationFiles,\n      path => modules[path]\n    );\n\n    const errors = Object.keys(configurations)\n      .map(c => configurations[c])\n      .filter(x => x.error);\n\n    if (errors.length) {\n      const e = new Error(\n        `We weren't able to parse: '${errors[0].path}': ${\n          errors[0].error.message\n        }`\n      );\n\n      // @ts-ignore\n      e.fileName = errors[0].path;\n\n      throw e;\n    }\n\n    const packageJSON = modules['/package.json'];\n\n    if (!packageJSON) {\n      throw new Error('Could not find package.json');\n    }\n\n    const parsedPackageJSON = configurations.package.parsed;\n\n    dispatch({ type: 'status', status: 'installing-dependencies' });\n\n    const dependencies = getDependencies(\n      parsedPackageJSON,\n      templateDefinition,\n      configurations\n    );\n\n    const { manifest, isNewCombination } = await loadDependencies(\n      dependencies,\n      {\n        disableExternalConnection: disableDependencyPreprocessing,\n        resolutions: parsedPackageJSON.resolutions,\n      }\n    );\n\n    if (isNewCombination && !firstLoad) {\n      // Just reset the whole manager if it's a new combination\n      if (manager) {\n        manager.dispose();\n      }\n      manager = null;\n    }\n    const t = Date.now();\n\n    const updatedModules =\n      (await updateManager(\n        sandboxId,\n        template,\n        modules,\n        manifest,\n        configurations,\n        isNewCombination,\n        hasFileResolver\n      )) || [];\n\n    const possibleEntries = templateDefinition.getEntries(configurations);\n\n    const foundMain = isModuleView\n      ? entry\n      : possibleEntries.find(p => Boolean(modules[p]));\n\n    if (!foundMain) {\n      throw new Error(\n        `Could not find entry file: ${\n          possibleEntries[0]\n        }. You can specify one in package.json by defining a \\`main\\` property.`\n      );\n    }\n\n    const main = absolute(foundMain);\n    managerModuleToTranspile = modules[main];\n\n    // TODO: make this a separate lifecycle\n    // await manager.preset.setup(manager);\n\n    dispatch({ type: 'status', status: 'transpiling' });\n    manager.setStage('transpilation');\n\n    await manager.verifyTreeTranspiled();\n    await manager.transpileModules(managerModuleToTranspile);\n\n    debug(`Transpilation time ${Date.now() - t}ms`);\n\n    dispatch({ type: 'status', status: 'evaluating' });\n    manager.setStage('evaluation');\n\n    if (!skipEval) {\n      resetScreen();\n\n      try {\n        // We set it as a time value for people that run two sandboxes on one computer\n        // they execute at the same time and we don't want them to conflict, so we check\n        // if the message was set a second ago\n        if (\n          firstLoad &&\n          localStorage.getItem('running') &&\n          Date.now() - +localStorage.getItem('running') > 8000\n        ) {\n          localStorage.removeItem('running');\n          showRunOnClick();\n          return;\n        }\n\n        localStorage.setItem('running', '' + Date.now());\n      } catch (e) {\n        /* no */\n      }\n\n      manager.preset.preEvaluate(manager, updatedModules);\n\n      if (!manager.webpackHMR) {\n        const htmlModulePath = templateDefinition\n          .getHTMLEntries(configurations)\n          .find(p => Boolean(modules[p]));\n        const htmlModule = modules[htmlModulePath];\n\n        const { head, body } = getHTMLParts(\n          htmlModule && htmlModule.code\n            ? htmlModule.code\n            : template === 'vue-cli'\n            ? '<div id=\"app\"></div>'\n            : '<div id=\"root\"></div>'\n        );\n\n        if (lastHeadHTML && lastHeadHTML !== head) {\n          document.location.reload();\n        }\n        if (manager && lastBodyHTML && lastBodyHTML !== body) {\n          manager.clearCompiledCache();\n        }\n\n        if (\n          !manager.preset.htmlDisabled ||\n          !firstLoad ||\n          process.env.LOCAL_SERVER\n        ) {\n          // The HTML is loaded from the server as a static file, no need to set the innerHTML of the body\n          // on the first run.\n          document.body.innerHTML = body;\n        }\n        lastBodyHTML = body;\n        lastHeadHTML = head;\n      }\n\n      const extDate = Date.now();\n      await handleExternalResources(externalResources);\n      debug('Loaded external resources in ' + (Date.now() - extDate) + 'ms');\n\n      const tt = Date.now();\n      const oldHTML = document.body.innerHTML;\n      const evalled = manager.evaluateModule(managerModuleToTranspile, {\n        force: isModuleView,\n      });\n      debug(`Evaluation time: ${Date.now() - tt}ms`);\n      const domChanged =\n        !manager.preset.htmlDisabled && oldHTML !== document.body.innerHTML;\n\n      if (\n        isModuleView &&\n        !domChanged &&\n        !managerModuleToTranspile.path.endsWith('.html')\n      ) {\n        const isReact =\n          managerModuleToTranspile.code &&\n          managerModuleToTranspile.code.includes('React');\n\n        if (isReact && evalled) {\n          // initiate boilerplates\n          if (getBoilerplates().length === 0) {\n            try {\n              await evalBoilerplates(defaultBoilerplates);\n            } catch (e) {\n              // eslint-disable-next-line no-console\n              console.log(\"Couldn't load all boilerplates: \" + e.message);\n            }\n          }\n\n          const boilerplate = findBoilerplate(managerModuleToTranspile);\n\n          if (boilerplate) {\n            try {\n              boilerplate.module.default(evalled);\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        }\n      }\n    }\n\n    await manager.preset.teardown(manager, updatedModules);\n\n    if (!initializedResizeListener && !manager.preset.htmlDisabled) {\n      initializeResizeListener();\n    }\n\n    if (showOpenInCodeSandbox) {\n      createCodeSandboxOverlay(modules);\n    }\n\n    debug(`Total time: ${Date.now() - startTime}ms`);\n\n    dispatch({\n      type: 'success',\n    });\n\n    saveCache(\n      sandboxId,\n      managerModuleToTranspile,\n      manager,\n      changedModuleCount,\n      firstLoad\n    );\n\n    setTimeout(() => {\n      try {\n        sendTestCount(manager, modules);\n      } catch (e) {\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Test error', e);\n        }\n      }\n    }, 600);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log('Error in sandbox:');\n    console.error(e);\n\n    if (manager) {\n      manager.clearCache();\n\n      if (firstLoad && changedModuleCount === 0) {\n        await deleteAPICache(manager.id);\n      }\n    }\n\n    if (firstLoad) {\n      inject();\n    }\n\n    const event = new Event('error');\n    // @ts-ignore\n    event.error = e;\n\n    window.dispatchEvent(event);\n\n    hadError = true;\n  } finally {\n    try {\n      setTimeout(() => {\n        // Set a timeout so there's a chance that we also catch runtime errors\n        localStorage.removeItem('running');\n      }, 600);\n    } catch (e) {\n      /* no */\n    }\n\n    if (manager) {\n      const managerState = {\n        ...(await manager.serialize({ optimizeForSize: false })),\n      };\n      delete managerState.cachedPaths;\n      managerState.entry = managerModuleToTranspile\n        ? managerModuleToTranspile.path\n        : null;\n\n      dispatch({\n        type: 'state',\n        state: managerState,\n      });\n    }\n  }\n  firstLoad = false;\n\n  dispatch({ type: 'status', status: 'idle' });\n  dispatch({ type: 'done', compilatonError: hadError });\n\n  if (typeof (window as any).__puppeteer__ === 'function') {\n    (window as any).__puppeteer__('done');\n  }\n}\n\nconst tasks: CompileOptions[] = [];\nlet runningTask = false;\n\nasync function executeTaskIfAvailable() {\n  if (tasks.length) {\n    const task = tasks.pop();\n\n    runningTask = true;\n    await compile(task);\n    runningTask = false;\n\n    executeTaskIfAvailable();\n  }\n}\n\n/**\n * We want to ensure that no tasks (commands from the editor) are run in parallel,\n * this could result in state inconsistency. That's why we execute tasks after eachother,\n * and if there are 3 tasks we will remove the second task, this one is unnecessary as it is not the\n * latest version.\n */\nexport default function queueTask(data: CompileOptions) {\n  tasks[0] = data;\n\n  if (!runningTask) {\n    executeTaskIfAvailable();\n  }\n}\n","import html from '!raw-loader!./run-on-click-screen.html';\nimport { createOverlay } from './overlay-manager';\n\nexport function showRunOnClick() {\n  // eslint-disable-next-line\n  return new Promise(async () => {\n    const iframe = await createOverlay(html);\n\n    iframe.contentDocument.body.addEventListener('click', () => {\n      document.location.reload();\n    });\n  });\n}\n","module.exports = {\n  'stdlib/reasonReact': '@jaredly/reason-react/lib/js/src/ReasonReact.js',\n  'stdlib/reasonReactOptimizedCreateClass':\n    '@jaredly/reason-react/lib/js/src/ReasonReactOptimizedCreateClass.js',\n  'stdlib/reactEventRe': '@jaredly/reason-react/lib/js/src/ReactEventRe.js',\n  'stdlib/reactDOMServerRe':\n    '@jaredly/reason-react/lib/js/src/ReactDOMServerRe.js',\n  'stdlib/reactDOMRe': '@jaredly/reason-react/lib/js/src/ReactDOMRe.js',\n  'stdlib/belt_MutableSet': '@jaredly/bs-core/lib/js/belt_MutableSet.js',\n  'stdlib/belt_MutableStack': '@jaredly/bs-core/lib/js/belt_MutableStack.js',\n  'stdlib/js_unsafe': '@jaredly/bs-core/lib/js/js_unsafe.js',\n  'stdlib/caml_string': '@jaredly/bs-core/lib/js/caml_string.js',\n  'stdlib/belt_internalMapString':\n    '@jaredly/bs-core/lib/js/belt_internalMapString.js',\n  'stdlib/belt_Id': '@jaredly/bs-core/lib/js/belt_Id.js',\n  'stdlib/caml_module': '@jaredly/bs-core/lib/js/caml_module.js',\n  'stdlib/js_internal': '@jaredly/bs-core/lib/js/js_internal.js',\n  'stdlib/char': '@jaredly/bs-core/lib/js/char.js',\n  'stdlib/js': '@jaredly/bs-core/lib/js/js.js',\n  'stdlib/caml_gc': '@jaredly/bs-core/lib/js/caml_gc.js',\n  'stdlib/js_null': '@jaredly/bs-core/lib/js/js_null.js',\n  'stdlib/belt_HashMapString': '@jaredly/bs-core/lib/js/belt_HashMapString.js',\n  'stdlib/int64': '@jaredly/bs-core/lib/js/int64.js',\n  'stdlib/sort': '@jaredly/bs-core/lib/js/sort.js',\n  'stdlib/belt_SortArrayInt': '@jaredly/bs-core/lib/js/belt_SortArrayInt.js',\n  'stdlib/caml_basic': '@jaredly/bs-core/lib/js/caml_basic.js',\n  'stdlib/js_result': '@jaredly/bs-core/lib/js/js_result.js',\n  'stdlib/caml_utils': '@jaredly/bs-core/lib/js/caml_utils.js',\n  'stdlib/js_promise': '@jaredly/bs-core/lib/js/js_promise.js',\n  'stdlib/js_obj': '@jaredly/bs-core/lib/js/js_obj.js',\n  'stdlib/belt_Map': '@jaredly/bs-core/lib/js/belt_Map.js',\n  'stdlib/js_console': '@jaredly/bs-core/lib/js/js_console.js',\n  'stdlib/caml_backtrace': '@jaredly/bs-core/lib/js/caml_backtrace.js',\n  'stdlib/oo': '@jaredly/bs-core/lib/js/oo.js',\n  'stdlib/caml_hash': '@jaredly/bs-core/lib/js/caml_hash.js',\n  'stdlib/belt_SortArray': '@jaredly/bs-core/lib/js/belt_SortArray.js',\n  'stdlib/random': '@jaredly/bs-core/lib/js/random.js',\n  'stdlib/stream': '@jaredly/bs-core/lib/js/stream.js',\n  'stdlib/belt_SetDict': '@jaredly/bs-core/lib/js/belt_SetDict.js',\n  'stdlib/caml_int32': '@jaredly/bs-core/lib/js/caml_int32.js',\n  'stdlib/format': '@jaredly/bs-core/lib/js/format.js',\n  'stdlib/stringLabels': '@jaredly/bs-core/lib/js/stringLabels.js',\n  'stdlib/belt_MutableSetString':\n    '@jaredly/bs-core/lib/js/belt_MutableSetString.js',\n  'stdlib/stdLabels': '@jaredly/bs-core/lib/js/stdLabels.js',\n  'stdlib/caml_lexer': '@jaredly/bs-core/lib/js/caml_lexer.js',\n  'stdlib/printf': '@jaredly/bs-core/lib/js/printf.js',\n  'stdlib/unixLabels': '@jaredly/bs-core/lib/js/unixLabels.js',\n  'stdlib/bs_obj': '@jaredly/bs-core/lib/js/bs_obj.js',\n  'stdlib/moreLabels': '@jaredly/bs-core/lib/js/moreLabels.js',\n  'stdlib/js_mapperRt': '@jaredly/bs-core/lib/js/js_mapperRt.js',\n  'stdlib/belt_Set': '@jaredly/bs-core/lib/js/belt_Set.js',\n  'stdlib/js_types': '@jaredly/bs-core/lib/js/js_types.js',\n  'stdlib/caml_oo': '@jaredly/bs-core/lib/js/caml_oo.js',\n  'stdlib/belt_internalMapInt':\n    '@jaredly/bs-core/lib/js/belt_internalMapInt.js',\n  'stdlib/pervasives': '@jaredly/bs-core/lib/js/pervasives.js',\n  'stdlib/scanf': '@jaredly/bs-core/lib/js/scanf.js',\n  'stdlib/std_exit': '@jaredly/bs-core/lib/js/std_exit.js',\n  'stdlib/belt': '@jaredly/bs-core/lib/js/belt.js',\n  'stdlib/caml_parser': '@jaredly/bs-core/lib/js/caml_parser.js',\n  'stdlib/js_cast': '@jaredly/bs-core/lib/js/js_cast.js',\n  'stdlib/belt_internalAVLset':\n    '@jaredly/bs-core/lib/js/belt_internalAVLset.js',\n  'stdlib/belt_HashSetInt': '@jaredly/bs-core/lib/js/belt_HashSetInt.js',\n  'stdlib/belt_MutableMapString':\n    '@jaredly/bs-core/lib/js/belt_MutableMapString.js',\n  'stdlib/caml_array': '@jaredly/bs-core/lib/js/caml_array.js',\n  'stdlib/belt_MutableSetInt': '@jaredly/bs-core/lib/js/belt_MutableSetInt.js',\n  'stdlib/digest': '@jaredly/bs-core/lib/js/digest.js',\n  'stdlib/marshal': '@jaredly/bs-core/lib/js/marshal.js',\n  'stdlib/belt_List': '@jaredly/bs-core/lib/js/belt_List.js',\n  'stdlib/caml_weak': '@jaredly/bs-core/lib/js/caml_weak.js',\n  'stdlib/js_string': '@jaredly/bs-core/lib/js/js_string.js',\n  'stdlib/callback': '@jaredly/bs-core/lib/js/callback.js',\n  'stdlib/queue': '@jaredly/bs-core/lib/js/queue.js',\n  'stdlib/camlinternalMod': '@jaredly/bs-core/lib/js/camlinternalMod.js',\n  'stdlib/caml_bytes': '@jaredly/bs-core/lib/js/caml_bytes.js',\n  'stdlib/camlinternalFormatBasics':\n    '@jaredly/bs-core/lib/js/camlinternalFormatBasics.js',\n  'stdlib/belt_MutableMap': '@jaredly/bs-core/lib/js/belt_MutableMap.js',\n  'stdlib/belt_internalSetInt':\n    '@jaredly/bs-core/lib/js/belt_internalSetInt.js',\n  'stdlib/belt_Array': '@jaredly/bs-core/lib/js/belt_Array.js',\n  'stdlib/caml_io': '@jaredly/bs-core/lib/js/caml_io.js',\n  'stdlib/camlinternalLazy': '@jaredly/bs-core/lib/js/camlinternalLazy.js',\n  'stdlib/gc': '@jaredly/bs-core/lib/js/gc.js',\n  'stdlib/belt_HashSetString': '@jaredly/bs-core/lib/js/belt_HashSetString.js',\n  'stdlib/belt_internalBuckets':\n    '@jaredly/bs-core/lib/js/belt_internalBuckets.js',\n  'stdlib/belt_HashMapInt': '@jaredly/bs-core/lib/js/belt_HashMapInt.js',\n  'stdlib/parsing': '@jaredly/bs-core/lib/js/parsing.js',\n  'stdlib/js_list': '@jaredly/bs-core/lib/js/js_list.js',\n  'stdlib/belt_MutableMapInt': '@jaredly/bs-core/lib/js/belt_MutableMapInt.js',\n  'stdlib/bs_string': '@jaredly/bs-core/lib/js/bs_string.js',\n  'stdlib/caml_primitive': '@jaredly/bs-core/lib/js/caml_primitive.js',\n  'stdlib/belt_internalSetString':\n    '@jaredly/bs-core/lib/js/belt_internalSetString.js',\n  'stdlib/js_boolean': '@jaredly/bs-core/lib/js/js_boolean.js',\n  'stdlib/list': '@jaredly/bs-core/lib/js/list.js',\n  'stdlib/js_float': '@jaredly/bs-core/lib/js/js_float.js',\n  'stdlib/js_int': '@jaredly/bs-core/lib/js/js_int.js',\n  'stdlib/unix': '@jaredly/bs-core/lib/js/unix.js',\n  'stdlib/js_int64': '@jaredly/bs-core/lib/js/js_int64.js',\n  'stdlib/set': '@jaredly/bs-core/lib/js/set.js',\n  'stdlib/array': '@jaredly/bs-core/lib/js/array.js',\n  'stdlib/arrayLabels': '@jaredly/bs-core/lib/js/arrayLabels.js',\n  'stdlib/bytes': '@jaredly/bs-core/lib/js/bytes.js',\n  'stdlib/caml_queue': '@jaredly/bs-core/lib/js/caml_queue.js',\n  'stdlib/caml_missing_polyfill':\n    '@jaredly/bs-core/lib/js/caml_missing_polyfill.js',\n  'stdlib/lazy': '@jaredly/bs-core/lib/js/lazy.js',\n  'stdlib/node': '@jaredly/bs-core/lib/js/node.js',\n  'stdlib/string': '@jaredly/bs-core/lib/js/string.js',\n  'stdlib/block': '@jaredly/bs-core/lib/js/block.js',\n  'stdlib/js_math': '@jaredly/bs-core/lib/js/js_math.js',\n  'stdlib/js_dict': '@jaredly/bs-core/lib/js/js_dict.js',\n  'stdlib/arg': '@jaredly/bs-core/lib/js/arg.js',\n  'stdlib/belt_MapInt': '@jaredly/bs-core/lib/js/belt_MapInt.js',\n  'stdlib/belt_internalAVLtree':\n    '@jaredly/bs-core/lib/js/belt_internalAVLtree.js',\n  'stdlib/belt_HashMap': '@jaredly/bs-core/lib/js/belt_HashMap.js',\n  'stdlib/js_global': '@jaredly/bs-core/lib/js/js_global.js',\n  'stdlib/belt_MutableQueue': '@jaredly/bs-core/lib/js/belt_MutableQueue.js',\n  'stdlib/js_null_undefined': '@jaredly/bs-core/lib/js/js_null_undefined.js',\n  'stdlib/js_option': '@jaredly/bs-core/lib/js/js_option.js',\n  'stdlib/caml_format': '@jaredly/bs-core/lib/js/caml_format.js',\n  'stdlib/printexc': '@jaredly/bs-core/lib/js/printexc.js',\n  'stdlib/genlex': '@jaredly/bs-core/lib/js/genlex.js',\n  'stdlib/caml_exceptions': '@jaredly/bs-core/lib/js/caml_exceptions.js',\n  'stdlib/weak': '@jaredly/bs-core/lib/js/weak.js',\n  'stdlib/sys': '@jaredly/bs-core/lib/js/sys.js',\n  'stdlib/filename': '@jaredly/bs-core/lib/js/filename.js',\n  'stdlib/caml_obj': '@jaredly/bs-core/lib/js/caml_obj.js',\n  'stdlib/belt_MapDict': '@jaredly/bs-core/lib/js/belt_MapDict.js',\n  'stdlib/complex': '@jaredly/bs-core/lib/js/complex.js',\n  'stdlib/js_exn': '@jaredly/bs-core/lib/js/js_exn.js',\n  'stdlib/hashtbl': '@jaredly/bs-core/lib/js/hashtbl.js',\n  'stdlib/belt_MapString': '@jaredly/bs-core/lib/js/belt_MapString.js',\n  'stdlib/js_json': '@jaredly/bs-core/lib/js/js_json.js',\n  'stdlib/js_vector': '@jaredly/bs-core/lib/js/js_vector.js',\n  'stdlib/js_date': '@jaredly/bs-core/lib/js/js_date.js',\n  'stdlib/belt_SetInt': '@jaredly/bs-core/lib/js/belt_SetInt.js',\n  'stdlib/caml_sys': '@jaredly/bs-core/lib/js/caml_sys.js',\n  'stdlib/js_nativeint': '@jaredly/bs-core/lib/js/js_nativeint.js',\n  'stdlib/js_undefined': '@jaredly/bs-core/lib/js/js_undefined.js',\n  'stdlib/caml_int64': '@jaredly/bs-core/lib/js/caml_int64.js',\n  'stdlib/caml_md5': '@jaredly/bs-core/lib/js/caml_md5.js',\n  'stdlib/caml_oo_curry': '@jaredly/bs-core/lib/js/caml_oo_curry.js',\n  'stdlib/belt_SetString': '@jaredly/bs-core/lib/js/belt_SetString.js',\n  'stdlib/caml_float': '@jaredly/bs-core/lib/js/caml_float.js',\n  'stdlib/bigarray': '@jaredly/bs-core/lib/js/bigarray.js',\n  'stdlib/caml_builtin_exceptions':\n    '@jaredly/bs-core/lib/js/caml_builtin_exceptions.js',\n  'stdlib/obj': '@jaredly/bs-core/lib/js/obj.js',\n  'stdlib/js_typed_array': '@jaredly/bs-core/lib/js/js_typed_array.js',\n  'stdlib/map': '@jaredly/bs-core/lib/js/map.js',\n  'stdlib/int32': '@jaredly/bs-core/lib/js/int32.js',\n  'stdlib/listLabels': '@jaredly/bs-core/lib/js/listLabels.js',\n  'stdlib/belt_Range': '@jaredly/bs-core/lib/js/belt_Range.js',\n  'stdlib/belt_Option': '@jaredly/bs-core/lib/js/belt_Option.js',\n  'stdlib/js_array': '@jaredly/bs-core/lib/js/js_array.js',\n  'stdlib/camlinternalFormat': '@jaredly/bs-core/lib/js/camlinternalFormat.js',\n  'stdlib/nativeint': '@jaredly/bs-core/lib/js/nativeint.js',\n  'stdlib/lexing': '@jaredly/bs-core/lib/js/lexing.js',\n  'stdlib/js_primitive': '@jaredly/bs-core/lib/js/js_primitive.js',\n  'stdlib/camlinternalOO': '@jaredly/bs-core/lib/js/camlinternalOO.js',\n  'stdlib/belt_SortArrayString':\n    '@jaredly/bs-core/lib/js/belt_SortArrayString.js',\n  'stdlib/buffer': '@jaredly/bs-core/lib/js/buffer.js',\n  'stdlib/bytesLabels': '@jaredly/bs-core/lib/js/bytesLabels.js',\n  'stdlib/belt_internalBucketsType':\n    '@jaredly/bs-core/lib/js/belt_internalBucketsType.js',\n  'stdlib/curry': '@jaredly/bs-core/lib/js/curry.js',\n  'stdlib/belt_internalSetBuckets':\n    '@jaredly/bs-core/lib/js/belt_internalSetBuckets.js',\n  'stdlib/belt_HashSet': '@jaredly/bs-core/lib/js/belt_HashSet.js',\n  'stdlib/stack': '@jaredly/bs-core/lib/js/stack.js',\n  'bs-platform': '@jaredly/bs-core',\n};\n","/* eslint-disable */\nconst specialValues = {\n  null: null,\n  true: true,\n  false: false,\n};\n\nexport default function parseQuery(query) {\n  if (query.substr(0, 1) !== '?') {\n    throw new Error(\n      \"A valid query string passed to parseQuery should begin with '?'\"\n    );\n  }\n  query = query.substr(1);\n  if (!query) {\n    return {};\n  }\n  if (query.substr(0, 1) === '{' && query.substr(-1) === '}') {\n    return JSON.parse(query);\n  }\n  const queryArgs = query.split(/[,&]/g);\n  const result = {};\n  queryArgs.forEach(arg => {\n    const idx = arg.indexOf('=');\n    if (idx >= 0) {\n      let name = arg.substr(0, idx);\n      let value = decodeURIComponent(arg.substr(idx + 1));\n      if (specialValues.hasOwnProperty(value)) {\n        value = specialValues[value];\n      }\n      if (name.substr(-2) === '[]') {\n        name = decodeURIComponent(name.substr(0, name.length - 2));\n        if (!Array.isArray(result[name])) result[name] = [];\n        result[name].push(value);\n      } else {\n        name = decodeURIComponent(name);\n        result[name] = value;\n      }\n    } else {\n      if (arg.substr(0, 1) === '-') {\n        result[decodeURIComponent(arg.substr(1))] = false;\n      } else if (arg.substr(0, 1) === '+') {\n        result[decodeURIComponent(arg.substr(1))] = true;\n      } else {\n        result[decodeURIComponent(arg)] = true;\n      }\n    }\n  });\n  return result;\n}\n","import path from 'path';\n\nconst matchRelativePath = /^\\.\\.?[/\\\\]/;\n\nfunction isAbsolutePath(str) {\n  return str.startsWith('/');\n}\n\nfunction isRelativePath(str) {\n  return matchRelativePath.test(str);\n}\n\nexport default function stringifyRequest(loaderContext, request) {\n  const splitted = request.split('!');\n  const context =\n    loaderContext.context ||\n    (loaderContext.options && loaderContext.options.context);\n  return JSON.stringify(\n    splitted\n      .map(part => {\n        // First, separate singlePath from query, because the query might contain paths again\n        const splittedPart = part.match(/^(.*?)(\\?.*)/);\n        let singlePath = splittedPart ? splittedPart[1] : part;\n        const query = splittedPart ? splittedPart[2] : '';\n        if (isAbsolutePath(singlePath) && context) {\n          singlePath = path.relative(context, singlePath);\n          if (isAbsolutePath(singlePath)) {\n            // If singlePath still matches an absolute path, singlePath was on a different drive than context.\n            // In this case, we leave the path platform-specific without replacing any separators.\n            // @see https://github.com/webpack/loader-utils/pull/14\n            return singlePath + query;\n          }\n          if (isRelativePath(singlePath) === false) {\n            // Ensure that the relative path starts at least with ./ otherwise it would be a request into the modules directory (like node_modules).\n            singlePath = './' + singlePath;\n          }\n        }\n        return singlePath.replace(/\\\\/g, '/') + query;\n      })\n      .join('!')\n  );\n}\n","import parseQuery from './parse-query';\nimport stringifyRequest from './stringify-request';\nimport getRemainingRequest from './get-remaining-request';\n\nexport default {\n  getRemainingRequest,\n  parseQuery,\n  stringifyRequest,\n};\n","export default function getRemainingRequest(loaderContext) {\n  if (loaderContext.remainingRequests) return loaderContext.remainingRequests;\n  const request = loaderContext.loaders\n    .slice(loaderContext.loaderIndex + 1)\n    .map(obj => obj.request)\n    .concat([loaderContext.resource]);\n  return request.join('!');\n}\n","import { camelizeKeys } from 'humps';\nimport { isStandalone, listen, dispatch } from 'codesandbox-api';\nimport { activate, initialize } from 'react-devtools-inline/backend';\nimport _debug from '@codesandbox/common/lib/utils/debug';\n\nimport registerServiceWorker from '@codesandbox/common/lib/registerServiceWorker';\nimport requirePolyfills from '@codesandbox/common/lib/load-dynamic-polyfills';\nimport { getModulePath } from '@codesandbox/common/lib/sandbox/modules';\nimport { generateFileFromSandbox } from '@codesandbox/common/lib/templates/configuration/package-json';\nimport { getSandboxId } from '@codesandbox/common/lib/utils/url-generator';\nimport setupConsole from 'sandbox-hooks/console';\nimport setupHistoryListeners from 'sandbox-hooks/url-listeners';\n\nimport compile, { getCurrentManager } from './compile';\n\n// var util = require('util')\n//   , Agent = require('http').Agent\n//   , net = require('net')\n//   , tls = require('tls')\n//   , AgentSSL = require('https').Agent\n\n// Call this before importing React (or any other packages that might import React).\ninitialize(window);\n\nconst host = process.env.CODESANDBOX_HOST;\nconst debug = _debug('cs:sandbox');\n\nexport const SCRIPT_VERSION =\n  document.currentScript && document.currentScript.src;\n\ndebug('Booting sandbox');\n\nrequirePolyfills().then(() => {\n  registerServiceWorker('/sandbox-service-worker.js', {});\n\n  function sendReady() {\n    dispatch({ type: 'initialized' });\n  }\n\n  async function handleMessage(data, source) {\n    if (source) {\n      if (data.type === 'compile') {\n        console.log(data);\n        compile(data);\n      } else if (data.type === 'get-transpiler-context') {\n        const manager = getCurrentManager();\n\n        if (manager) {\n          const context = await manager.getTranspilerContext();\n          dispatch({\n            type: 'transpiler-context',\n            data: context,\n          });\n        } else {\n          dispatch({\n            type: 'transpiler-context',\n            data: {},\n          });\n        }\n      }\n    }\n  }\n\n  if (!isStandalone) {\n\n    listen(handleMessage);\n\n    sendReady();\n    \n    if (!window.opener) {\n\n      // Means we're in the editor\n      setupHistoryListeners();\n      setupConsole();\n      window.addEventListener('message', ({ data }) => {\n        switch (data.type) {\n          case 'activate':\n            activate(window);\n            break;\n          default:\n            break;\n        }\n      });\n    }\n  }\n\n  if (process.env.NODE_ENV === 'test' || isStandalone) {\n    // We need to fetch the sandbox ourselves...\n    const id = getSandboxId();\n    window\n      .fetch(host + `/api/v1/sandboxes/${id}`, {\n        credentials: 'include',\n      })\n      .then(res => res.json())\n      .then(res => {\n        const camelized = camelizeKeys(res);\n        camelized.data.npmDependencies = res.data.npm_dependencies;\n\n        return camelized;\n      })\n      .then(x => {\n        const moduleObject = {};\n\n        // We convert the modules to a format the manager understands\n\n        console.log(x);\n\n        x.data.modules.forEach(m => {\n          const path = getModulePath(x.data.modules, x.data.directories, m.id);\n          moduleObject[path] = {\n            path,\n            code: m.code,\n          };\n        });\n\n        if (!moduleObject['/package.json']) {\n          moduleObject['/package.json'] = {\n            code: generateFileFromSandbox(x.data),\n            path: '/package.json',\n          };\n        }\n\n        const data = {\n          sandboxId: id,\n          modules: moduleObject,\n          entry: '/' + x.data.entry,\n          externalResources: x.data.externalResources,\n          dependencies: x.data.npmDependencies,\n          hasActions: false,\n          template: x.data.template,\n          version: 3,\n          disableDependencyPreprocessing: document.location.search.includes(\n            'csb-dynamic-download'\n          ),\n        };\n\n        compile(data);\n      });\n  }\n});\n","module.exports = jsdom;"],"sourceRoot":""}